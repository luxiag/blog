<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.73" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://luxiag.github.io/luxiag/blog/mysql/base.html"><meta property="og:title" content="MySQL数据库入门整理笔记"><meta property="og:description" content="启动MySQL客户端程序 /bin目录下mysql执行文件输入命令 参数 描述 示例 -u root 以 root 用户身份连接 mysql -u root -p 提示输入密码 mysql -u root -p -h 127.0.0.1 连接到本地主机 mysql -u root -h 127.0.0.1 -P 3306 使用默认端口 3306 mys..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:updated_time" content="2025-05-06T13:43:02.000Z"><meta property="article:tag" content="SQL"><meta property="article:published_time" content="2025-04-28T00:00:00.000Z"><meta property="article:modified_time" content="2025-05-06T13:43:02.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQL数据库入门整理笔记","image":[""],"datePublished":"2025-04-28T00:00:00.000Z","dateModified":"2025-05-06T13:43:02.000Z","author":[{"@type":"Person","name":"luxiag","url":"https://luxiag.github.io/luxiag"}]}</script><link rel="preconnect" href="https://rsms.me/"><link rel="stylesheet" href="https://rsms.me/inter/inter.css"><link rel="icon" href="/blog/favicon.ico"><title>MySQL数据库入门整理笔记</title><meta name="description" content="启动MySQL客户端程序 /bin目录下mysql执行文件输入命令 参数 描述 示例 -u root 以 root 用户身份连接 mysql -u root -p 提示输入密码 mysql -u root -p -h 127.0.0.1 连接到本地主机 mysql -u root -h 127.0.0.1 -P 3306 使用默认端口 3306 mys...">
    <link rel="preload" href="/blog/assets/style-Cmorpwo_.css" as="style"><link rel="stylesheet" href="/blog/assets/style-Cmorpwo_.css">
    <link rel="modulepreload" href="/blog/assets/app-DPJYBgB6.js"><link rel="modulepreload" href="/blog/assets/base.html-CSWsjNZU.js">
    <link rel="prefetch" href="/blog/assets/index.html-CGXcSwtF.js" as="script"><link rel="prefetch" href="/blog/assets/plan.html-Dqc5zTyt.js" as="script"><link rel="prefetch" href="/blog/assets/how-gpt-work.html-70wzPd1o.js" as="script"><link rel="prefetch" href="/blog/assets/transformer.html-CJqSD_wY.js" as="script"><link rel="prefetch" href="/blog/assets/browsers-rendering.html-BJlvy5FU.js" as="script"><link rel="prefetch" href="/blog/assets/how-browsers-work.html-COl0M3hR.js" as="script"><link rel="prefetch" href="/blog/assets/implementation-mechanism.html-L6bwz1bC.js" as="script"><link rel="prefetch" href="/blog/assets/page.html-S0r2UWZR.js" as="script"><link rel="prefetch" href="/blog/assets/storage.html-D2t4IY0-.js" as="script"><link rel="prefetch" href="/blog/assets/Dijkstra's-algorithm.html-CFXfRRYw.js" as="script"><link rel="prefetch" href="/blog/assets/binary-search.html-1dAaYnL0.js" as="script"><link rel="prefetch" href="/blog/assets/double_pointer.html-BiJwb5yw.js" as="script"><link rel="prefetch" href="/blog/assets/dynamic-programming.html-apXyGRyi.js" as="script"><link rel="prefetch" href="/blog/assets/greedy-alogrithm.html-DUxdzg25.js" as="script"><link rel="prefetch" href="/blog/assets/hash-table.html-DWQ_OVX-.js" as="script"><link rel="prefetch" href="/blog/assets/k-nearest-neighbor.html-DjxvaKup.js" as="script"><link rel="prefetch" href="/blog/assets/large-o-notation.html-048oXZgY.js" as="script"><link rel="prefetch" href="/blog/assets/linear-programming.html-ryb84C-f.js" as="script"><link rel="prefetch" href="/blog/assets/preferential-traversal.html-CwPAvgt9.js" as="script"><link rel="prefetch" href="/blog/assets/quick-sort.html-B5uvQzhu.js" as="script"><link rel="prefetch" href="/blog/assets/select-sort.html-CUcGO7FM.js" as="script"><link rel="prefetch" href="/blog/assets/sort.html-I9z5YhhH.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-D_KXUS3S.js" as="script"><link rel="prefetch" href="/blog/assets/fabric-base.html-DycWP_Rr.js" as="script"><link rel="prefetch" href="/blog/assets/fabricjs.html-DHKxu4xW.js" as="script"><link rel="prefetch" href="/blog/assets/animation.html-mxKwe7kx.js" as="script"><link rel="prefetch" href="/blog/assets/bem.html-Bal_yUYh.js" as="script"><link rel="prefetch" href="/blog/assets/clear-float.html-DMgv30H-.js" as="script"><link rel="prefetch" href="/blog/assets/color-system.html-fiIJ0XIV.js" as="script"><link rel="prefetch" href="/blog/assets/date-type.html-DwtnE7P8.js" as="script"><link rel="prefetch" href="/blog/assets/fixed-aspect-ratio.html-CJ2Iup5j.js" as="script"><link rel="prefetch" href="/blog/assets/formatting-context.html-C-Ihcz_P.js" as="script"><link rel="prefetch" href="/blog/assets/layout.html-cEf1FiO3.js" as="script"><link rel="prefetch" href="/blog/assets/visual-formatting-model.html-BQbYEMC6.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-DvRVCXZj.js" as="script"><link rel="prefetch" href="/blog/assets/docker-file.html-CmpzH4ax.js" as="script"><link rel="prefetch" href="/blog/assets/guide.html-BsKxc_U5.js" as="script"><link rel="prefetch" href="/blog/assets/mysql.html-HeVIWwTC.js" as="script"><link rel="prefetch" href="/blog/assets/ModernWMS.html-CNWwdD52.js" as="script"><link rel="prefetch" href="/blog/assets/authentication.html-DFVDgabW.js" as="script"><link rel="prefetch" href="/blog/assets/auto-mapper.html-yLviIWmI.js" as="script"><link rel="prefetch" href="/blog/assets/configure-system.html-CsYcxZ3K.js" as="script"><link rel="prefetch" href="/blog/assets/dependency-injection-usage.html-BaZLrGTi.js" as="script"><link rel="prefetch" href="/blog/assets/entify-framework-core.html-BDLV0XDh.js" as="script"><link rel="prefetch" href="/blog/assets/filters.html-CfG4PZKJ.js" as="script"><link rel="prefetch" href="/blog/assets/generic.html-BAPwTyTU.js" as="script"><link rel="prefetch" href="/blog/assets/get.html-BuJT5XW7.js" as="script"><link rel="prefetch" href="/blog/assets/ioc.html-DuPWbaw8.js" as="script"><link rel="prefetch" href="/blog/assets/linq.html-exl7nVes.js" as="script"><link rel="prefetch" href="/blog/assets/options.html-DTwgYH3L.js" as="script"><link rel="prefetch" href="/blog/assets/post.html-DRZvigUT.js" as="script"><link rel="prefetch" href="/blog/assets/restful.html-vreIOL01.js" as="script"><link rel="prefetch" href="/blog/assets/routing.html-BJnJrVXB.js" as="script"><link rel="prefetch" href="/blog/assets/webapi.html-DQVsc82G.js" as="script"><link rel="prefetch" href="/blog/assets/greedy-snake.html-BYwhiEkG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CKgKC84L.js" as="script"><link rel="prefetch" href="/blog/assets/data-struction.html-BFzAcNi_.js" as="script"><link rel="prefetch" href="/blog/assets/guide.html-Dta_QsWT.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-function.html-CNnBKtRk.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-graphical-part1.html-Xybm5M2r.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-graphical-part2.html-CMn0gbAj.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-graphical-part3.html-Msd0-K1M.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-hello.html-B9VR5saO.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-matrices.html-C1V4daef.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-sentence.html-CjcKd21g.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-shapes.html-gUAKtSWw.js" as="script"><link rel="prefetch" href="/blog/assets/glsl-vars.html-Ck9ej8Qa.js" as="script"><link rel="prefetch" href="/blog/assets/water_smoke_cloud.html-CG1ieS1P.js" as="script"><link rel="prefetch" href="/blog/assets/compatible.html-DKhwjLVL.js" as="script"><link rel="prefetch" href="/blog/assets/eventloop.html-D4CRXwYN.js" as="script"><link rel="prefetch" href="/blog/assets/file-update.html-B1wqz-eM.js" as="script"><link rel="prefetch" href="/blog/assets/iterators-and-generators.html-DgbJ17V8.js" as="script"><link rel="prefetch" href="/blog/assets/promise.html-COYixflG.js" as="script"><link rel="prefetch" href="/blog/assets/proxy-and-reflect.html-BlTuXK8E.js" as="script"><link rel="prefetch" href="/blog/assets/virtual-list.html-DaaaCqNu.js" as="script"><link rel="prefetch" href="/blog/assets/wangeditor.html-VGe2RSTO.js" as="script"><link rel="prefetch" href="/blog/assets/coordinate-system.html-DnExSUIO.js" as="script"><link rel="prefetch" href="/blog/assets/linear-algebra.html-JleyrbOs.js" as="script"><link rel="prefetch" href="/blog/assets/matrix.html-BlCCgkjS.js" as="script"><link rel="prefetch" href="/blog/assets/vector.html-B90Gi-Gg.js" as="script"><link rel="prefetch" href="/blog/assets/life-cycle.html-BipIunl2.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-DR_I1vDK.js" as="script"><link rel="prefetch" href="/blog/assets/axios-source-code.html-BObP4XnH.js" as="script"><link rel="prefetch" href="/blog/assets/browser-request.html-DmWCxuj0.js" as="script"><link rel="prefetch" href="/blog/assets/cancel-token.html-DAooA17g.js" as="script"><link rel="prefetch" href="/blog/assets/how-networks-work-part1.html-oP-C_UMZ.js" as="script"><link rel="prefetch" href="/blog/assets/how-networks-work-part2.html-DXxNeMSc.js" as="script"><link rel="prefetch" href="/blog/assets/how-networks-work-part3.html-r9KNMT2Y.js" as="script"><link rel="prefetch" href="/blog/assets/how-networks-work-part4.html-CKhPQ4EK.js" as="script"><link rel="prefetch" href="/blog/assets/http.html-DFCLEVw0.js" as="script"><link rel="prefetch" href="/blog/assets/note.html-CwN-TcZy.js" as="script"><link rel="prefetch" href="/blog/assets/apm.html-CJagG1K7.js" as="script"><link rel="prefetch" href="/blog/assets/log.html-CnTwqFOU.js" as="script"><link rel="prefetch" href="/blog/assets/safe.html-CdmdNz2A.js" as="script"><link rel="prefetch" href="/blog/assets/test.html-svmhW6tp.js" as="script"><link rel="prefetch" href="/blog/assets/compress.html-C6UT3JQ9.js" as="script"><link rel="prefetch" href="/blog/assets/experience.html-C1A7_laX.js" as="script"><link rel="prefetch" href="/blog/assets/load-policy.html-BKkdLmiX.js" as="script"><link rel="prefetch" href="/blog/assets/monitor.html-8q0ER61X.js" as="script"><link rel="prefetch" href="/blog/assets/perform-rendering.html-CV0GIyXT.js" as="script"><link rel="prefetch" href="/blog/assets/picture.html-BTBfisoN.js" as="script"><link rel="prefetch" href="/blog/assets/vue.html-DaG343yG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DTsc2MUJ.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-CykKaSEl.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-DLaxcGHx.js" as="script"><link rel="prefetch" href="/blog/assets/optimize.html-BH1KLm0T.js" as="script"><link rel="prefetch" href="/blog/assets/3d-titles.html-qIiaphY9.js" as="script"><link rel="prefetch" href="/blog/assets/how-work.html-CF54vmnP.js" as="script"><link rel="prefetch" href="/blog/assets/oblique-photography.html-BUUZP_4s.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-3d-map.html-0gbwl8w3.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-bone-animation.html-D4r4AONY.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-css3d.html-Y3Ef14pW.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-curve.html-o0aUeLVC.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-firework.html-DGNxAAI7.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-hello.html-DNvwbHts.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-light.html-DkVIBtQD.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-luminous.html-DfvJIdH8.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-material.html-Bpf7tXmi.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-raycaster.html-Ccqu1M5S.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-texture.html-DvxlzA6x.js" as="script"><link rel="prefetch" href="/blog/assets/threejs-water.html-B_W3J3XN.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-lXenoD2i.js" as="script"><link rel="prefetch" href="/blog/assets/advanced-types.html-Clf52PWZ.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-CoLEMLSN.js" as="script"><link rel="prefetch" href="/blog/assets/android.html-BPWS6GAp.js" as="script"><link rel="prefetch" href="/blog/assets/nvue.html-DZcf3mNw.js" as="script"><link rel="prefetch" href="/blog/assets/local-history.html-CXywW-D3.js" as="script"><link rel="prefetch" href="/blog/assets/npm-script.html-5ReKMLAX.js" as="script"><link rel="prefetch" href="/blog/assets/paste-image.html-C5CljzSI.js" as="script"><link rel="prefetch" href="/blog/assets/computed-code-analysis.html-B3ah_mQG.js" as="script"><link rel="prefetch" href="/blog/assets/direct-code-analysis.html-Bu2uSkNV.js" as="script"><link rel="prefetch" href="/blog/assets/init.html-CQ0IQPEE.js" as="script"><link rel="prefetch" href="/blog/assets/keep-alive-code-analysis.html-D3FLVRE2.js" as="script"><link rel="prefetch" href="/blog/assets/life-cycle.html-BsOzeXz0.js" as="script"><link rel="prefetch" href="/blog/assets/mount.html-DU2H_BfG.js" as="script"><link rel="prefetch" href="/blog/assets/parse.html-DLHo_ef8.js" as="script"><link rel="prefetch" href="/blog/assets/scoped-code-analysis.html-DO-oPp0c.js" as="script"><link rel="prefetch" href="/blog/assets/summary.html-C8H6JePL.js" as="script"><link rel="prefetch" href="/blog/assets/vue-loader-code-analysis.html-BSwOUC2n.js" as="script"><link rel="prefetch" href="/blog/assets/vue-router-code-analysis.html-BrmndWtn.js" as="script"><link rel="prefetch" href="/blog/assets/vuex-code-analysis.html-BaYgOQA0.js" as="script"><link rel="prefetch" href="/blog/assets/watch-code-analysis.html-CtqSiEz5.js" as="script"><link rel="prefetch" href="/blog/assets/create-app.html-VQjQghRD.js" as="script"><link rel="prefetch" href="/blog/assets/diff.html-DuUyn192.js" as="script"><link rel="prefetch" href="/blog/assets/patch.html-b-05sTSt.js" as="script"><link rel="prefetch" href="/blog/assets/provide-inject.html-Cb4cuNWp.js" as="script"><link rel="prefetch" href="/blog/assets/reactive.html-9py3lI__.js" as="script"><link rel="prefetch" href="/blog/assets/vue3-and-vue2.html-B5ZZajgY.js" as="script"><link rel="prefetch" href="/blog/assets/vuex.html-5bHO4MNB.js" as="script"><link rel="prefetch" href="/blog/assets/ast.html-Chs6z3ty.js" as="script"><link rel="prefetch" href="/blog/assets/babel.html-BY_Nv7Gu.js" as="script"><link rel="prefetch" href="/blog/assets/browserslist.html-BNvtO3-H.js" as="script"><link rel="prefetch" href="/blog/assets/common-config.html-C9sXh38z.js" as="script"><link rel="prefetch" href="/blog/assets/custom-loader.html-CRFBWOAm.js" as="script"><link rel="prefetch" href="/blog/assets/custom-plugin.html-DFisC8JT.js" as="script"><link rel="prefetch" href="/blog/assets/loader-basic-knowledge.html-DWE5RIW-.js" as="script"><link rel="prefetch" href="/blog/assets/packaged-analytics.html-B-TZERjE.js" as="script"><link rel="prefetch" href="/blog/assets/postcss.html-BGR0cPBX.js" as="script"><link rel="prefetch" href="/blog/assets/source-map.html-BcoDePgh.js" as="script"><link rel="prefetch" href="/blog/assets/start-process.html-B-O3kAdo.js" as="script"><link rel="prefetch" href="/blog/assets/tapable.html-C03RuEye.js" as="script"><link rel="prefetch" href="/blog/assets/socket-io.html-DXw43XSq.js" as="script"><link rel="prefetch" href="/blog/assets/websocket.html-DQev8yhN.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BcaFfC06.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-cOt9fRm1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Bvunmx6q.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0p5qdIsG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-XpVrOoMt.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-juLRUIaF.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ykNr2tzL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-lis7MNGg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-C97cMXEQ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Cz1_0J-y.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B968sGqx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_JFOWEIx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Btc5jK8w.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CNU1LnDW.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Zp7Zo3cM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D6MU2GC3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-s71G-fY8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B6_jhOwe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-HtlEy7PJ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-FlFUGF0-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CfpcJGxj.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9uLZI5hr.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Bh2d24Tc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Rk2Fpp1p.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BpPYKwiv.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6UywCdHy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B-4_b7p2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CYMZQrOc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DNoCgd2_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Dc0D6YiO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6pR7NVQl.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Hep6xIUL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CHbruZHP.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-I4K9RCcw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BncK58Wx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-diBQ1SQC.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ttEk_u8x.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CZX_ZEhV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-N5TNiCif.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-C-_p2Pu2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DULM1-ys.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-yNt1X8PE.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-uRhx2pb4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CKzDNzLy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BF0h336I.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CZzakUmE.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DIggzO7P.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DZdguhEy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CsYXg4_o.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CsYXg4_o.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CyWhBvlM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-C9AOnRrT.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DHwJVSnp.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DyXhVa1O.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B4XLQXrx.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BbPmPyMr.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BZXUKAyN.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-mlyB3YsG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B-se7tkV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-VkCL5QH2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DGTUw2mf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-PUzZMV7e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DSoNi1AL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cDCaPyEk.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D88Za1WO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-likyD5g-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-coKwVf6j.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-_WZCl5f_.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-15neDaaX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D6G-xesG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-15neDaaX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D6G-xesG.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kGjJA9gM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-kGjJA9gM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B0dwZbIu.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BDDyWKLP.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-rWTVSiFs.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Bn9otUem.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-GN84Zg0I.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DM9jIbj1.js" as="script"><link rel="prefetch" href="/blog/assets/auto-BsvuWMA9.js" as="script"><link rel="prefetch" href="/blog/assets/index-BZSEhAeG.js" as="script"><link rel="prefetch" href="/blog/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/blog/assets/index-COs55nrP.js" as="script"><link rel="prefetch" href="/blog/assets/index-B-q_yCzR.js" as="script"><link rel="prefetch" href="/blog/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/blog/assets/mermaid.esm.min-tlKpl2YM.js" as="script"><link rel="prefetch" href="/blog/assets/vue-repl-BhEP9y7h.js" as="script"><link rel="prefetch" href="/blog/assets/codemirror-editor-CNf8-ZxH.js" as="script"><link rel="prefetch" href="/blog/assets/reveal.esm-B3O8JSaZ.js" as="script"><link rel="prefetch" href="/blog/assets/markdown.esm-DotuGrRK.js" as="script"><link rel="prefetch" href="/blog/assets/photoswipe.esm-DXWKOczD.js" as="script"><link rel="prefetch" href="/blog/assets/waline-meta-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/blog/assets/component-DZ6JGD7z.js" as="script"><link rel="prefetch" href="/blog/assets/index-B-M8YVCw.js" as="script"><link rel="prefetch" href="/blog/assets/setupDevtools-QXEOFQJV-DOgJx06j.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container no-sidebar external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/blog/" aria-label="Take me home"><img class="vp-nav-logo" src="/blog/./public/favicon.svg" alt><!----><!----></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/" aria-label="Blog" iconsizing="height"><!---->Blog<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/category/" aria-label="Category" iconsizing="height"><!---->Category<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/tools/" aria-label="Tools" iconsizing="height"><!---->Tools<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/games/" aria-label="Games" iconsizing="height"><!---->Games<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/playground/" aria-label="Playground" iconsizing="height"><!---->Playground<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/luxiag/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->MySQL数据库入门整理笔记</h1><div class="page-info"><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">April 28, 2025</span><meta property="datePublished" content="2025-04-28T00:00:00.000Z"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item clickable" role="navigation">MySQL</span><!--]--><meta property="articleSection" content="MySQL"></span><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 17 min</span><meta property="timeRequired" content="PT17M"></span><span class="page-pageview-info" aria-label="Page views🔢" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon" name="eye"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="vp-pageview waline-pageview-count" data-path="/mysql/base.html" data-page-key="/mysql/base.html">...</span></span></div><hr></div><!----><!----><div class="theme-hope-content" vp-content><p>启动MySQL客户端程序</p><p><code>/bin</code>目录下<code>mysql</code>执行文件输入命令</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#50FA7B;">mysql</span><span style="color:#BD93F9;"> -h主机名</span><span style="color:#BD93F9;">  -u用户名</span><span style="color:#BD93F9;"> -p密码</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>参数 描述 示例<br><code>-u root</code> 以 <code>root</code> 用户身份连接 <code>mysql -u root</code><br><code>-p</code> 提示输入密码 <code>mysql -u root -p</code><br><code>-h 127.0.0.1</code> 连接到本地主机 <code>mysql -u root -h 127.0.0.1</code><br><code>-P 3306</code> 使用默认端口 <code>3306</code> <code>mysql -u root -h 127.0.0.1 -P 3306</code><br><code>-D mydatabase</code> 连接到 <code>mydatabase</code> 数据库 <code>mysql -u root -p -D mydatabase</code><br><code>--default-character-set=utf8</code> 指定字符集为 UTF-8 <code>mysql -u root -p --default-character-set=utf8</code><br><code>-e &quot;SELECT * FROM mytable;&quot;</code> 执行 SQL 查询并退出 <code>mysql -u root -p -e &quot;SELECT * FROM mytable;&quot;</code></p><p>性能调优，索引优化，事务处理</p><h2 id="数据类型" tabindex="-1"><a class="header-anchor" href="#数据类型"><span>数据类型</span></a></h2><table><thead><tr><th>类型大类</th><th>代表数据类型</th><th>特点</th></tr></thead><tbody><tr><td>数值</td><td>INT, BIGINT, DECIMAL</td><td>整数、小数</td></tr><tr><td>字符串</td><td>VARCHAR, TEXT, BLOB</td><td>文字、大文本、二进制</td></tr><tr><td>时间</td><td>DATE, DATETIME, TIMESTAMP</td><td>日期时间</td></tr><tr><td>布尔</td><td>BOOLEAN (TINYINT)</td><td>真假值</td></tr><tr><td>JSON</td><td>JSON</td><td>结构化数据</td></tr></tbody></table><h3 id="整数-number" tabindex="-1"><a class="header-anchor" href="#整数-number"><span>整数 Number</span></a></h3><table><thead><tr><th>类型</th><th>范围（有符号）</th><th>特点</th></tr></thead><tbody><tr><td>TINYINT</td><td>-128 ~ 127</td><td>1字节，很小</td></tr><tr><td>SMALLINT</td><td>-32,768 ~ 32,767</td><td>2字节</td></tr><tr><td>MEDIUMINT</td><td>-8百万 ~ 8百万</td><td>3字节</td></tr><tr><td>INT / INTEGER</td><td>-21亿 ~ 21亿</td><td>4字节，最常用</td></tr><tr><td>BIGINT</td><td>超大范围（9千万亿）</td><td>8字节，适合大数据</td></tr></tbody></table><h3 id="字符串类型-string" tabindex="-1"><a class="header-anchor" href="#字符串类型-string"><span>字符串类型 String</span></a></h3><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>CHAR(n)</td><td>定长字符串，占用固定n个字符空间。适合存固定长度的，比如身份证号</td></tr><tr><td>VARCHAR(n)</td><td>变长字符串，最多n字符，常用！</td></tr><tr><td>TEXT</td><td>大文本（最大64KB），适合存文章正文</td></tr><tr><td>TINYTEXT、MEDIUMTEXT、LONGTEXT</td><td>不同大小级别的超大文本</td></tr><tr><td>BLOB</td><td>二进制大对象（图片、文件等）</td></tr></tbody></table><h3 id="日期时间类型-date" tabindex="-1"><a class="header-anchor" href="#日期时间类型-date"><span>日期时间类型 Date</span></a></h3><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>DATE</td><td>日期，格式：YYYY-MM-DD</td></tr><tr><td>TIME</td><td>时间，格式：HH:MM:SS</td></tr><tr><td>DATETIME</td><td>日期时间，格式：YYYY-MM-DD HH:MM:SS</td></tr><tr><td>TIMESTAMP</td><td>时间戳，格式：YYYY-MM-DD HH:MM:SS，常用于记录数据的创建时间、更新时间等</td></tr><tr><td>YEAR</td><td>年份，格式：YYYY</td></tr></tbody></table><h3 id="布尔类型-boolean" tabindex="-1"><a class="header-anchor" href="#布尔类型-boolean"><span>布尔类型 Boolean</span></a></h3><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>BOOLEAN</td><td>真假值，0 或 1，常用！</td></tr></tbody></table><h3 id="json类型-json" tabindex="-1"><a class="header-anchor" href="#json类型-json"><span>JSON类型 JSON</span></a></h3><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>JSON</td><td>结构化数据，常用于存储 JSON 格式的数据</td></tr></tbody></table><h2 id="sql" tabindex="-1"><a class="header-anchor" href="#sql"><span>SQL</span></a></h2><h3 id="sql通用语法" tabindex="-1"><a class="header-anchor" href="#sql通用语法"><span>SQL通用语法</span></a></h3><ol><li>SQL 语句可以单行或多行书写，以分号结尾。</li><li>可以用空格和缩进来增强语句的可读性。</li><li>MySQL 数据库的 SQL 语句不区分大小写，关键字建议使用大写。</li><li>3 种注释：单行注释：-- 注释内容 或 # 注释内容（MySQL 特有） 多行注释：/<em>注释内容</em>/</li></ol><h3 id="ddl-data-definition-languages-数据定义语言" tabindex="-1"><a class="header-anchor" href="#ddl-data-definition-languages-数据定义语言"><span>DDL（Data Definition Languages）数据定义语言</span></a></h3><p>DDL（Data Definition Language，数据定义语言） 主要负责定义和管理数据库结构，比如：创建、修改、删除数据库和表。</p><p>动作 | SQL 创建数据库 | CREATE DATABASE 创建表 | CREATE TABLE 修改表结构 | ALTER TABLE 删除表 | DROP TABLE 删除数据库 | DROP DATABASE 清空表数据 | TRUNCATE TABLE</p><p>查询 查询所有数据库</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#F8F8F2;">SHOW DATABASES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查询当前数据库</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#F8F8F2;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建数据库</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#50FA7B;"> 数据库名</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#F8F8F2;"> [IF NOT EXISTS] 数据库名 [DEFAULT CHARSET 字符集] [COLLATE 排序规则];</span></span>
<span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#50FA7B;"> 数据库名</span><span style="color:#FF79C6;"> CHARACTER</span><span style="color:#FF79C6;"> SET</span><span style="color:#F8F8F2;"> utf8mb4 </span><span style="color:#FF79C6;">COLLATE</span><span style="color:#F8F8F2;"> utf8mb4_general_ci;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>删除数据库</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">DROP</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#F8F8F2;"> 数据库名;</span></span>
<span class="line"><span style="color:#FF79C6;">DROP</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#F8F8F2;"> [IF EXISTS] 数据库名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>修改数据库</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">ALTER</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#F8F8F2;"> 数据库名 </span><span style="color:#FF79C6;">CHARACTER</span><span style="color:#FF79C6;"> SET</span><span style="color:#F8F8F2;"> 字符集 </span><span style="color:#FF79C6;">COLLATE</span><span style="color:#F8F8F2;"> 排序规则;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建表</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> 表名</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    列名1 数据类型1,</span></span>
<span class="line"><span style="color:#F8F8F2;">    列名2 数据类型2,</span></span>
<span class="line"><span style="color:#F8F8F2;">    ...</span></span>
<span class="line"><span style="color:#F8F8F2;">    列名n 数据类型n</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> 表名</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    列名1 数据类型1 COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">注释内容</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    列名2 数据类型2 COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">注释内容</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    ......</span></span>
<span class="line"><span style="color:#F8F8F2;">    列名n 数据类型n COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">注释内容</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询表</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#F8F8F2;">SHOW TABLES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查询表结构</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">DESC</span><span style="color:#F8F8F2;"> 表名;</span></span>
<span class="line"><span style="color:#F8F8F2;">DESCRIBE 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询指定表的建表语句</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#F8F8F2;">SHOW </span><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改表</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">ALTER</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> 表名</span></span>
<span class="line"><span style="color:#FF79C6;">ADD</span><span style="color:#F8F8F2;"> 列名 数据类型 [约束],             </span><span style="color:#6272A4;">-- 添加列</span></span>
<span class="line"><span style="color:#FF79C6;">MODIFY</span><span style="color:#F8F8F2;"> 列名 新数据类型 [新约束],      </span><span style="color:#6272A4;">-- 修改列</span></span>
<span class="line"><span style="color:#F8F8F2;">CHANGE 旧列名 新列名 新数据类型 [约束], </span><span style="color:#6272A4;">-- 重命名列</span></span>
<span class="line"><span style="color:#FF79C6;">DROP</span><span style="color:#F8F8F2;"> COLUMN 列名;                    </span><span style="color:#6272A4;">-- 删除列</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 给 users 表加一列 phone</span></span>
<span class="line"><span style="color:#FF79C6;">ALTER</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">ADD</span><span style="color:#F8F8F2;"> phone </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 修改 email 列长度</span></span>
<span class="line"><span style="color:#FF79C6;">ALTER</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">MODIFY</span><span style="color:#F8F8F2;"> email </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">150</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 把 phone 列改名为 mobile</span></span>
<span class="line"><span style="color:#FF79C6;">ALTER</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> users CHANGE phone mobile </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 删除 mobile 列</span></span>
<span class="line"><span style="color:#FF79C6;">ALTER</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">DROP</span><span style="color:#F8F8F2;"> COLUMN mobile;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>删除表</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">DROP</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> 表名;</span></span>
<span class="line"><span style="color:#FF79C6;">DROP</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> [IF EXISTS] 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>清空表数据</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">TRUNCATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> 表名;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="创建简单电商系统" tabindex="-1"><a class="header-anchor" href="#创建简单电商系统"><span>创建简单电商系统</span></a></h4><hr><p>第一步：创建数据库</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#50FA7B;"> OrderSystem</span><span style="color:#FF79C6;"> CHARACTER</span><span style="color:#FF79C6;"> SET</span><span style="color:#F8F8F2;"> utf8mb4 </span><span style="color:#FF79C6;">COLLATE</span><span style="color:#F8F8F2;"> utf8mb4_general_ci;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后<strong>使用这个数据库</strong>：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">USE</span><span style="color:#F8F8F2;"> OrderSystem;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><p>第二步：创建表</p><ul><li><strong>用户表 users</strong></li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> users</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#FF79C6;">INT</span><span style="color:#FF79C6;"> PRIMARY KEY</span><span style="color:#F8F8F2;"> AUTO_INCREMENT COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">用户ID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    username </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">50</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">NOT NULL</span><span style="color:#FF79C6;"> UNIQUE</span><span style="color:#F8F8F2;"> COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">用户名</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FF79C6;">    password</span><span style="color:#FF79C6;"> VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">NOT NULL</span><span style="color:#F8F8F2;"> COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">密码（加密存储）</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    email </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">) COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">邮箱</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    created_at </span><span style="color:#FF79C6;">TIMESTAMP</span><span style="color:#FF79C6;"> DEFAULT</span><span style="color:#F8F8F2;"> CURRENT_TIMESTAMP COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">创建时间</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>订单表 orders</strong></li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> orders</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#FF79C6;">INT</span><span style="color:#FF79C6;"> PRIMARY KEY</span><span style="color:#F8F8F2;"> AUTO_INCREMENT COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">订单ID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    user_id </span><span style="color:#FF79C6;">INT</span><span style="color:#FF79C6;"> NOT NULL</span><span style="color:#F8F8F2;"> COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">用户ID</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    order_number </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">NOT NULL</span><span style="color:#FF79C6;"> UNIQUE</span><span style="color:#F8F8F2;"> COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">订单编号</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    total_amount </span><span style="color:#FF79C6;">DECIMAL</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">NOT NULL</span><span style="color:#F8F8F2;"> COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">订单总金额</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FF79C6;">    status</span><span style="color:#F8F8F2;"> ENUM(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">pending</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">paid</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">shipped</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">completed</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">cancelled</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">DEFAULT</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">pending</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;"> COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">订单状态</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    created_at </span><span style="color:#FF79C6;">TIMESTAMP</span><span style="color:#FF79C6;"> DEFAULT</span><span style="color:#F8F8F2;"> CURRENT_TIMESTAMP COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">下单时间</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FF79C6;">    FOREIGN KEY</span><span style="color:#F8F8F2;"> (user_id) </span><span style="color:#FF79C6;">REFERENCES</span><span style="color:#F8F8F2;"> users(id) </span><span style="color:#6272A4;">-- 外键关联用户表</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>第三步：修改表（比如后面想给订单表加一个备注字段）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">ALTER</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> orders </span><span style="color:#FF79C6;">ADD</span><span style="color:#F8F8F2;"> remark </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">255</span><span style="color:#F8F8F2;">) COMMENT </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">备注</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><p>第四步：清空表（如果想清理测试数据）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">TRUNCATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> orders;</span></span>
<span class="line"><span style="color:#FF79C6;">TRUNCATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> users;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>第五步：删除表或数据库（慎用！！）</p><ul><li>删除表：</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">DROP</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> orders;</span></span>
<span class="line"><span style="color:#FF79C6;">DROP</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#F8F8F2;"> users;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除数据库：</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">DROP</span><span style="color:#FF79C6;"> DATABASE</span><span style="color:#F8F8F2;"> OrderSystem;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="dml-data-manipulation-language-数据操作语言" tabindex="-1"><a class="header-anchor" href="#dml-data-manipulation-language-数据操作语言"><span>DML （Data Manipulation Language）数据操作语言</span></a></h3><p>Data Manipulation Language（DML，数据操作语言） 是用来 操作表中的数据 的，比如 增、删、改、查。</p><table><thead><tr><th>操作</th><th>关键字</th><th>作用</th></tr></thead><tbody><tr><td>插入数据</td><td>INSERT</td><td>向表中增加新数据</td></tr><tr><td>更新数据</td><td>UPDATE</td><td>修改表中的已有数据</td></tr><tr><td>删除数据</td><td>DELETE</td><td>删除表中的已有数据</td></tr><tr><td>查询数据</td><td>SELECT</td><td>查询表中的数据</td></tr></tbody></table><p>插入数据（INSERT）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">INSERT INTO</span><span style="color:#F8F8F2;"> 表名 (列1, 列2, ...) </span><span style="color:#FF79C6;">VALUES</span><span style="color:#F8F8F2;"> (值1, 值2, ...);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">INSERT INTO</span><span style="color:#F8F8F2;"> users (username, </span><span style="color:#FF79C6;">password</span><span style="color:#F8F8F2;">, email)</span></span>
<span class="line"><span style="color:#FF79C6;">VALUES</span><span style="color:#F8F8F2;"> (</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">alice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">123456</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">alice@example.com</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 插入多条数据</span></span>
<span class="line"><span style="color:#FF79C6;">INSERT INTO</span><span style="color:#F8F8F2;"> 表名 (列1, 列2, ...) </span><span style="color:#FF79C6;">VALUES</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">(值1, 值2, ...),</span></span>
<span class="line"><span style="color:#F8F8F2;">(值3, 值4, ...);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">INSERT INTO</span><span style="color:#F8F8F2;"> users (username, </span><span style="color:#FF79C6;">password</span><span style="color:#F8F8F2;">, email) </span><span style="color:#FF79C6;">VALUES</span></span>
<span class="line"><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">bob</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">654321</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">bob@example.com</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">carol</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">abcdef</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">carol@example.com</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更新数据（UPDATE）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">UPDATE</span><span style="color:#F8F8F2;"> 表名</span></span>
<span class="line"><span style="color:#FF79C6;">SET</span><span style="color:#F8F8F2;"> 列1 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> 新值1, 列2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> 新值2</span></span>
<span class="line"><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> 条件;</span></span>
<span class="line"><span style="color:#6272A4;">--  注意：一定要加 WHERE 条件！</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">UPDATE</span><span style="color:#F8F8F2;"> users</span></span>
<span class="line"><span style="color:#FF79C6;">SET</span><span style="color:#F8F8F2;"> email </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">alice_new@example.com</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> username </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">alice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#6272A4;">-- 修改多个字段</span></span>
<span class="line"><span style="color:#FF79C6;">UPDATE</span><span style="color:#F8F8F2;"> users</span></span>
<span class="line"><span style="color:#FF79C6;">SET</span><span style="color:#FF79C6;"> password</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">newpass</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, email </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">new@example.com</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> id </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>删除数据（DELETE）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">DELETE</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> 表名 </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> 条件;</span></span>
<span class="line"><span style="color:#FF79C6;">DELETE</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> id </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 3</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 删除全部数据</span></span>
<span class="line"><span style="color:#FF79C6;">DELETE</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询数据（SELECT）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">-- 查询所有列</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 查询指定列</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> 列1, 列2 </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 查询指定列并重命名</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> 列1 </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> 别名1, 列2 </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> 别名2 </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 查询指定列并过滤重复数据</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT DISTINCT</span><span style="color:#F8F8F2;"> 列1, 列2 </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 带条件查询</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> id </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>插入时防止重复 INSERT IGNORE</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">INSERT IGNORE INTO</span><span style="color:#F8F8F2;"> users (username, </span><span style="color:#FF79C6;">password</span><span style="color:#F8F8F2;">, email)</span></span>
<span class="line"><span style="color:#FF79C6;">VALUES</span><span style="color:#F8F8F2;"> (</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">alice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">123456</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">alice@example.com</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>INSERT ... ON DUPLICATE KEY UPDATE</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">INSERT INTO</span><span style="color:#F8F8F2;"> users (username, </span><span style="color:#FF79C6;">password</span><span style="color:#F8F8F2;">, email)</span></span>
<span class="line"><span style="color:#FF79C6;">VALUES</span><span style="color:#F8F8F2;"> (</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">alice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">123456</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">alice@example.com</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">ON</span><span style="color:#F8F8F2;"> DUPLICATE </span><span style="color:#FF79C6;">KEY</span><span style="color:#FF79C6;"> UPDATE</span></span>
<span class="line"><span style="color:#F8F8F2;">email </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">alice_new@example.com</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#6272A4;">-- 如果 username 已存在，就把 email 更新为新值</span></span>
<span class="line"><span style="color:#6272A4;">-- 否则就插入一条新记录。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>批量更新CASE WHEN</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">-- 批量把不同ID的用户，名字改掉：</span></span>
<span class="line"><span style="color:#FF79C6;">UPDATE</span><span style="color:#F8F8F2;"> users</span></span>
<span class="line"><span style="color:#FF79C6;">SET</span><span style="color:#F8F8F2;"> username </span><span style="color:#FF79C6;">=</span><span style="color:#FF79C6;"> CASE</span><span style="color:#F8F8F2;"> id</span></span>
<span class="line"><span style="color:#FF79C6;">    WHEN</span><span style="color:#BD93F9;"> 1</span><span style="color:#FF79C6;"> THEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">new_name1</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">    WHEN</span><span style="color:#BD93F9;"> 2</span><span style="color:#FF79C6;"> THEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">new_name2</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">    WHEN</span><span style="color:#BD93F9;"> 3</span><span style="color:#FF79C6;"> THEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">new_name3</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">END</span></span>
<span class="line"><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> id </span><span style="color:#FF79C6;">IN</span><span style="color:#F8F8F2;"> (</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更新+限制条数</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"></span>
<span class="line"><span style="color:#FF79C6;">UPDATE</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">SET</span><span style="color:#F8F8F2;"> email </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">test@example.com</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> WHERE</span><span style="color:#F8F8F2;"> is_deleted </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 0</span><span style="color:#FF79C6;"> LIMIT</span><span style="color:#BD93F9;"> 5</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dql-data-query-language-数据查询语言" tabindex="-1"><a class="header-anchor" href="#dql-data-query-language-数据查询语言"><span>DQL （Data Query Language）数据查询语言</span></a></h2><p>Data Query Language（DQL，数据查询语言），简单说，就是用来查询数据的SQL语句。</p><ul><li><p>WHERE（筛选）</p></li><li><p>GROUP BY（分组）</p></li><li><p>HAVING（分组后的筛选）</p></li><li><p>ORDER BY（排序）</p></li><li><p>LIMIT（分页）</p></li></ul><p>基本查询（SELECT）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> 列1, 列2 </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> 表名;</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> username, email </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> users;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>条件筛选（WHERE）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> username </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">alice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> email </span><span style="color:#FF79C6;">IS NOT NULL</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> username </span><span style="color:#FF79C6;">LIKE</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">a%</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">; </span><span style="color:#6272A4;">-- a开头</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> id </span><span style="color:#FF79C6;">IN</span><span style="color:#F8F8F2;"> (</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>运算符</th><th>说明</th></tr></thead><tbody><tr><td>=</td><td>等于</td></tr><tr><td>&lt;&gt; 或 !=</td><td>不等于</td></tr><tr><td>&gt; / &lt;</td><td>大于 / 小于</td></tr><tr><td>&gt;= / &lt;=</td><td>大于等于 / 小于等于</td></tr><tr><td>BETWEEN A AND B</td><td>在区间</td></tr><tr><td>IN (值1, 值2)</td><td>在列表中</td></tr><tr><td>LIKE</td><td>模糊匹配（比如姓名以A开头）</td></tr><tr><td>IS NULL / IS NOT NULL</td><td>是否为空</td></tr></tbody></table><p>分组（GROUP BY） 将查询结果按某个字段分类汇总：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">-- 按订单状态（status）分类</span></span>
<span class="line"><span style="color:#6272A4;">-- 每种状态统计有多少条订单（count）</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> status</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;">COUNT</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> count</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> orders</span></span>
<span class="line"><span style="color:#FF79C6;">GROUP BY</span><span style="color:#FF79C6;"> status</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分组后筛选（HAVING） HAVING 是对分组之后的数据再进行筛选的（WHERE 是分组前筛选）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">-- 查出订单数大于10的状态类型：</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> status</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;">COUNT</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> count</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> orders</span></span>
<span class="line"><span style="color:#FF79C6;">GROUP BY</span><span style="color:#FF79C6;"> status</span></span>
<span class="line"><span style="color:#FF79C6;">HAVING</span><span style="color:#F8F8F2;"> count </span><span style="color:#FF79C6;">&gt;</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>排序（ORDER BY） 按某个字段升序或降序排列：</p><ul><li><p>ASC：升序（默认）</p></li><li><p>DESC：降序</p></li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> orders </span><span style="color:#FF79C6;">ORDER BY</span><span style="color:#F8F8F2;"> created_at </span><span style="color:#FF79C6;">DESC</span><span style="color:#F8F8F2;">; </span><span style="color:#6272A4;">-- 按创建时间降序排列</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> orders </span><span style="color:#FF79C6;">ORDER BY</span><span style="color:#FF79C6;"> status</span><span style="color:#FF79C6;"> ASC</span><span style="color:#F8F8F2;">, created_at </span><span style="color:#FF79C6;">DESC</span><span style="color:#F8F8F2;">; </span><span style="color:#6272A4;">-- 按状态升序，再按创建时间降序</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>限制返回条数（LIMIT）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">LIMIT</span><span style="color:#BD93F9;"> 5</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 跳过20行，从第21行开始取10条。</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">LIMIT</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;"> OFFSET </span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#6272A4;">-- 简写：跳过20条，取10条。</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> users </span><span style="color:#FF79C6;">LIMIT</span><span style="color:#BD93F9;"> 20</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="聚合函数" tabindex="-1"><a class="header-anchor" href="#聚合函数"><span>聚合函数</span></a></h3><table><thead><tr><th>函数名</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td>COUNT()</td><td>计数，统计数量</td><td>COUNT(*), COUNT(id)</td></tr><tr><td>SUM()</td><td>求和</td><td>SUM(price)</td></tr><tr><td>AVG()</td><td>求平均数</td><td>AVG(score)</td></tr><tr><td>MAX()</td><td>求最大值</td><td>MAX(age)</td></tr><tr><td>MIN()</td><td>求最小值</td><td>MIN(salary)</td></tr><tr><td>GROUP_CONCAT()</td><td>把一组值合并成字符串</td><td>GROUP_CONCAT(name)</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> COUNT</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> users;</span></span>
<span class="line"><span style="color:#6272A4;">-- 查询用户表总共有多少条记录</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> COUNT</span><span style="color:#F8F8F2;">(email) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> users;</span></span>
<span class="line"><span style="color:#6272A4;">-- 查询邮箱不为空的用户数量</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> SUM</span><span style="color:#F8F8F2;">(order_amount) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> orders;</span></span>
<span class="line"><span style="color:#6272A4;">-- 查询所有订单金额的总和</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> AVG</span><span style="color:#F8F8F2;">(score) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> students;</span></span>
<span class="line"><span style="color:#6272A4;">-- 查询学生的平均分数</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> MAX</span><span style="color:#F8F8F2;">(price) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> products;</span></span>
<span class="line"><span style="color:#6272A4;">-- 查询最贵的商品价格</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> MIN</span><span style="color:#F8F8F2;">(price) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> products;</span></span>
<span class="line"><span style="color:#6272A4;">-- 查询最便宜的商品价格</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> GROUP_CONCAT(</span><span style="color:#FF79C6;">name</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> students;</span></span>
<span class="line"><span style="color:#6272A4;">-- 把所有学生名字拼成一个字符串</span></span>
<span class="line"><span style="color:#6272A4;">-- &quot;Tom, Jerry, Alice, Bob&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> GROUP_CONCAT(</span><span style="color:#FF79C6;">name</span><span style="color:#F8F8F2;"> SEPARATOR </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">|</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> students;</span></span>
<span class="line"><span style="color:#6272A4;">-- 变成用 | 分隔</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dcl-data-control-language-数据控制语言" tabindex="-1"><a class="header-anchor" href="#dcl-data-control-language-数据控制语言"><span>DCL （Data Control Language）数据控制语言</span></a></h2><p>DCL主要用于控制数据库中的访问权限和安全管理。</p><h2 id="函数" tabindex="-1"><a class="header-anchor" href="#函数"><span>函数</span></a></h2><table><thead><tr><th>类别</th><th>说明</th><th>举例</th></tr></thead><tbody><tr><td>数学函数</td><td>处理数字计算</td><td>ABS(), ROUND(), CEIL()</td></tr><tr><td>字符串函数</td><td>操作字符串</td><td>CONCAT(), SUBSTRING(), LENGTH()</td></tr><tr><td>日期时间函数</td><td>处理日期时间</td><td>NOW(), CURDATE(), DATE_FORMAT()</td></tr><tr><td>聚合函数</td><td>汇总一组数据</td><td>SUM(), COUNT(), AVG()（前面讲过）</td></tr><tr><td>流程控制函数</td><td>根据条件判断</td><td>IF(), CASE</td></tr><tr><td>加密函数</td><td>做哈希或加密</td><td>MD5(), SHA1()</td></tr></tbody></table><h3 id="数学函数" tabindex="-1"><a class="header-anchor" href="#数学函数"><span>数学函数</span></a></h3><table><thead><tr><th>函数名</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td>ABS()</td><td>求绝对值</td><td>ABS(-10) = 10</td></tr><tr><td>ROUND()</td><td>四舍五入</td><td>ROUND(3.14159, 2) = 3.14</td></tr><tr><td>CEIL()</td><td>向上取整</td><td>CEIL(3.14) = 4</td></tr><tr><td>FLOOR()</td><td>向下取整</td><td>FLOOR(3.14) = 3</td></tr><tr><td>RAND()</td><td>生成随机数</td><td>RAND()</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> ABS</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- 10</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> ROUND</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">14159</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- 3.14</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> CEIL(</span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">14</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- 4</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> FLOOR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">14</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- 3</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> RAND</span><span style="color:#F8F8F2;">(); </span><span style="color:#6272A4;">-- 0.123456789</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="字符串函数" tabindex="-1"><a class="header-anchor" href="#字符串函数"><span>字符串函数</span></a></h3><table><thead><tr><th>函数名</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td>CONCAT()</td><td>拼接字符串</td><td>CONCAT(&#39;Hello&#39;, &#39;World&#39;) = &#39;HelloWorld&#39;</td></tr><tr><td>SUBSTRING()</td><td>截取子串</td><td>SUBSTRING(&#39;HelloWorld&#39;, 1, 5) = &#39;Hello&#39;</td></tr><tr><td>LENGTH()</td><td>计算字符串长度</td><td>LENGTH(&#39;HelloWorld&#39;) = 10</td></tr><tr><td>LOWER()</td><td>转小写</td><td>LOWER(&#39;HelloWorld&#39;) = &#39;helloworld&#39;</td></tr><tr><td>UPPER()</td><td>转大写</td><td>UPPER(&#39;HelloWorld&#39;) = &#39;HELLOWORLD&#39;</td></tr><tr><td>TRIM()</td><td>去除空格</td><td>TRIM(&#39; Hello World &#39;) = &#39;Hello World&#39;</td></tr><tr><td>REPLACE()</td><td>替换字符串</td><td>REPLACE(&#39;HelloWorld&#39;, &#39;World&#39;, &#39;MySQL&#39;) = &#39;HelloMySQL&#39;</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> CONCAT</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Hello</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">World</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- HelloWorld</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> SUBSTRING</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HelloWorld</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- HelloWorld</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> LENGTH</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HelloWorld</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- 10</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> LOWER</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HelloWorld</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- helloworld</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> UPPER</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HelloWorld</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- HELLOWORLD</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> TRIM</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">  Hello World  </span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- Hello World</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> REPLACE</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">HelloWorld</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">World</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">MySQL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- HelloMySQL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="日期时间函数" tabindex="-1"><a class="header-anchor" href="#日期时间函数"><span>日期时间函数</span></a></h3><table><thead><tr><th>函数名</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td>NOW()</td><td>获取当前日期和时间</td><td>NOW() = &#39;2022-01-01 12:00:00&#39;</td></tr><tr><td>CURDATE()</td><td>获取当前日期</td><td>CURDATE() = &#39;2022-01-01&#39;</td></tr><tr><td>CURTIME()</td><td>获取当前时间(时分秒)</td><td>CURTIME() = &#39;12:00:00&#39;</td></tr><tr><td>YEAR(date)</td><td>获取年份</td><td>YEAR(&#39;2025-04-01&#39;) = 2025</td></tr><tr><td>MONTH(date)</td><td>获取月份</td><td>MONTH(&#39;2025-04-01&#39;) = 4</td></tr><tr><td>DAY(date)</td><td>获取日期</td><td>DAY(&#39;2025-04-01&#39;) = 1</td></tr><tr><td>DATE_FORMAT()</td><td>格式化日期时间</td><td>DATE_FORMAT(NOW(), &#39;%Y-%m-%d %H:%i:%s&#39;) = &#39;2022-01-01 12:00:00&#39;</td></tr><tr><td>DATEDIFF()</td><td>计算两个日期之间的天数</td><td>DATEDIFF(&#39;2022-01-01&#39;, &#39;2021-01-01&#39;) = 365</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> NOW</span><span style="color:#F8F8F2;">(); </span><span style="color:#6272A4;">-- 2022-01-01 12:00:00</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> CURDATE(); </span><span style="color:#6272A4;">-- 2022-01-01</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> DATE_FORMAT</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">NOW</span><span style="color:#F8F8F2;">(), </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">%Y-%m-%d %H:%i:%s</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- 2022-01-01 12:00:00</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> DATEDIFF</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">2022-01-01</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">2021-01-01</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- 365</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="流程控制函数" tabindex="-1"><a class="header-anchor" href="#流程控制函数"><span>流程控制函数</span></a></h3><table><thead><tr><th>函数名</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td>IF(condition, value_if_true, value_if_false)</td><td>判断条件，返回不同值</td><td>IF(1 &gt; 0, &#39;true&#39;, &#39;false&#39;) = &#39;true&#39;</td></tr><tr><td>CASE WHEN condition1 THEN value1 WHEN condition2 THEN value2 ... ELSE default END</td><td>多重判断</td><td>CASE WHEN score &gt;= 90 THEN &#39;A&#39; WHEN score &gt;= 80 THEN &#39;B&#39; ELSE &#39;C&#39; END</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> IF</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">1</span><span style="color:#FF79C6;"> &gt;</span><span style="color:#BD93F9;"> 0</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">true</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">false</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">-- true</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#FF79C6;">    name</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FF79C6;">    CASE</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#FF79C6;">        WHEN</span><span style="color:#F8F8F2;"> score </span><span style="color:#FF79C6;">&gt;=</span><span style="color:#BD93F9;"> 90</span><span style="color:#FF79C6;"> THEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">优秀</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">        WHEN</span><span style="color:#F8F8F2;"> score </span><span style="color:#FF79C6;">&gt;=</span><span style="color:#BD93F9;"> 70</span><span style="color:#FF79C6;"> THEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">良好</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">        WHEN</span><span style="color:#F8F8F2;"> score </span><span style="color:#FF79C6;">&gt;=</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> THEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">及格</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">        ELSE</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">不及格</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">    END</span><span style="color:#FF79C6;"> AS</span><span style="color:#F8F8F2;"> grade</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> students;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="加密函数" tabindex="-1"><a class="header-anchor" href="#加密函数"><span>加密函数</span></a></h3><table><thead><tr><th>函数名</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td>MD5()</td><td>计算MD5哈希值</td><td>MD5(&#39;password&#39;) = &#39;5f4dcc3b5aa765d61d8327deb882cf99&#39;</td></tr><tr><td>SHA1()</td><td>计算SHA1哈希值</td><td>SHA1(&#39;password&#39;) = &#39;5baa61e4c9b93f3f0682250b6cf8331b7ee68fd8&#39;</td></tr></tbody></table><h2 id="约束" tabindex="-1"><a class="header-anchor" href="#约束"><span>约束</span></a></h2><p>约束是作用于表中字段上的规则，用于限制存储在表中的数据 目的确保数据库中的数据的正确、有效性和完整性</p><table><thead><tr><th>约束类型</th><th>说明</th><th>使用场景</th></tr></thead><tbody><tr><td>NOT NULL</td><td>不允许为NULL值</td><td>确保数据字段有值，如用户名、邮箱</td></tr><tr><td>UNIQUE</td><td>唯一约束，保证列的值唯一</td><td>确保用户名、邮箱地址唯一</td></tr><tr><td>PRIMARY KEY</td><td>主键约束，保证唯一性和非空性</td><td>一般用于标识每一行数据的唯一性</td></tr><tr><td>FOREIGN KEY</td><td>外键约束，用于保证引用的完整性</td><td>保证父表（如用户表）与子表（如订单表）数据一致性</td></tr><tr><td>CHECK</td><td>检查约束，用于保证字段值的合法性</td><td>确保年龄字段在0到150岁之间</td></tr><tr><td>DEFAULT</td><td>默认值约束，当插入数据时，字段没有指定值时使用默认值</td><td>自动给某些字段赋默认值</td></tr></tbody></table><h3 id="not-null" tabindex="-1"><a class="header-anchor" href="#not-null"><span>NOT NULL</span></a></h3><p>作用：确保某一列数据不能为空。 在插入数据时，如果没有提供这个字段的值，则会报错。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> users</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#FF79C6;">INT</span><span style="color:#FF79C6;"> NOT NULL</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FF79C6;">    name</span><span style="color:#FF79C6;"> VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">NOT NULL</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    email </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="unique" tabindex="-1"><a class="header-anchor" href="#unique"><span>UNIQUE</span></a></h3><p>作用：确保列中的所有值都是唯一的，即不能重复。 但是，它可以包含NULL值（一个表可以有多个NULL值）</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> users</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#FF79C6;">INT</span><span style="color:#F8F8F2;"> AUTO_INCREMENT </span><span style="color:#FF79C6;">PRIMARY KEY</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    username </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">50</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">UNIQUE</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    email </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">UNIQUE</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="primary-key" tabindex="-1"><a class="header-anchor" href="#primary-key"><span>PRIMARY KEY</span></a></h3><p>作用：主键，保证该列的值唯一且不能为空。 一个表只能有一个主键。主键自动隐式添加了 NOT NULL 和 UNIQUE 约束。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> users</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#FF79C6;">INT</span><span style="color:#F8F8F2;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="color:#F8F8F2;">    username </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">50</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    email </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#FF79C6;">    PRIMARY KEY</span><span style="color:#F8F8F2;"> (id)</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="foreign-key" tabindex="-1"><a class="header-anchor" href="#foreign-key"><span>FOREIGN KEY</span></a></h3><p>作用：外键，用于建立表与表之间的关联关系。 外键约束可以保证数据的完整性和一致性。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> orders</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#FF79C6;">INT</span><span style="color:#F8F8F2;"> AUTO_INCREMENT </span><span style="color:#FF79C6;">PRIMARY KEY</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    user_id </span><span style="color:#FF79C6;">INT</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    product_name </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#FF79C6;">    FOREIGN KEY</span><span style="color:#F8F8F2;"> (user_id) </span><span style="color:#FF79C6;">REFERENCES</span><span style="color:#F8F8F2;"> users(id)</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="check" tabindex="-1"><a class="header-anchor" href="#check"><span>CHECK</span></a></h3><p>作用：检查约束，用于保证字段值的合法性。 MySQL 8.0.16版本开始支持CHECK约束。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> users</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#FF79C6;">INT</span><span style="color:#F8F8F2;"> AUTO_INCREMENT </span><span style="color:#FF79C6;">PRIMARY KEY</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    username </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">50</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    age </span><span style="color:#FF79C6;">INT</span><span style="color:#FF79C6;"> CHECK</span><span style="color:#F8F8F2;"> (age </span><span style="color:#FF79C6;">&gt;=</span><span style="color:#BD93F9;"> 0</span><span style="color:#FF79C6;"> AND</span><span style="color:#F8F8F2;"> age </span><span style="color:#FF79C6;">&lt;=</span><span style="color:#BD93F9;"> 150</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="default" tabindex="-1"><a class="header-anchor" href="#default"><span>DEFAULT</span></a></h3><p>作用：默认值约束，当插入数据时，如果没有提供这个字段的值，则会使用默认值。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">CREATE</span><span style="color:#FF79C6;"> TABLE</span><span style="color:#50FA7B;"> users</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#FF79C6;">INT</span><span style="color:#F8F8F2;"> AUTO_INCREMENT </span><span style="color:#FF79C6;">PRIMARY KEY</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    username </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">50</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    email </span><span style="color:#FF79C6;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    age </span><span style="color:#FF79C6;">INT</span><span style="color:#FF79C6;"> DEFAULT</span><span style="color:#BD93F9;"> 18</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="多表查询" tabindex="-1"><a class="header-anchor" href="#多表查询"><span>多表查询</span></a></h2><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>INNER JOIN</td><td>内连接，只返回两个表中符合条件的记录</td></tr><tr><td>LEFT JOIN</td><td>左连接，返回左表的全部记录，右表匹配的有就返回，没有就补NULL</td></tr><tr><td>RIGHT JOIN</td><td>右连接，返回右表的全部记录，左表匹配的有就返回，没有就补NULL</td></tr><tr><td>FULL JOIN</td><td>全连接（MySQL原生不支持，需要用 UNION 模拟）</td></tr></tbody></table><h3 id="inner-join-内连接" tabindex="-1"><a class="header-anchor" href="#inner-join-内连接"><span>INNER JOIN（内连接）</span></a></h3><p>只返回两张表都能匹配上的数据。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#BD93F9;"> a</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">列1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">b</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">列2</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> 表A a</span></span>
<span class="line"><span style="color:#FF79C6;">INNER JOIN</span><span style="color:#F8F8F2;"> 表B b</span></span>
<span class="line"><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> a</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">关联字段</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> b</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">关联字段</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#6272A4;">--  只显示那些【有订单】的用户。</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">amount</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> users u</span></span>
<span class="line"><span style="color:#FF79C6;">INNER JOIN</span><span style="color:#F8F8F2;"> orders o </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">user_id</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="left-join-左连接" tabindex="-1"><a class="header-anchor" href="#left-join-左连接"><span>LEFT JOIN（左连接）</span></a></h3><p>返回左表的全部数据，右表没有的用NULL补齐。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#BD93F9;"> a</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">列1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">b</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">列2</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> 表A a</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> 表B b</span></span>
<span class="line"><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> a</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">关联字段</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> b</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">关联字段</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 例子：查出所有用户和他们的订单（没有订单也要显示）</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">amount</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> users u</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> orders o </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">user_id</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="right-join-右连接" tabindex="-1"><a class="header-anchor" href="#right-join-右连接"><span>RIGHT JOIN（右连接）</span></a></h3><p>反过来：以右表为主。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#BD93F9;"> a</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">列1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">b</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">列2</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> 表A a</span></span>
<span class="line"><span style="color:#FF79C6;">RIGHT JOIN</span><span style="color:#F8F8F2;"> 表B b</span></span>
<span class="line"><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> a</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">关联字段</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> b</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">关联字段</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 查出所有订单及对应下单人（哪怕有些订单找不到用户也列出来）</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">amount</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> users u</span></span>
<span class="line"><span style="color:#FF79C6;">RIGHT JOIN</span><span style="color:#F8F8F2;"> orders o </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">user_id</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="self-join-自连接" tabindex="-1"><a class="header-anchor" href="#self-join-自连接"><span>SELF JOIN（自连接）</span></a></h3><p>一张表自己和自己连接。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#BD93F9;"> a</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">列1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">b</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">列2</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> 表A a</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> 表A b</span></span>
<span class="line"><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> a</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">关联字段</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> b</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">关联字段</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">-- 查询员工及其上级的名字</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#BD93F9;"> e1</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">name</span><span style="color:#FF79C6;"> AS</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">员工</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">e2</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">name</span><span style="color:#FF79C6;"> AS</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">上级</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> employees e1</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> employees e2 </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> e1</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">manager_id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> e2</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="union" tabindex="-1"><a class="header-anchor" href="#union"><span>UNION</span></a></h3><p>UNION 操作符用于将两个或多个 SELECT 查询的结果合并到一个结果集中。合并后的结果将包含所有查询的记录，但重复的记录默认会去除。</p><p><code>employees</code>表 id | name | role 1 | Alice | Developer 2 | Bob | Designer 3 | Charlie | Manager</p><p><code>contractors</code>表 id | name | role 1 | Dave | Developer 2 | Eve | Designer 3 | Frank | Developer</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> name</span><span style="color:#F8F8F2;">, </span><span style="color:#FF79C6;">role</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> employees </span><span style="color:#FF79C6;">WHERE</span><span style="color:#FF79C6;"> role</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Developer</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">UNION</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> name</span><span style="color:#F8F8F2;">, </span><span style="color:#FF79C6;">role</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> contractors </span><span style="color:#FF79C6;">WHERE</span><span style="color:#FF79C6;"> role</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Developer</span><span style="color:#E9F284;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询结果 name | role Alice | Developer Charlie | Manager</p><p>Dave | Developer Frank | Developer</p><p>UNION ALL 保留重复的行</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> name</span><span style="color:#F8F8F2;">, </span><span style="color:#FF79C6;">role</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> employees </span><span style="color:#FF79C6;">WHERE</span><span style="color:#FF79C6;"> role</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Developer</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">UNION ALL</span></span>
<span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> name</span><span style="color:#F8F8F2;">, </span><span style="color:#FF79C6;">role</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> contractors </span><span style="color:#FF79C6;">WHERE</span><span style="color:#FF79C6;"> role</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Developer</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>name | role Alice | Developer Dave | Developer Frank | Developer</p><h3 id="子查询" tabindex="-1"><a class="header-anchor" href="#子查询"><span>子查询</span></a></h3><p>子查询（也称为嵌套查询）是指在一个查询中嵌套另一个查询。子查询可以出现在SELECT、FROM、WHERE等子句中。</p><p>子查询可以返回标量值（单个值）、列、行或表。根据子查询返回的结果类型，可以分为以下几种：</p><ol><li>标量子查询：子查询返回单个值，通常用于比较运算符（如=、&lt;、&gt;等）中。</li><li>列子查询：子查询返回一列值，通常用于IN、ANY、ALL等运算符中。</li><li>行子查询：子查询返回一行值，通常用于比较运算符（如=、&lt;、&gt;等）中。</li><li>表子查询：子查询返回一个表，通常用于FROM子句中。</li></ol><h3 id="标量子查询" tabindex="-1"><a class="header-anchor" href="#标量子查询"><span>标量子查询</span></a></h3><p>标量子查询返回单个值，通常用于比较运算符（如=、&lt;、&gt;等）中。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> name</span><span style="color:#F8F8F2;">, age </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> employees </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> age </span><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> AVG</span><span style="color:#F8F8F2;">(age) </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> employees);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="列子查询" tabindex="-1"><a class="header-anchor" href="#列子查询"><span>列子查询</span></a></h3><p>列子查询返回一列值，通常用于IN、ANY、ALL等运算符中。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> name</span><span style="color:#F8F8F2;">, age </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> employees </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> age </span><span style="color:#FF79C6;">IN</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> age </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> employees </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> department </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">IT</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="行子查询" tabindex="-1"><a class="header-anchor" href="#行子查询"><span>行子查询</span></a></h3><p>行子查询返回一行值，通常用于比较运算符（如=、&lt;、&gt;等）中。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> name</span><span style="color:#F8F8F2;">, age, department </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> employees </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> (age, department) </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">SELECT</span><span style="color:#8BE9FD;"> MIN</span><span style="color:#F8F8F2;">(age), department </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> employees);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="表子查询" tabindex="-1"><a class="header-anchor" href="#表子查询"><span>表子查询</span></a></h3><p>表子查询返回一个表，通常用于FROM子句中。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> *</span><span style="color:#FF79C6;"> FROM</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">SELECT</span><span style="color:#FF79C6;"> name</span><span style="color:#F8F8F2;">, age </span><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> employees </span><span style="color:#FF79C6;">WHERE</span><span style="color:#F8F8F2;"> age </span><span style="color:#FF79C6;">&gt;</span><span style="color:#BD93F9;"> 30</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> subquery;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="demo练习" tabindex="-1"><a class="header-anchor" href="#demo练习"><span>demo练习</span></a></h3><table><thead><tr><th>表名</th><th>说明</th><th>关键字段</th></tr></thead><tbody><tr><td>users</td><td>用户表</td><td>id, username</td></tr><tr><td>orders</td><td>订单表</td><td>id, user_id, total_amount, order_date</td></tr><tr><td>order_items</td><td>订单明细表</td><td>id, order_id, product_name, price, quantity</td></tr></tbody></table><p>一个用户（users）可以下很多订单（orders） 一个订单可以包含很多商品（order_items）</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span>查询每个用户：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>下了多少个订单</span></span>
<span class="line"><span>买了多少件商品</span></span>
<span class="line"><span>花了多少钱</span></span>
<span class="line"><span>按花的钱最多的用户排序</span></span>
<span class="line"><span>只展示前10名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">    u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FD;">    COUNT</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">DISTINCT</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> total_orders,</span></span>
<span class="line"><span style="color:#8BE9FD;">    SUM</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">quantity</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> total_products,</span></span>
<span class="line"><span style="color:#8BE9FD;">    SUM</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">price</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">quantity</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> total_spent</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    users u</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    orders o </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">user_id</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    order_items oi </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">order_id</span></span>
<span class="line"><span style="color:#FF79C6;">GROUP BY</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">    u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span></span>
<span class="line"><span style="color:#FF79C6;">ORDER BY</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    total_spent </span><span style="color:#FF79C6;">DESC</span></span>
<span class="line"><span style="color:#FF79C6;">LIMIT</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span>查询每个用户：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>只统计【2024年】内的订单</span></span>
<span class="line"><span>只统计【已支付】状态的订单（假设 orders.status = &#39;paid&#39;）</span></span>
<span class="line"><span>计算下单数、购买商品总数、消费总金额</span></span>
<span class="line"><span>按消费金额倒序排列</span></span>
<span class="line"><span>只取前10名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">    u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FD;">    COUNT</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">DISTINCT</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> total_orders,</span></span>
<span class="line"><span style="color:#8BE9FD;">    SUM</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">quantity</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> total_products,</span></span>
<span class="line"><span style="color:#8BE9FD;">    SUM</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">price</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">quantity</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> total_spent</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    users u</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    orders o </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">user_id</span></span>
<span class="line"><span style="color:#FF79C6;">    AND</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">status</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">paid</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">    AND</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">order_date</span><span style="color:#FF79C6;"> BETWEEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">2024-01-01</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> AND</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">2024-12-31</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    order_items oi </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">order_id</span></span>
<span class="line"><span style="color:#FF79C6;">GROUP BY</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">    u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span></span>
<span class="line"><span style="color:#FF79C6;">ORDER BY</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    total_spent </span><span style="color:#FF79C6;">DESC</span></span>
<span class="line"><span style="color:#FF79C6;">LIMIT</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span>在之前的基础上，新需求：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>查询【每个用户】在【2024年支付成功的订单】中</span></span>
<span class="line"><span>他们【买得最多的一种商品名称】（即数量最多的商品）</span></span>
<span class="line"><span>同时显示：用户名、最多购买的商品名、购买数量</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">    t</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#BD93F9;">    t</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">product_name</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#BD93F9;">    t</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">total_quantity</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#FF79C6;">    SELECT</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">        u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#BD93F9;">        oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">product_name</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FD;">        SUM</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">quantity</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> total_quantity,</span></span>
<span class="line"><span style="color:#8BE9FD;">        ROW_NUMBER</span><span style="color:#F8F8F2;">() </span><span style="color:#FF79C6;">OVER</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">PARTITION</span><span style="color:#FF79C6;"> BY</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> ORDER BY</span><span style="color:#8BE9FD;"> SUM</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">quantity</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">DESC</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> rn</span></span>
<span class="line"><span style="color:#FF79C6;">    FROM</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">        users u</span></span>
<span class="line"><span style="color:#FF79C6;">    LEFT JOIN</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">        orders o </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">user_id</span></span>
<span class="line"><span style="color:#FF79C6;">        AND</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">status</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">paid</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">        AND</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">order_date</span><span style="color:#FF79C6;"> BETWEEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">2024-01-01</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> AND</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">2024-12-31</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">    LEFT JOIN</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">        order_items oi </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">order_id</span></span>
<span class="line"><span style="color:#FF79C6;">    GROUP BY</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">        u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">product_name</span></span>
<span class="line"><span style="color:#F8F8F2;">) t</span></span>
<span class="line"><span style="color:#FF79C6;">WHERE</span><span style="color:#BD93F9;"> t</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">rn</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 1</span></span>
<span class="line"><span style="color:#FF79C6;">ORDER BY</span><span style="color:#BD93F9;"> t</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">total_quantity</span><span style="color:#FF79C6;"> DESC</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">窗口函数</p><p>窗口函数名称 (参数) OVER ( [PARTITION BY 分组列] [ORDER BY 排序列] [窗口框架] )</p></div><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span>查询【每个用户】在【2024年支付成功的订单】中：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>统计用户的消费总额</span></span>
<span class="line"><span>计算在所有用户中【消费总额排名】</span></span>
<span class="line"><span></span></span>
<span class="line"><span>要显示：</span></span>
<span class="line"><span>用户名</span></span>
<span class="line"><span>总消费金额</span></span>
<span class="line"><span>消费排名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">SELECT</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">    u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FD;">    COALESCE</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;">SUM</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">price</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">quantity</span><span style="color:#F8F8F2;">), </span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> total_spent,</span></span>
<span class="line"><span style="color:#8BE9FD;">    RANK</span><span style="color:#F8F8F2;">() </span><span style="color:#FF79C6;">OVER</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">ORDER BY</span><span style="color:#8BE9FD;"> SUM</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">price</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">quantity</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">DESC</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">AS</span><span style="color:#F8F8F2;"> spending_rank</span></span>
<span class="line"><span style="color:#FF79C6;">FROM</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    users u</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    orders o </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">user_id</span></span>
<span class="line"><span style="color:#FF79C6;">    AND</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">status</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">paid</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">    AND</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">order_date</span><span style="color:#FF79C6;"> BETWEEN</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">2024-01-01</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> AND</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">2024-12-31</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">LEFT JOIN</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    order_items oi </span><span style="color:#FF79C6;">ON</span><span style="color:#BD93F9;"> o</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> oi</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">order_id</span></span>
<span class="line"><span style="color:#FF79C6;">GROUP BY</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#BD93F9;">    u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">id</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">u</span><span style="color:#F8F8F2;">.</span><span style="color:#BD93F9;">username</span></span>
<span class="line"><span style="color:#FF79C6;">ORDER BY</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    spending_rank;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="事务" tabindex="-1"><a class="header-anchor" href="#事务"><span>事务</span></a></h2><h2 id="储存引擎" tabindex="-1"><a class="header-anchor" href="#储存引擎"><span>储存引擎</span></a></h2><h2 id="索引" tabindex="-1"><a class="header-anchor" href="#索引"><span>索引</span></a></h2><h2 id="sql优化" tabindex="-1"><a class="header-anchor" href="#sql优化"><span>SQL优化</span></a></h2><h2 id="视图" tabindex="-1"><a class="header-anchor" href="#视图"><span>视图</span></a></h2><h2 id="储存过程" tabindex="-1"><a class="header-anchor" href="#储存过程"><span>储存过程</span></a></h2><h2 id="触发器" tabindex="-1"><a class="header-anchor" href="#触发器"><span>触发器</span></a></h2><h2 id="锁" tabindex="-1"><a class="header-anchor" href="#锁"><span>锁</span></a></h2><h2 id="innodb引擎" tabindex="-1"><a class="header-anchor" href="#innodb引擎"><span>InnoDB引擎</span></a></h2><h2 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h2></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><div id="comment" class="waline-wrapper vp-comment" vp-comment darkmode="false" style="display:block;"><!----></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/blog/assets/app-DPJYBgB6.js" defer></script>
  </body>
</html>
