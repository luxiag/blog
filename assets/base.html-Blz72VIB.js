import{_ as n,c as l,a,o as e}from"./app-8EmQY2oD.js";const p={};function o(t,s){return e(),l("div",null,s[0]||(s[0]=[a(`<h1 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h1><h1 id="typescript" tabindex="-1"><a class="header-anchor" href="#typescript"><span>TypeScript</span></a></h1><ul><li>TypeScript 是 JavaScript 的超集，它可以编译成纯 JavaScript。</li><li>TypeScript 基于 ECMAScript 标准进行拓展，支持 ECMAScript 未来提案中的特性，如装饰器、异步功能等。</li><li>TypeScript 编译的 JavaScript 可以在任何浏览器运行，TypeScript 编译工具可以运行在任何操作系统上。</li><li>TypeScript 起源于开发较大规模 JavaScript 应用程序的需求。由微软在2012年发布了首个公开版本。</li></ul><h1 id="ecmascript" tabindex="-1"><a class="header-anchor" href="#ecmascript"><span>ECMAScript</span></a></h1><p><code>ECMA International</code>: 一个制定技术标准的组织。</p><p><code>ECMA-262</code>：由 ECMA International 发布。它包含了脚本语言的标准。</p><p><code>ECMAScript</code>: 由 ECMA International 以 ECMA-262 和 ECMA-402 规范的形式进行标准化的。</p><p><code>JavaScript</code>: 通用脚本编程语言，它遵循了 ECMAScript 标准。 换句话说，JavaScript 是 ECMAScript 的方言。</p><p>通过阅读 ECMAScript 标准，你可以学会怎样实现一个脚本语言；而通过阅读 JavaScript 文档，你可以学会怎样使用脚本语言编程。</p><p>2019年6月，ECMA-262 第10版定义了 ECMAScript 2019 通用编程语言。</p><h1 id="类型系统" tabindex="-1"><a class="header-anchor" href="#类型系统"><span><strong>类型系统</strong></span></a></h1><h2 id="类型安全-强类型、弱类型" tabindex="-1"><a class="header-anchor" href="#类型安全-强类型、弱类型"><span><strong>类型安全---强类型、弱类型</strong></span></a></h2><p>强类型不允许随意的类型转换，弱类型允许</p><p>**强类型 ：**要求语言层面限制函数的实参类型必须与形参类型相同。<strong>弱类型 :</strong> 语言层面不会限制实参的类型。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Main</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#6272A4;">    // 这里定义了传入的参数是int类型，那么实际的时候也应该是int类型</span></span>
<span class="line"><span style="color:#FF79C6;">    static</span><span style="color:#FF79C6;"> void</span><span style="color:#50FA7B;"> foo</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">int</span><span style="color:#FFB86C;font-style:italic;"> num</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        System.out.</span><span style="color:#50FA7B;">printIn</span><span style="color:#F8F8F2;">(num);</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> static</span><span style="color:#FF79C6;"> void</span><span style="color:#50FA7B;"> main</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">Sting</span><span style="color:#F8F8F2;">[] </span><span style="color:#FFB86C;font-style:italic;">args</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#6272A4;">        // 下面的如果int类型就通过，如果不是int类型就会报错</span></span>
<span class="line"><span style="color:#F8F8F2;">        Main.</span><span style="color:#50FA7B;">foo</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">// ok</span></span>
<span class="line"><span style="color:#F8F8F2;">        Main.</span><span style="color:#50FA7B;">foo</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">// error &quot;100&quot; is a string</span></span>
<span class="line"><span style="color:#F8F8F2;">        Main.</span><span style="color:#50FA7B;">foo</span><span style="color:#F8F8F2;">(Integer.</span><span style="color:#50FA7B;">parseInt</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)); </span><span style="color:#6272A4;">// ok</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span><span style="color:#F1FA8C;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F1FA8C;">\`</span><span style="color:#6272A4;">// 传的时候没有规定是什么类型，那么实参是什么类型都不会报错</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> foo</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">num</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(num)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">foo</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;">// ok</span></span>
<span class="line"><span style="color:#50FA7B;">foo</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;">// ok</span></span>
<span class="line"><span style="color:#50FA7B;">foo</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">parseInt</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)) </span><span style="color:#6272A4;">// ok</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>强类型语言中不允许有任何的隐式类型转换，而弱类型语言则允许任意的数据隐式类型转换。</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// js报的错误都是在代码层面，运行的时候通过逻辑判断手动抛出的，并不是语法层面的类型限制</span></span>
<span class="line"><span style="color:#6272A4;">// 下面&#39;100&#39;是字符串，在做减法的时候进行了隐式类型转换，转换成了Number类型，最后得到的结果是50，Number类型。</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> -</span><span style="color:#BD93F9;"> 50</span></span>
<span class="line"><span style="color:#BD93F9;">50</span></span>
<span class="line"><span style="color:#6272A4;">// 下面字符串进行隐式类型转换，不是数字的成为NaN（不是数字）</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> Math.</span><span style="color:#50FA7B;">floor</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">foo</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#BD93F9;">NaN</span></span>
<span class="line"><span style="color:#6272A4;">// 布尔值进行隐式类型转换，转成了数字1</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#F8F8F2;"> Math.</span><span style="color:#50FA7B;">floor</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#BD93F9;">1</span><span style="color:#F1FA8C;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F1FA8C;">\`</span><span style="color:#F8F8F2;"># 这里无法进行隐式类型转换，会在语法层面上报类型错误</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> -</span><span style="color:#BD93F9;"> 50</span></span>
<span class="line"><span style="color:#F8F8F2;">TypeError: unsupported operand </span><span style="color:#50FA7B;">type</span><span style="color:#F8F8F2;">(s) for </span><span style="color:#FF79C6;">-</span><span style="color:#F8F8F2;">: </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">str</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;"> and </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">int</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">&gt;</span><span style="color:#50FA7B;"> abs</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">foo</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">TypeError: bad operand </span><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> for</span><span style="color:#F8F8F2;"> abs(): &#39;str&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="类型检查-静态类型、动态类型" tabindex="-1"><a class="header-anchor" href="#类型检查-静态类型、动态类型"><span><strong>类型检查 --- 静态类型、动态类型</strong></span></a></h2><p>**静态类型 ：**一个变量声明时它的类型就是明确的，声明过后，类型不能修改。**动态类型 ：**运行阶段才可以明确变量的类型，而且变量的类型随时可以改变。所以动态类型语言中的变量没有类型，变量中存放的值时有类型的。</p><p><strong>静态类型不能修改变量的类型，动态类型可以随时去修改变量的类型。</strong></p><h1 id="javascript-类型系统特征" tabindex="-1"><a class="header-anchor" href="#javascript-类型系统特征"><span><strong>JavaScript 类型系统特征</strong></span></a></h1><p>JavaScript 是弱类型且动态类型的语言，灵活多变，可以进行 <strong>隐式转换</strong> ，也可以进行 <strong>类型推断</strong> ，但是缺失了类型系统的可靠性。</p><h2 id="js-是弱类型且动态类型" tabindex="-1"><a class="header-anchor" href="#js-是弱类型且动态类型"><span><strong>JS 是弱类型且动态类型</strong></span></a></h2><ul><li>早前的 JavaScript 应用简单，所以并没有复杂的类型系统</li><li>JavaScript 是脚本语言，没有编译环节，所以设计成静态语言是没有意义的</li></ul><h2 id="需要类型检测" tabindex="-1"><a class="header-anchor" href="#需要类型检测"><span><strong>需要类型检测</strong></span></a></h2><ul><li>因为现在的 JavaScript 应用越来越复杂，开发周期也越来越长，越来越大的项目几百行代码已经不满足现状了，所以现在弱类型已经成为了 JavaScript 的短板。</li><li>这些东西只能通过约定去规避问题，但是在大型项目中通过人为约定存在隐患</li></ul><h2 id="弱类型的不足" tabindex="-1"><a class="header-anchor" href="#弱类型的不足"><span><strong>弱类型的不足</strong></span></a></h2><p>只有在运行阶段才能发现代码的异常，代码没有执行的时候也无法发现代码异常，在隐藏比较深的情况下，测试不能百分百覆盖。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#F8F8F2;">obj.</span><span style="color:#50FA7B;">foo</span><span style="color:#F8F8F2;">() </span><span style="color:#6272A4;">// TypeError: obj.foo is not a function</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 下面这个延时器，在时间到了之后才会运行，给测试带来麻烦</span></span>
<span class="line"><span style="color:#50FA7B;">setTimeout</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  obj.</span><span style="color:#50FA7B;">foo</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">}, </span><span style="color:#BD93F9;">100000</span><span style="color:#F8F8F2;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>函数参数类型不确定，输入的结果有偏差</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 不明确是数字，所以结果不一样</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> sum</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">a</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">b</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> a </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> b</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">sum</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">)) </span><span style="color:#6272A4;">// 200</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">sum</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">100</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">100</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)) </span><span style="color:#6272A4;">// 100100</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>隐式类型转换在对象属性名转化成字符串，里面的内容会有很多的问题</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 定义一个字符串，对象的属性名不能是对象，会自动转换成字符串，如果不满足就会有问题</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#F8F8F2;">obj[</span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">] </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 100</span></span>
<span class="line"><span style="color:#F8F8F2;">obj[{ name</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;"> }] </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(obj) </span><span style="color:#6272A4;">// {true: 100, [object Object]: 1}</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(obj[</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">true</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">]) </span><span style="color:#6272A4;">// 100</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(obj[</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">[object Object]</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">]) </span><span style="color:#6272A4;">// 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="强类型的优势" tabindex="-1"><a class="header-anchor" href="#强类型的优势"><span><strong>强类型的优势</strong></span></a></h2><ul><li>错误在开发阶段就会暴露，越早发现越好</li><li>代码更智能，编码更准确（开发工具的智能提示因为有变量类型才有提示）</li><li>重构更牢靠（如果项目中很多地方用到的成员，需要删除成员或者修改成员名称的时候，弱类型语言会有隐患）</li><li>减少不必要的类型判断</li></ul><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> sum</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">a</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">b</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">typeof</span><span style="color:#F8F8F2;"> a </span><span style="color:#FF79C6;">!==</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">number</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> ||</span><span style="color:#FF79C6;"> typeof</span><span style="color:#F8F8F2;"> b </span><span style="color:#FF79C6;">!==</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">number</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    throw</span><span style="color:#FF79C6;font-weight:bold;"> new</span><span style="color:#50FA7B;"> TypeError</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">arguments must be a number</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> a </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> b</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="类型系统问题解决方案" tabindex="-1"><a class="header-anchor" href="#类型系统问题解决方案"><span><strong>类型系统问题解决方案</strong></span></a></h2><ul><li>Flow</li><li>TypeScript</li></ul><h2 id="编译型语言和解释型语言" tabindex="-1"><a class="header-anchor" href="#编译型语言和解释型语言"><span><strong>编译型语言和解释型语言</strong></span></a></h2><blockquote><p><strong>编译型语言</strong>使用专门的编译器，针对特定的平台，将高级语言源代码一次性的编译成可被该平台硬件执行的机器码，并包装成该平台所能识别的可执行性程序的格式。编译型语言一次性的编译成平台相关的机器语言 文件，运行时脱离开发环境，与特定平台相关，一般无法移植到其他平台，现有的 C、C++、Objective 等都属于编译型语言。 <strong>解释型语言</strong>使用专门的解释器对源程序逐行解释成特定平台的机器码并立即执行。是 代码在执行时才被解释器一行行动态翻译成机器语言和执行，而不是在执行之前就完成翻译。解释型语言每次运行都需要将源代码解释称机器码并执行，只要平台提供相应的解释器，就可以运行源代码，Python、Java、JavaScript 等属于解释型语言。</p></blockquote><h1 id="数据类型" tabindex="-1"><a class="header-anchor" href="#数据类型"><span>数据类型</span></a></h1><p>TypeScript 中的类型有：</p><ul><li>原始类型 <ul><li>boolean</li><li>number</li><li>string</li><li>void</li><li>null</li><li>undefined</li><li>bigint</li><li>symbol</li></ul></li><li>元组 tuple</li><li>枚举 enum</li><li>任意 any</li><li>unknown</li><li>never</li><li>数组 Array</li><li>对象 object</li></ul><h1 id="array" tabindex="-1"><a class="header-anchor" href="#array"><span>array</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">//第一种，可以在元素类型后面接上 []，表示由此类型元素组成的一个数组：</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> list</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">[] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"><span style="color:#6272A4;">//第二种方式是使用数组泛型，Array&lt;元素类型&gt;：</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> list</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Array</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="tuple" tabindex="-1"><a class="header-anchor" href="#tuple"><span>Tuple</span></a></h1><p>表示一个已知元素数量和类型的数组，各元素的类型不必相同。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// Declare a tuple type</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> x</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"><span style="color:#6272A4;">// Initialize it</span></span>
<span class="line"><span style="color:#F8F8F2;">x </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">hello</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">]; </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#6272A4;">// Initialize it incorrectly</span></span>
<span class="line"><span style="color:#F8F8F2;">x </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">hello</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]; </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="enum" tabindex="-1"><a class="header-anchor" href="#enum"><span>enum</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Color</span><span style="color:#F8F8F2;"> {Red, Green, Blue}</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> c</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Color</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> Color.Green;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="any" tabindex="-1"><a class="header-anchor" href="#any"><span>any</span></a></h1><p>不希望类型检查器对这些值进行检查而是直接让它们通过编译阶段的检查</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> notSure</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 4</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">notSure </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">maybe a string instead</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">notSure </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> false</span><span style="color:#F8F8F2;">; </span><span style="color:#6272A4;">// okay, definitely a boolean</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="never" tabindex="-1"><a class="header-anchor" href="#never"><span>never</span></a></h1><p>永不存在的值的类型</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 返回never的函数必须存在无法达到的终点</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> error</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">message</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> never</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">    throw</span><span style="color:#FF79C6;font-weight:bold;"> new</span><span style="color:#50FA7B;"> Error</span><span style="color:#F8F8F2;">(message);</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 推断的返回值类型为never</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> fail</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#50FA7B;"> error</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">Something failed</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 返回never的函数必须存在无法达到的终点</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> infiniteLoop</span><span style="color:#F8F8F2;">()</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> never</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">    while</span><span style="color:#F8F8F2;"> (</span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="object" tabindex="-1"><a class="header-anchor" href="#object"><span>object</span></a></h1><p><code>object</code>表示非原始类型，也就是除<code>number</code>，<code>string</code>，<code>boolean</code>，<code>symbol</code>，<code>null</code>或<code>undefined</code>之外的类型。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// node_modules/typescript/lib/lib.es5.d.ts</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> ObjectConstructor</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#50FA7B;">  create</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">o</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> object</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> null</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#6272A4;">  // ...</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> proto </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">Object.</span><span style="color:#50FA7B;">create</span><span style="color:#F8F8F2;">(proto);     </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#F8F8F2;">Object.</span><span style="color:#50FA7B;">create</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">null</span><span style="color:#F8F8F2;">);      </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#F8F8F2;">Object.</span><span style="color:#50FA7B;">create</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">undefined</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#F8F8F2;">Object.</span><span style="color:#50FA7B;">create</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">1337</span><span style="color:#F8F8F2;">);      </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#F8F8F2;">Object.</span><span style="color:#50FA7B;">create</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">);      </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#F8F8F2;">Object.</span><span style="color:#50FA7B;">create</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">oops</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);    </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>boolean</li><li>number</li><li>string</li><li>void</li><li>null</li><li>undefined</li><li>bigint</li><li>symbol</li></ul><h1 id="boolean" tabindex="-1"><a class="header-anchor" href="#boolean"><span>boolean</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> isDone</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> false</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="number" tabindex="-1"><a class="header-anchor" href="#number"><span>number</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> decLiteral</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 6</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> hexLiteral</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 0xf00d</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> binaryLiteral</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 0b1010</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> octalLiteral</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 0o744</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="string" tabindex="-1"><a class="header-anchor" href="#string"><span>string</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">bob</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">name </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">smith</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="void" tabindex="-1"><a class="header-anchor" href="#void"><span>void</span></a></h1><p>表示没有任何类型</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">//当一个函数没有返回值时，你通常会见到其返回值类型是 void：</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> warnUser</span><span style="color:#F8F8F2;">()</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">This is my warning message</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">//声明一个void类型的变量没有什么大用，因为你只能为它赋予undefined和null：</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> unusable</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> undefined</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="null" tabindex="-1"><a class="header-anchor" href="#null"><span>null</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> n</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> null</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> null</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="undefined" tabindex="-1"><a class="header-anchor" href="#undefined"><span>undefined</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> u</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> undefined</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="bigint" tabindex="-1"><a class="header-anchor" href="#bigint"><span>bigInt</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> theBiggestInt</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> bigint</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 9007199254740991</span><span style="color:#FF79C6;">n</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> alsoHuge</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> bigint</span><span style="color:#FF79C6;"> =</span><span style="color:#50FA7B;"> BigInt</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">9007199254740991</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> hugeString</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> bigint</span><span style="color:#FF79C6;"> =</span><span style="color:#50FA7B;"> BigInt</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">9007199254740991</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">theBiggestInt </span><span style="color:#FF79C6;">===</span><span style="color:#F8F8F2;"> alsoHuge </span><span style="color:#6272A4;">// true</span></span>
<span class="line"><span style="color:#F8F8F2;">theBiggestInt </span><span style="color:#FF79C6;">===</span><span style="color:#F8F8F2;"> hugeString </span><span style="color:#6272A4;">// true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>BigInt</code> 与 <code>Number</code> 的不同点：</p><ul><li><code>BigInt</code> 不能用于 <code>Math</code> 对象中的方法。</li><li><code>BigInt</code> 不能和任何 <code>Number</code> 实例混合运算，两者必须转换成同一种类型。</li><li><code>BigInt</code> 变量在转换为 <code>Number</code> 变量时可能会丢失精度。</li></ul><h1 id="symbol" tabindex="-1"><a class="header-anchor" href="#symbol"><span>symbol</span></a></h1><p>Symbol() 函数会返回 symbol 类型的值。每个从 Symbol() 返回的 symbol 值都是唯一的。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> sym1</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> symbol</span><span style="color:#FF79C6;"> =</span><span style="color:#50FA7B;"> Symbol</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> sym2</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> symbol</span><span style="color:#FF79C6;"> =</span><span style="color:#50FA7B;"> Symbol</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">foo</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> sym3</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> symbol</span><span style="color:#FF79C6;"> =</span><span style="color:#50FA7B;"> Symbol</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">foo</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>相同类型元素组成成为数组，不同类型元素组成了元组（Tuple）。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> list</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">1887</span><span style="color:#F8F8F2;">]   </span><span style="color:#6272A4;">// ok</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> list1</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1887</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]  </span><span style="color:#6272A4;">// error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> list</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">1887</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">list[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">].</span><span style="color:#50FA7B;">substr</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">)  </span><span style="color:#6272A4;">// ok</span></span>
<span class="line"><span style="color:#F8F8F2;">list[</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">].</span><span style="color:#50FA7B;">substr</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">)  </span><span style="color:#6272A4;">// Property &#39;substr&#39; does not exist on type &#39;number&#39;.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">//第 3 行，list[0] 是一个字符串类型，拥有 substr() 方法。</span></span>
<span class="line"><span style="color:#6272A4;">//第 4 行，list[1] 是一个数字类型，没有 substr() 方法，所以报错。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>可以越界添加元素（不建议），但是不可越界访问：</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> list</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">1887</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">list.</span><span style="color:#50FA7B;">push</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">hello world</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(list)      </span><span style="color:#6272A4;">// ok [ &#39;Sherlock&#39;, 1887, &#39;hello world&#39; ]</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(list[</span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">])   </span><span style="color:#6272A4;">// Tuple type &#39;[string, number]&#39; of length &#39;2&#39; has no element at index &#39;2&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>允许在元素类型后缀一个 ? 来说明元素是可选的</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> list</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> [</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">boolean</span><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>定义一些带名字的常量。TypeScript 支持数字的和基于字符串的枚举。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Direction</span><span style="color:#F8F8F2;"> { Up, Down, Left, Right }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Months</span><span style="color:#F8F8F2;"> { Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Size</span><span style="color:#F8F8F2;"> { big </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">大</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, medium </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">中</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, small </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">小</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Agency</span><span style="color:#F8F8F2;"> { province </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">, city </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 2</span><span style="color:#F8F8F2;">, district </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 3</span><span style="color:#F8F8F2;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>声明一个枚举类型，如果没有赋值，它们的值默认为数字类型且从 0 开始累加：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Months</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  Jan,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Feb,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Mar,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Apr</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">Months.Jan </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 0</span><span style="color:#6272A4;"> // true</span></span>
<span class="line"><span style="color:#F8F8F2;">Months.Feb </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 1</span><span style="color:#6272A4;"> // true</span></span>
<span class="line"><span style="color:#F8F8F2;">Months.Mar </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 2</span><span style="color:#6272A4;"> // true</span></span>
<span class="line"><span style="color:#F8F8F2;">Months.Apr </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 3</span><span style="color:#6272A4;"> // true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现实中月份是从 1 月开始的，那么只需要这样：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 从第一个数字赋值，往后依次累加</span></span>
<span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Months</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  Jan </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Feb,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Mar,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Apr</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">Months.Jan </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 1</span><span style="color:#6272A4;"> // true</span></span>
<span class="line"><span style="color:#F8F8F2;">Months.Feb </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 2</span><span style="color:#6272A4;"> // true</span></span>
<span class="line"><span style="color:#F8F8F2;">Months.Mar </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 3</span><span style="color:#6272A4;"> // true</span></span>
<span class="line"><span style="color:#F8F8F2;">Months.Apr </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 4</span><span style="color:#6272A4;"> // true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>枚举类型的值可以是一个简单的计算表达式：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Calculate</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  a,</span></span>
<span class="line"><span style="color:#F8F8F2;">  b,</span></span>
<span class="line"><span style="color:#F8F8F2;">  expired </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 24</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  length </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">.length,</span></span>
<span class="line"><span style="color:#F8F8F2;">  plus </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">hello </span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> +</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">world</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(Calculate.expired)   </span><span style="color:#6272A4;">// 86400</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(Calculate.length)    </span><span style="color:#6272A4;">// 5</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(Calculate.plus)      </span><span style="color:#6272A4;">// hello world</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="枚举合并" tabindex="-1"><a class="header-anchor" href="#枚举合并"><span>枚举合并</span></a></h1><p>分开声明名称相同的枚举类型，会自动合并：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Months</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  Jan </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Feb,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Mar,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Apr</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Months</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  May </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 5</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Jun</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(Months.Apr) </span><span style="color:#6272A4;">// 4</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(Months.Jun) </span><span style="color:#6272A4;">// 6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>never 类型表示那些永不存在的值的类型。</p><p>unknown 类型是 any 类型对应的安全类型。</p><h1 id="never类型" tabindex="-1"><a class="header-anchor" href="#never类型"><span>never类型</span></a></h1><p>never 类型是任何类型的子类型，也可以赋值给任何类型；</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> error</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">message</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> never</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  throw</span><span style="color:#FF79C6;font-weight:bold;"> new</span><span style="color:#50FA7B;"> Error</span><span style="color:#F8F8F2;">(message)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="unknown类型" tabindex="-1"><a class="header-anchor" href="#unknown类型"><span>unknown类型</span></a></h1><p>unknown 类型在被确定为某个类型之前，不能被进行诸如函数执行、实例化等操作，一定程度上对类型进行了保护。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value1</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> value   </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value2</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> value       </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value3</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> value   </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value4</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> value    </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value5</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> value    </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value6</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> object</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> value    </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value7</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">[] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> value     </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>TypeScript 的核心原则之一是对值所具有的结构进行类型检查。 它有时被称做“鸭式辨型法”或“结构性子类型化”。 在 TypeScript 里，接口的作用就是为这些类型命名和为你的代码或第三方代码定义契约。——官方定义</p></blockquote><p>接口是对 JavaScript 本身的随意性进行约束，通过定义一个接口，约定了变量、类、函数等应该按照什么样的格式进行声明，实现多人合作的一致性。</p><p>TypeScript 编译器依赖接口用于类型检查，最终编译为 JavaScript 后，接口将会被移除。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> getClothesInfo</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">clothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(clothes.price)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myClothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> { </span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">black</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">XL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 98</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">getClothesInfo</span><span style="color:#F8F8F2;">(myClothes)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="接口属性" tabindex="-1"><a class="header-anchor" href="#接口属性"><span>接口属性</span></a></h1><h2 id="可选属性" tabindex="-1"><a class="header-anchor" href="#可选属性"><span>可选属性</span></a></h2><p>接口中的属性不全是必需的。可选属性的含义是该属性在被变量定义时可以不存在。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 语法</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">?:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 这里可以不定义属性 color</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myClothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> { </span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">XL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 98</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="只读属性" tabindex="-1"><a class="header-anchor" href="#只读属性"><span>只读属性</span></a></h2><p>属性名前用 <code>readonly</code> 来指定只读属性，比如价格是不能被修改的:</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 语法</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">?:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">  readonly</span><span style="color:#F8F8F2;"> price</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 创建的时候给 price 赋值</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myClothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> { </span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">XL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 98</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 不可修改</span></span>
<span class="line"><span style="color:#F8F8F2;">myClothes.price </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 100</span></span>
<span class="line"><span style="color:#6272A4;">// error TS2540: Cannot assign to &#39;price&#39; because it is a constant or a read-only property</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TypeScript 可以通过 <code>ReadonlyArray&lt;T&gt;</code> 设置数组为只读，那么它的所有写方法都会失效。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> arr</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> ReadonlyArray</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">4</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"><span style="color:#F8F8F2;">arr[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">] </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 6</span><span style="color:#F8F8F2;">; </span><span style="color:#6272A4;">// Index signature in type &#39;readonly number[]&#39; only permits reading</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="readonly-vs-const" tabindex="-1"><a class="header-anchor" href="#readonly-vs-const"><span><code>readonly</code> vs <code>const</code></span></a></h1><p>最简单判断该用 <code>readonly</code> 还是 <code>const</code> 的方法是看要把它做为变量使用还是做为一个属性。做为 <code>变量</code> 使用的话用 const，若做为 <code>属性</code> 则使用 readonly。</p><h1 id="任意属性" tabindex="-1"><a class="header-anchor" href="#任意属性"><span>任意属性</span></a></h1><p>接口允许有任意的属性，语法是用 [] 将属性包裹起来：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 语法</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">?:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">  readonly</span><span style="color:#F8F8F2;"> price</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">propName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 任意属性 activity</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myClothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> { </span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">XL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 98</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  activity</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">coupon</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="函数类型" tabindex="-1"><a class="header-anchor" href="#函数类型"><span>函数类型</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> SearchFunc</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  (</span><span style="color:#FFB86C;font-style:italic;">source</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">subString</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> mySearch</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> SearchFunc</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">mySearch</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">source</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">subString</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> source.</span><span style="color:#50FA7B;">search</span><span style="color:#F8F8F2;">(subString) </span><span style="color:#FF79C6;">&gt;</span><span style="color:#FF79C6;"> -</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="可索引类型" tabindex="-1"><a class="header-anchor" href="#可索引类型"><span>可索引类型</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 正常的js代码</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> arr </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">4</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  brand</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  type</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">education</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">arr[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">obj[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">brand</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> ScenicInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">index</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> arr</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> ScenicInterface</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">西湖</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">华山</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">故宫</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> favorite</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> arr[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 正确</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Foo</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">index</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 错误</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Bar</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">index</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">; </span><span style="color:#6272A4;">// Error: y 属性必须为 number 类型</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="类类型" tabindex="-1"><a class="header-anchor" href="#类类型"><span>类类型</span></a></h1><p>类的实现必须遵循接口定义，那么可以使用 <strong><code>implements</code></strong> 关键字来确保兼容性。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> AnimalInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">  eat</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">m</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Dog</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> AnimalInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">){</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">    this</span><span style="color:#F8F8F2;">.name </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> name</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">  eat</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">m</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F1FA8C;"> \`</span><span style="color:#FF79C6;">\${</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#F8F8F2;">.name</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">吃肉</span><span style="color:#FF79C6;">\${</span><span style="color:#F8F8F2;">m</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">分钟\`</span><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>接口描述了类的公共部分，而不是公共和私有两部分。 它不会帮你检查类是否具有某些私有成员。</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> AnimalInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">  eat</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">m</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Dog</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> AnimalInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">    this</span><span style="color:#F8F8F2;">.name </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> name</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#6272A4;">// error </span></span>
<span class="line"><span style="color:#FF79C6;">  private</span><span style="color:#50FA7B;"> eat</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">m</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F1FA8C;"> \`</span><span style="color:#FF79C6;">\${</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#F8F8F2;">.name</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">吃肉</span><span style="color:#FF79C6;">\${</span><span style="color:#F8F8F2;">m</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">分钟\`</span><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="继承接口" tabindex="-1"><a class="header-anchor" href="#继承接口"><span>继承接口</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Shape</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> PenStroke</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  penWidth</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Square</span><span style="color:#FF79C6;"> extends</span><span style="color:#8BE9FD;font-style:italic;"> Shape</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">PenStroke</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  sideLength</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> square </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {} </span><span style="color:#FF79C6;">as</span><span style="color:#8BE9FD;font-style:italic;"> Square</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">square.color </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">blue</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">square.sideLength </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">square.penWidth </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 5.0</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="混合类型" tabindex="-1"><a class="header-anchor" href="#混合类型"><span>混合类型</span></a></h1><p>希望一个对象同时具有上面提到多种类型</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Counter</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  (</span><span style="color:#FFB86C;font-style:italic;">start</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  interval</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#50FA7B;">  reset</span><span style="color:#F8F8F2;">()</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> getCounter</span><span style="color:#F8F8F2;">()</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Counter</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#6272A4;">//通过类型断言，将函数对象转换为 Counter 类型，转换后的对象不但实现了函数接口的描述，使之成为一个函数，还具有 interval 属性和 reset() 方法</span></span>
<span class="line"><span style="color:#FF79C6;">  let</span><span style="color:#50FA7B;"> counter</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">start</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) { } </span><span style="color:#FF79C6;">as</span><span style="color:#8BE9FD;font-style:italic;"> Counter</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  counter.interval </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 123</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  counter.</span><span style="color:#50FA7B;">reset</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;"> () { };</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> counter;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> c </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> getCounter</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#50FA7B;">c</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">c.</span><span style="color:#50FA7B;">reset</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F8F8F2;">c.interval </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 5.0</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>TypeScript 的核心原则之一是对值所具有的结构进行类型检查。 它有时被称做“鸭式辨型法”或“结构性子类型化”。 在 TypeScript 里，接口的作用就是为这些类型命名和为你的代码或第三方代码定义契约。——官方定义</p></blockquote><p>接口是对 JavaScript 本身的随意性进行约束，通过定义一个接口，约定了变量、类、函数等应该按照什么样的格式进行声明，实现多人合作的一致性。</p><p>TypeScript 编译器依赖接口用于类型检查，最终编译为 JavaScript 后，接口将会被移除。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> getClothesInfo</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">clothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(clothes.price)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myClothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> { </span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">black</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">XL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 98</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">getClothesInfo</span><span style="color:#F8F8F2;">(myClothes)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="接口属性-1" tabindex="-1"><a class="header-anchor" href="#接口属性-1"><span>接口属性</span></a></h1><h2 id="可选属性-1" tabindex="-1"><a class="header-anchor" href="#可选属性-1"><span>可选属性</span></a></h2><p>接口中的属性不全是必需的。可选属性的含义是该属性在被变量定义时可以不存在。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 语法</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">?:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 这里可以不定义属性 color</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myClothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> { </span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">XL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 98</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="只读属性-1" tabindex="-1"><a class="header-anchor" href="#只读属性-1"><span>只读属性</span></a></h2><p>属性名前用 <code>readonly</code> 来指定只读属性，比如价格是不能被修改的:</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 语法</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">?:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">  readonly</span><span style="color:#F8F8F2;"> price</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 创建的时候给 price 赋值</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myClothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> { </span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">XL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 98</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 不可修改</span></span>
<span class="line"><span style="color:#F8F8F2;">myClothes.price </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 100</span></span>
<span class="line"><span style="color:#6272A4;">// error TS2540: Cannot assign to &#39;price&#39; because it is a constant or a read-only property</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TypeScript 可以通过 <code>ReadonlyArray&lt;T&gt;</code> 设置数组为只读，那么它的所有写方法都会失效。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> arr</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> ReadonlyArray</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">4</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"><span style="color:#F8F8F2;">arr[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">] </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 6</span><span style="color:#F8F8F2;">; </span><span style="color:#6272A4;">// Index signature in type &#39;readonly number[]&#39; only permits reading</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="readonly-vs-const-1" tabindex="-1"><a class="header-anchor" href="#readonly-vs-const-1"><span><code>readonly</code> vs <code>const</code></span></a></h1><p>最简单判断该用 <code>readonly</code> 还是 <code>const</code> 的方法是看要把它做为变量使用还是做为一个属性。做为 <code>变量</code> 使用的话用 const，若做为 <code>属性</code> 则使用 readonly。</p><h1 id="任意属性-1" tabindex="-1"><a class="header-anchor" href="#任意属性-1"><span>任意属性</span></a></h1><p>接口允许有任意的属性，语法是用 [] 将属性包裹起来：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 语法</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">?:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">  readonly</span><span style="color:#F8F8F2;"> price</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">propName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 任意属性 activity</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myClothes</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Clothes</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> { </span></span>
<span class="line"><span style="color:#F8F8F2;">  size</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">XL</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span></span>
<span class="line"><span style="color:#F8F8F2;">  price</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 98</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  activity</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">coupon</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="函数类型-1" tabindex="-1"><a class="header-anchor" href="#函数类型-1"><span>函数类型</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> SearchFunc</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  (</span><span style="color:#FFB86C;font-style:italic;">source</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">subString</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> mySearch</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> SearchFunc</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">mySearch</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">source</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">subString</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> source.</span><span style="color:#50FA7B;">search</span><span style="color:#F8F8F2;">(subString) </span><span style="color:#FF79C6;">&gt;</span><span style="color:#FF79C6;"> -</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="可索引类型-1" tabindex="-1"><a class="header-anchor" href="#可索引类型-1"><span>可索引类型</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 正常的js代码</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> arr </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">3</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">4</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  brand</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  type</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">education</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">arr[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">obj[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">brand</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> ScenicInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">index</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> arr</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> ScenicInterface</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> [</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">西湖</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">华山</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">故宫</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> favorite</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> arr[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 正确</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Foo</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">index</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 错误</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Bar</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">index</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">; </span><span style="color:#6272A4;">// Error: y 属性必须为 number 类型</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="类类型-1" tabindex="-1"><a class="header-anchor" href="#类类型-1"><span>类类型</span></a></h1><p>类的实现必须遵循接口定义，那么可以使用 <strong><code>implements</code></strong> 关键字来确保兼容性。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> AnimalInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">  eat</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">m</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Dog</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> AnimalInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">){</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">    this</span><span style="color:#F8F8F2;">.name </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> name</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">  eat</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">m</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F1FA8C;"> \`</span><span style="color:#FF79C6;">\${</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#F8F8F2;">.name</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">吃肉</span><span style="color:#FF79C6;">\${</span><span style="color:#F8F8F2;">m</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">分钟\`</span><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>接口描述了类的公共部分，而不是公共和私有两部分。 它不会帮你检查类是否具有某些私有成员。</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> AnimalInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">  eat</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">m</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Dog</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> AnimalInterface</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">    this</span><span style="color:#F8F8F2;">.name </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> name</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#6272A4;">// error </span></span>
<span class="line"><span style="color:#FF79C6;">  private</span><span style="color:#50FA7B;"> eat</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">m</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F1FA8C;"> \`</span><span style="color:#FF79C6;">\${</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#F8F8F2;">.name</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">吃肉</span><span style="color:#FF79C6;">\${</span><span style="color:#F8F8F2;">m</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">分钟\`</span><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="继承接口-1" tabindex="-1"><a class="header-anchor" href="#继承接口-1"><span>继承接口</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Shape</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  color</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> PenStroke</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  penWidth</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Square</span><span style="color:#FF79C6;"> extends</span><span style="color:#8BE9FD;font-style:italic;"> Shape</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">PenStroke</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  sideLength</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> square </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {} </span><span style="color:#FF79C6;">as</span><span style="color:#8BE9FD;font-style:italic;"> Square</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">square.color </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">blue</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">square.sideLength </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">square.penWidth </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 5.0</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="混合类型-1" tabindex="-1"><a class="header-anchor" href="#混合类型-1"><span>混合类型</span></a></h1><p>希望一个对象同时具有上面提到多种类型</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Counter</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  (</span><span style="color:#FFB86C;font-style:italic;">start</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  interval</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#50FA7B;">  reset</span><span style="color:#F8F8F2;">()</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> getCounter</span><span style="color:#F8F8F2;">()</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Counter</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#6272A4;">//通过类型断言，将函数对象转换为 Counter 类型，转换后的对象不但实现了函数接口的描述，使之成为一个函数，还具有 interval 属性和 reset() 方法</span></span>
<span class="line"><span style="color:#FF79C6;">  let</span><span style="color:#50FA7B;"> counter</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">start</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) { } </span><span style="color:#FF79C6;">as</span><span style="color:#8BE9FD;font-style:italic;"> Counter</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  counter.interval </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 123</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  counter.</span><span style="color:#50FA7B;">reset</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;"> () { };</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> counter;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> c </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> getCounter</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#50FA7B;">c</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">c.</span><span style="color:#50FA7B;">reset</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F8F8F2;">c.interval </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 5.0</span><span style="color:#F8F8F2;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TypeScript 又为 JavaScript 函数添加了一些额外的功能，让我们可以更容易地使用：</p><ul><li>函数类型</li><li>可选参数</li><li>默认参数</li><li>剩余参数</li><li>函数重载</li></ul><ol><li>如果一个函数没有使用 <code>return</code> 语句，则它默认返回 <code>undefined</code>。</li><li>调用函数时，传递给函数的值被称为函数的 <code>实参</code>（值传递），对应位置的函数参数被称为 <code>形参</code>。</li><li>在函数执行时， <code>this</code> 关键字并不会指向正在运行的函数本身，而是 <code>指向调用函数的对象</code>。</li><li><code>arguments</code> 对象是所有（非箭头）函数中都可用的 <code>局部变量</code>。你可以使用 arguments 对象在函数中引用函数的参数。</li></ol><h1 id="函数类型-2" tabindex="-1"><a class="header-anchor" href="#函数类型-2"><span>函数类型</span></a></h1><p>在 TypeScript 中编写函数，需要给形参和返回值指定类型：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> (x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y).</span><span style="color:#50FA7B;">toString</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#6272A4;">//= 等号右侧的匿名函数进行了类型定义，等号左侧的 add 同样可以添加类型：</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> (x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y).</span><span style="color:#50FA7B;">toString</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>函数类型的 <code>=&gt;</code> 和 箭头函数的 <code>=&gt;</code> 是不同的含义</strong>。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> (x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y).</span><span style="color:#50FA7B;">toString</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#6272A4;">// 只要参数位置及类型不变，变量名称可以自己定义，比如把两个参数定位为 a b</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">b</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> (x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y).</span><span style="color:#50FA7B;">toString</span><span style="color:#F8F8F2;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="函数的参数" tabindex="-1"><a class="header-anchor" href="#函数的参数"><span>函数的参数</span></a></h1><h2 id="参数个数保持一致" tabindex="-1"><a class="header-anchor" href="#参数个数保持一致"><span>参数个数保持一致</span></a></h2><p>TypeScript 中每个函数参数都是必须的。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> fullName</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">firstName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">lastName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F1FA8C;">\`</span><span style="color:#FF79C6;">\${</span><span style="color:#F8F8F2;">firstName</span><span style="color:#FF79C6;">}\${</span><span style="color:#F8F8F2;">lastName</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result1 </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> fullName</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Holmes</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result2 </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> fullName</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Holmes</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">character</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">) </span></span>
<span class="line"><span style="color:#6272A4;">// Error, Expected 2 arguments, but got 3</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result3 </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> fullName</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)                        </span></span>
<span class="line"><span style="color:#6272A4;">// Error, Expected 2 arguments, but got 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="可选参数" tabindex="-1"><a class="header-anchor" href="#可选参数"><span>可选参数</span></a></h2><p>在 TypeScript 里我们可以在参数名旁使用 <code>?</code> 实现可选参数的功能，<strong>可选参数必须跟在必须参数后面</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> fullName</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">firstName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">lastName</span><span style="color:#FF79C6;">?:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F1FA8C;"> \`</span><span style="color:#FF79C6;">\${</span><span style="color:#F8F8F2;">firstName</span><span style="color:#FF79C6;">}\${</span><span style="color:#F8F8F2;">lastName</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result1 </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> fullName</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Holmes</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result2 </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> fullName</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Holmes</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">character</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;">// Error, Expected 1-2 arguments, but got 3</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result3 </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> fullName</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)                        </span><span style="color:#6272A4;">// OK</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="默认参数" tabindex="-1"><a class="header-anchor" href="#默认参数"><span>默认参数</span></a></h2><p><strong>可选参数必须跟在必须参数后面</strong>，而<strong>带默认值的参数不需要放在必须参数的后面，可随意调整位置</strong>：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> token</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">expired</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;">*</span><span style="color:#BD93F9;">60</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">secret</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#FF79C6;">  =&gt;</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#6272A4;">// 或</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> token1</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">secret</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">expired</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;">*</span><span style="color:#BD93F9;">60</span><span style="color:#F8F8F2;"> )</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> {}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="剩余参数" tabindex="-1"><a class="header-anchor" href="#剩余参数"><span>剩余参数</span></a></h2><p>通过 <code>rest 参数</code> (形式为 <code>...变量名</code>)来获取函数的剩余参数，这样就不需要使用 <code>arguments</code> 对象了。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> assert</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">ok</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">, </span><span style="color:#FF79C6;">...</span><span style="color:#FFB86C;font-style:italic;">args</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">[])</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">ok) {</span></span>
<span class="line"><span style="color:#FF79C6;">    throw</span><span style="color:#FF79C6;font-weight:bold;"> new</span><span style="color:#50FA7B;"> Error</span><span style="color:#F8F8F2;">(args.</span><span style="color:#50FA7B;">join</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">assert</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">false</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">上传文件过大</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">只能上传jpg格式</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="this参数" tabindex="-1"><a class="header-anchor" href="#this参数"><span>this参数</span></a></h2><p>默认情况下，<code>tsconfig.json</code> 中，编译选项 <code>compilerOptions</code> 的属性 <code>noImplicitThis</code> 为 <code>false</code>，我们在一个对象中使用的 this 时，它的类型是 any 类型。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> triangle </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  a</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  b</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 15</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  c</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 20</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#50FA7B;">  area</span><span style="color:#FF79C6;">:</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;"> () {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#6272A4;">      // this 为 any 类型</span></span>
<span class="line"><span style="color:#FF79C6;">      const</span><span style="color:#F8F8F2;"> p </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> (</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#F8F8F2;">.a </span><span style="color:#FF79C6;">+</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.b </span><span style="color:#FF79C6;">+</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.c) </span><span style="color:#FF79C6;">/</span><span style="color:#BD93F9;"> 2</span></span>
<span class="line"><span style="color:#FF79C6;">      return</span><span style="color:#F8F8F2;"> Math.</span><span style="color:#50FA7B;">sqrt</span><span style="color:#F8F8F2;">(p </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;"> (p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.a) </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;"> (p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.b) </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">(p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.c))</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> myArea </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> triangle.</span><span style="color:#50FA7B;">area</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">myArea</span><span style="color:#F8F8F2;">())</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第一种：在 <code>tsconfig.json</code> 中，将编译选项 <code>compilerOptions</code> 的属性 <code>noImplicitThis</code> 设置为 <code>true</code>，TypeScript 编译器就会帮你进行正确的类型推断</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> triangle </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  a</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  b</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 15</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  c</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 20</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#50FA7B;">  area</span><span style="color:#FF79C6;">:</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;"> () {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">      const</span><span style="color:#F8F8F2;"> p </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> (</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#F8F8F2;">.a </span><span style="color:#FF79C6;">+</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.b </span><span style="color:#FF79C6;">+</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.c) </span><span style="color:#FF79C6;">/</span><span style="color:#BD93F9;"> 2</span></span>
<span class="line"><span style="color:#FF79C6;">      return</span><span style="color:#F8F8F2;"> Math.</span><span style="color:#50FA7B;">sqrt</span><span style="color:#F8F8F2;">(p </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;"> (p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.a) </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;"> (p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.b) </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">(p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.c))</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> myArea </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> triangle.</span><span style="color:#50FA7B;">area</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">myArea</span><span style="color:#F8F8F2;">())</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第二种：提供一个显式的 this 参数</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Triangle</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  b</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  c</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#50FA7B;">  area</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Triangle</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> triangle</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Triangle</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  a</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  b</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 15</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  c</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 20</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#50FA7B;">  area</span><span style="color:#FF79C6;">:</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;"> (</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Triangle</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">      const</span><span style="color:#F8F8F2;"> p </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> (</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#F8F8F2;">.a </span><span style="color:#FF79C6;">+</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.b </span><span style="color:#FF79C6;">+</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.c) </span><span style="color:#FF79C6;">/</span><span style="color:#BD93F9;"> 2</span></span>
<span class="line"><span style="color:#FF79C6;">      return</span><span style="color:#F8F8F2;"> Math.</span><span style="color:#50FA7B;">sqrt</span><span style="color:#F8F8F2;">(p </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;"> (p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.a) </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;"> (p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.b) </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;">(p </span><span style="color:#FF79C6;">-</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.c))</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> myArea </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> triangle.</span><span style="color:#50FA7B;">area</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">myArea</span><span style="color:#F8F8F2;">())</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="函数重载" tabindex="-1"><a class="header-anchor" href="#函数重载"><span>函数重载</span></a></h1><p>函数重载是指函数根据传入不同的参数，返回不同类型的数据。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> reverse</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> reverse</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> reverse</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">target</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">typeof</span><span style="color:#F8F8F2;"> target </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">string</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> target.</span><span style="color:#50FA7B;">split</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#50FA7B;">reverse</span><span style="color:#F8F8F2;">().</span><span style="color:#50FA7B;">join</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">typeof</span><span style="color:#F8F8F2;"> target </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">number</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#FF79C6;"> +</span><span style="color:#F8F8F2;">[</span><span style="color:#FF79C6;">...</span><span style="color:#F8F8F2;">target.</span><span style="color:#50FA7B;">toString</span><span style="color:#F8F8F2;">()].</span><span style="color:#50FA7B;">reverse</span><span style="color:#F8F8F2;">().</span><span style="color:#50FA7B;">join</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">reverse</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">))   </span><span style="color:#6272A4;">// coomi</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">reverse</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">23874800</span><span style="color:#F8F8F2;">))  </span><span style="color:#6272A4;">// 847832</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="字符串字面量类型" tabindex="-1"><a class="header-anchor" href="#字符串字面量类型"><span>字符串字面量类型</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> protagonist</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">protagonist </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">protagonist </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Watson</span><span style="color:#E9F284;">&#39;</span><span style="color:#6272A4;"> // Error, Type &#39;&quot;Watson&quot;&#39; is not assignable to type &#39;&quot;Sherlock&quot;&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="布尔字面量类型" tabindex="-1"><a class="header-anchor" href="#布尔字面量类型"><span>布尔字面量类型</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> success</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> true</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> fail</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> false</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> value</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> true</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="数字字面量类型" tabindex="-1"><a class="header-anchor" href="#数字字面量类型"><span>数字字面量类型</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> die</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 1</span><span style="color:#FF79C6;"> |</span><span style="color:#BD93F9;"> 2</span><span style="color:#FF79C6;"> |</span><span style="color:#BD93F9;"> 3</span><span style="color:#FF79C6;"> |</span><span style="color:#BD93F9;"> 4</span><span style="color:#FF79C6;"> |</span><span style="color:#BD93F9;"> 5</span><span style="color:#FF79C6;"> |</span><span style="color:#BD93F9;"> 6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">die </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 9</span><span style="color:#6272A4;"> // Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>泛型是指在定义函数、接口或者类时，未指定其参数类型，只有在运行时传入才能确定。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">//函数会返回任何传入它的值</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> identity</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> arg</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> identity</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> arg</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#6272A4;">//通过泛型，可以把两个函数统一起来：</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> identity</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> arg</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="多个类型参数" tabindex="-1"><a class="header-anchor" href="#多个类型参数"><span>多个类型参数</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> extend</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">U</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">first</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">second</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> U</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#FF79C6;"> &amp;</span><span style="color:#8BE9FD;font-style:italic;"> U</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  for</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> key </span><span style="color:#FF79C6;">in</span><span style="color:#F8F8F2;"> second) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    (first </span><span style="color:#FF79C6;">as</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#FF79C6;"> &amp;</span><span style="color:#8BE9FD;font-style:italic;"> U</span><span style="color:#F8F8F2;">)[key] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> second[key] </span><span style="color:#FF79C6;">as</span><span style="color:#8BE9FD;font-style:italic;"> any</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> first </span><span style="color:#FF79C6;">as</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#FF79C6;"> &amp;</span><span style="color:#8BE9FD;font-style:italic;"> U</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="泛型参数默认类型" tabindex="-1"><a class="header-anchor" href="#泛型参数默认类型"><span>泛型参数默认类型</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> min</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arr</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">T</span><span style="color:#F8F8F2;">[])</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">  let</span><span style="color:#F8F8F2;"> min </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> arr[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">  arr.</span><span style="color:#50FA7B;">forEach</span><span style="color:#F8F8F2;">((</span><span style="color:#FFB86C;font-style:italic;">value</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">     if</span><span style="color:#F8F8F2;">(value </span><span style="color:#FF79C6;">&lt;</span><span style="color:#F8F8F2;"> min) {</span></span>
<span class="line"><span style="color:#F8F8F2;">         min </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> value</span></span>
<span class="line"><span style="color:#F8F8F2;">     }</span></span>
<span class="line"><span style="color:#F8F8F2;">  })</span></span>
<span class="line"><span style="color:#FF79C6;">   return</span><span style="color:#F8F8F2;"> min</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">min</span><span style="color:#F8F8F2;">([</span><span style="color:#BD93F9;">20</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">6</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">8</span><span style="color:#FF79C6;">n</span><span style="color:#F8F8F2;">])) </span><span style="color:#6272A4;">// 6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="泛型类型与泛型接口" tabindex="-1"><a class="header-anchor" href="#泛型类型与泛型接口"><span>泛型类型与泛型接口</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">//(x: number, y: number) =&gt; string 为函数类型。</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#FF79C6;">=</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> (x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y).</span><span style="color:#50FA7B;">toString</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">//泛型</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> identity</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> arg</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#6272A4;">// identity 函数</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> myIdentity</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> &lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> identity</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">//&lt;T&gt;(arg: T) =&gt; T </span></span>
<span class="line"><span style="color:#6272A4;">// 另一种写法</span></span>
<span class="line"><span style="color:#6272A4;">//{ &lt;T&gt;(arg: T): T }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> identity</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> arg</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myIdentity</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> { &lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;"> } </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> identity</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>泛型接口</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> GenericIdentityFn</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> identity</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> arg</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myIdentity</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> GenericIdentityFn</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> identity</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> GenericIdentityFn</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; {</span></span>
<span class="line"><span style="color:#F8F8F2;">  (</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> identity</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> arg</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> myIdentity</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> GenericIdentityFn</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> identity</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="泛型类" tabindex="-1"><a class="header-anchor" href="#泛型类"><span>泛型类</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> MinClass</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> list</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">[] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#50FA7B;">  add</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">num</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">    this</span><span style="color:#F8F8F2;">.list.</span><span style="color:#50FA7B;">push</span><span style="color:#F8F8F2;">(num)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#50FA7B;">  min</span><span style="color:#F8F8F2;">()</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">    let</span><span style="color:#F8F8F2;"> minNum </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.list[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">    for</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> i </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 0</span><span style="color:#F8F8F2;">; i </span><span style="color:#FF79C6;">&lt;</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.list.length; i</span><span style="color:#FF79C6;">++</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">      if</span><span style="color:#F8F8F2;"> (minNum </span><span style="color:#FF79C6;">&gt;</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.list[i]) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        minNum </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.list[i]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> minNum</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// 类名后加上 &lt;T&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> MinClass</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> list</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">[] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#50FA7B;">  add</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">num</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">    this</span><span style="color:#F8F8F2;">.list.</span><span style="color:#50FA7B;">push</span><span style="color:#F8F8F2;">(num)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#50FA7B;">  min</span><span style="color:#F8F8F2;">()</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">    let</span><span style="color:#F8F8F2;"> minNum </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.list[</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#FF79C6;">    for</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> i </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 0</span><span style="color:#F8F8F2;">; i </span><span style="color:#FF79C6;">&lt;</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.list.length; i</span><span style="color:#FF79C6;">++</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">      if</span><span style="color:#F8F8F2;"> (minNum </span><span style="color:#FF79C6;">&gt;</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.list[i]) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        minNum </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.list[i]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> minNum</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> m </span><span style="color:#FF79C6;">=</span><span style="color:#FF79C6;font-weight:bold;"> new</span><span style="color:#50FA7B;"> MinClass</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">&gt;()</span></span>
<span class="line"><span style="color:#F8F8F2;">m.</span><span style="color:#50FA7B;">add</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">hello</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">m.</span><span style="color:#50FA7B;">add</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">world</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">m.</span><span style="color:#50FA7B;">add</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">generic</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(m.</span><span style="color:#50FA7B;">min</span><span style="color:#F8F8F2;">()) </span><span style="color:#6272A4;">// generic</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="泛型约束" tabindex="-1"><a class="header-anchor" href="#泛型约束"><span>泛型约束</span></a></h1><p><strong>通过 <code>extends</code> 关键字来实现泛型约束。</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  username</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> info</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#FF79C6;"> extends</span><span style="color:#FFB86C;font-style:italic;"> User</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">user</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc </span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> +</span><span style="color:#F8F8F2;"> user.username</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> Args</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> MinClass</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#FF79C6;"> extends</span><span style="color:#FFB86C;font-style:italic;"> Args</span><span style="color:#F8F8F2;">&gt; {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> m </span><span style="color:#FF79C6;">=</span><span style="color:#FF79C6;font-weight:bold;"> new</span><span style="color:#50FA7B;"> MinClass</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">boolean</span><span style="color:#F8F8F2;">&gt;() </span><span style="color:#6272A4;">// Error, 必须是 number | string 类型</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="多重类型泛型约束" tabindex="-1"><a class="header-anchor" href="#多重类型泛型约束"><span>多重类型泛型约束</span></a></h1><p><strong>通过 &lt;T extends Interface1 &amp; Interface2&gt;</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Sentence</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  title</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  content</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Music</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  url</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Classic</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#FF79C6;"> extends</span><span style="color:#FFB86C;font-style:italic;"> Sentence</span><span style="color:#FF79C6;"> &amp;</span><span style="color:#FFB86C;font-style:italic;"> Music</span><span style="color:#F8F8F2;">&gt; {</span></span>
<span class="line"><span style="color:#FF79C6;">  private</span><span style="color:#F8F8F2;"> prop</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">    this</span><span style="color:#F8F8F2;">.prop </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> arg</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">  info</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      url</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.prop.url,</span></span>
<span class="line"><span style="color:#F8F8F2;">      title</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.prop.title,</span></span>
<span class="line"><span style="color:#F8F8F2;">      content</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.prop.content</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>类型别名会给类型起个新名字。类型别名有时和接口很像，但是可以作用于原始值，联合类型，元组以及其它任何你需要手写的类型。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> brand</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> used</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> true</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> str</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> brand</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> state</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> used</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> month</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> currentMonth</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> month</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">February</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> nextMonth</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> month</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Admin</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  administrator</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  timestamp</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  groups</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">[],</span></span>
<span class="line"><span style="color:#50FA7B;">  createLog</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  timestamp</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Admin</span><span style="color:#FF79C6;"> &amp;</span><span style="color:#8BE9FD;font-style:italic;"> User</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="接口-vs-类型别名" tabindex="-1"><a class="header-anchor" href="#接口-vs-类型别名"><span>接口 vs. 类型别名</span></a></h1><p>类型别名看起来和接口非常类似，区别之处在于：</p><ul><li>接口可以实现 extends 和 implements，类型别名不行。</li><li>类型别名并不会创建新类型，是对原有类型的引用，而接口会定义一个新类型。</li><li>接口只能用于定义对象类型，而类型别名的声明方式除了对象之外还可以定义交叉、联合、原始类型等</li></ul><p>类型推断的含义是不需要指定变量类型或函数的返回值类型，TypeScript 可以根据一些简单的规则推断其的类型。</p><h1 id="基础类型推断" tabindex="-1"><a class="header-anchor" href="#基础类型推断"><span>基础类型推断</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 3</span><span style="color:#6272A4;">             // let x: number</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> y </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">hello world</span><span style="color:#E9F284;">&#39;</span><span style="color:#6272A4;"> // let y: string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> z                 </span><span style="color:#6272A4;">// let z: any</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// 返回值推断为 number</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> add</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">b</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> a </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> b</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  a</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  b</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">hello world</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">obj.b </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 15</span><span style="color:#6272A4;"> // Error，Type &#39;15&#39; is not assignable to type &#39;string&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  protagonist</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Sherlock</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  gender</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">male</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">//let protagonist: string</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> { protagonist } </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> obj</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="最佳通用类型推断" tabindex="-1"><a class="header-anchor" href="#最佳通用类型推断"><span>最佳通用类型推断</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">//为了推断 x 的类型，必须考虑所有的元素类型。</span></span>
<span class="line"><span style="color:#6272A4;">//这里有三种元素类型 number、string 和 null，</span></span>
<span class="line"><span style="color:#6272A4;">//此时数组被推断为 let x: (string | number | null)[] 联合类型。</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">null</span><span style="color:#F8F8F2;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="上下文类型推断" tabindex="-1"><a class="header-anchor" href="#上下文类型推断"><span>上下文类型推断</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Animal</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> species</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> weight</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#6272A4;">//将 Animal 类型显示的赋值给 变量 simba，</span></span>
<span class="line"><span style="color:#6272A4;">//Animal 类型 没有 speak 属性，所以不可赋值。</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> simba</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Animal</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  species</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">lion</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  speak</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> true</span><span style="color:#6272A4;">  // Error, &#39;speak&#39; does not exist in type &#39;Animal&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TypeScript 允许你覆盖它的推断，毕竟作为开发者你比编译器更了解你写的代码。</p><p>类型断言主要用于当 TypeScript 推断出来类型并不满足你的需求，你需要手动指定一个类型。</p><h1 id="as" tabindex="-1"><a class="header-anchor" href="#as"><span>as</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> user </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">user.nickname </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Evan</span><span style="color:#E9F284;">&#39;</span><span style="color:#6272A4;">  // Error, Property &#39;nickname&#39; does not exist on type &#39;{}&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">user.admin </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> true</span><span style="color:#6272A4;">       // Error, Property &#39;admin&#39; does not exist on type &#39;{}&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用类型断言（as关键字）覆盖其类型推断：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  nickname</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  admin</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  groups</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">[]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> user </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {} </span><span style="color:#FF79C6;">as</span><span style="color:#8BE9FD;font-style:italic;"> User</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">user.nickname </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Evan</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">user.admin </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> true</span><span style="color:#F8F8F2;">       </span></span>
<span class="line"><span style="color:#F8F8F2;">user.groups </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">6</span><span style="color:#F8F8F2;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="首尾标签" tabindex="-1"><a class="header-anchor" href="#首尾标签"><span>首尾标签</span></a></h1><p>类型断言还可以通过标签 <code>&lt;&gt;</code> 来实现：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  nickname</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  admin</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  groups</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">[]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> user </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> &lt;</span><span style="color:#8BE9FD;font-style:italic;">User</span><span style="color:#F8F8F2;">&gt;</span><span style="color:#FF79C6;">{}</span><span style="color:#F8F8F2;"> // User类型</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">user.nickname = &#39;Evan&#39; </span></span>
<span class="line"><span style="color:#F8F8F2;">user.admin = true       </span></span>
<span class="line"><span style="color:#F8F8F2;">user.groups = [2, 6]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="非空断言" tabindex="-1"><a class="header-anchor" href="#非空断言"><span>非空断言</span></a></h1><p>如果编译器不能够去除 null 或 undefined，可以使用非空断言 ! 手动去除。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> fixed</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> null</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  function</span><span style="color:#50FA7B;"> postfix</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">epithet</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> name</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">charAt</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">+</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">.  the </span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> +</span><span style="color:#F8F8F2;"> epithet; </span><span style="color:#6272A4;">// name 被断言为非空</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  name </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> name </span><span style="color:#FF79C6;">||</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">Bob</span><span style="color:#E9F284;">&quot;</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#50FA7B;"> postfix</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">great</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>类型保护是指缩小类型的范围，在一定的块级作用域内由编译器推导其类型，提示并规避不合法的操作。</p><h1 id="typeof" tabindex="-1"><a class="header-anchor" href="#typeof"><span>typeof</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> doSome</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    if</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">typeof</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">string</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#6272A4;">        // 在这个块中，TypeScript 知道 \`x\` 的类型必须是 \`string\`</span></span>
<span class="line"><span style="color:#F8F8F2;">        console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(x.</span><span style="color:#50FA7B;">subtr</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">)); </span><span style="color:#6272A4;">// Error: &#39;subtr&#39; 方法并没有存在于 \`string\` 上</span></span>
<span class="line"><span style="color:#F8F8F2;">        console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(x.</span><span style="color:#50FA7B;">substr</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">)); </span><span style="color:#6272A4;">// ok</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    x.</span><span style="color:#50FA7B;">substr</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">); </span><span style="color:#6272A4;">// Error: 无法保证 \`x\` 是 \`string\` 类型</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="instanceof" tabindex="-1"><a class="header-anchor" href="#instanceof"><span>instanceof</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> nickname</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> group</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Log</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> count</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 10</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> keyword</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> typeGuard</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> Log</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (arg </span><span style="color:#FF79C6;">instanceof</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    arg.count </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 15</span><span style="color:#6272A4;"> // Error, User 类型无此属性</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (arg </span><span style="color:#FF79C6;">instanceof</span><span style="color:#8BE9FD;font-style:italic;"> Log</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    arg.count </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 15</span><span style="color:#6272A4;"> // OK</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="in" tabindex="-1"><a class="header-anchor" href="#in"><span>in</span></a></h1><p>in 操作符用于确定属性是否存在于某个对象上，这也是一种缩小范围的类型保护。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> nickname</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> groups</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">[]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Log</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> count</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 10</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> keyword</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> typeGuard</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> Log</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">nickname</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> in</span><span style="color:#F8F8F2;"> arg) {</span></span>
<span class="line"><span style="color:#6272A4;">    // (parameter) arg: User，编辑器将推断在当前块作用域 arg 为 User 类型</span></span>
<span class="line"><span style="color:#F8F8F2;">    arg.nickname </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">count</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> in</span><span style="color:#F8F8F2;"> arg) {</span></span>
<span class="line"><span style="color:#6272A4;">    // (parameter) arg: Log，编辑器将推断在当前块作用域 arg 为 Log 类型</span></span>
<span class="line"><span style="color:#F8F8F2;">    arg.count </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 15</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="字面量类型保护" tabindex="-1"><a class="header-anchor" href="#字面量类型保护"><span>字面量类型保护</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> Success</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  success</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  code</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  object</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> object</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> Fail</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  success</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> false</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  code</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  errMsg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  request</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> test</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">arg</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Success</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> Fail</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;"> (arg.success </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> true</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(arg.object) </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(arg.errMsg) </span><span style="color:#6272A4;">// Error, Property &#39;errMsg&#39; does not exist on type &#39;Success&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  } </span><span style="color:#FF79C6;">else</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(arg.errMsg) </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(arg.object) </span><span style="color:#6272A4;">// Error, Property &#39;object&#39; does not exist on type &#39;Fail&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>类型兼容性用于确定一个类型是否能赋值给其他类型。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> address</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Baker Street 221B</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> year</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 2010</span></span>
<span class="line"><span style="color:#F8F8F2;">address </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> year </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="结构化" tabindex="-1"><a class="header-anchor" href="#结构化"><span>结构化</span></a></h1><p>TypeScript 类型兼容性是基于结构类型的；结构类型只使用其成员来描述类型。</p><p>如果 x 要兼容 y，那么 y 至少具有与 x 相同的属性</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  year</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> protagonist </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Sherlock·Holmes</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  year</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 1854</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  address</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Baker Street 221B</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> user</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> protagonist </span><span style="color:#6272A4;">// OK</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="比较两个函数" tabindex="-1"><a class="header-anchor" href="#比较两个函数"><span>比较两个函数</span></a></h1><h2 id="函数参数" tabindex="-1"><a class="header-anchor" href="#函数参数"><span>函数参数</span></a></h2><p><strong>判断两个函数是否兼容，首先要看参数是否兼容，第二个还要看返回值是否兼容。</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> fn1</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">b</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> fn2</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">c</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">d</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">e</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">fn2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> fn1 </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#F8F8F2;">fn1 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> fn2 </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>参数类型对应即可，不需要完全相同：</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> fn1</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">b</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> fn2</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">c</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">d</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">e</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">fn2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> fn1 </span><span style="color:#6272A4;">// OK</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="函数返回值" tabindex="-1"><a class="header-anchor" href="#函数返回值"><span>函数返回值</span></a></h2><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> x</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> ({name</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Alice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> y</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> ({name</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Alice</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, location</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Seattle</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">x </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> y </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#F8F8F2;">y </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> x </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>类型系统强制源函数的返回值类型必须是目标函数返回值类型的子类型</strong>。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> y</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">x </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> y </span><span style="color:#6272A4;">// OK</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="枚举的类型兼容性" tabindex="-1"><a class="header-anchor" href="#枚举的类型兼容性"><span>枚举的类型兼容性</span></a></h1><p>枚举与数字类型相互兼容:</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Status</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  Pending,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Resolved,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Rejected</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> current </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Status.Pending</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> num </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">current </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> num</span></span>
<span class="line"><span style="color:#F8F8F2;">num </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> current</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>不同枚举类型之间是不兼容的：</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Status</span><span style="color:#F8F8F2;"> { Pending, Resolved, Rejected }</span></span>
<span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Color</span><span style="color:#F8F8F2;"> { Red, Blue, Green }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> current </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Status.Pending</span></span>
<span class="line"><span style="color:#F8F8F2;">current </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Color.Red </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="类的类型兼容性" tabindex="-1"><a class="header-anchor" href="#类的类型兼容性"><span>类的类型兼容性</span></a></h1><p><strong>比较两个类类型数据时，只有实例成员会被比较，静态成员和构造函数不会比较</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Animal</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  feet</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">numFeet</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) { }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Size</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  feet</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">numFeet</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) { }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Animal</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Size</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">a </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> s</span><span style="color:#FF79C6;">!</span><span style="color:#6272A4;">  // OK</span></span>
<span class="line"><span style="color:#F8F8F2;">s </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> a  </span><span style="color:#6272A4;">// OK</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>类的私有成员和受保护成员会影响兼容性。</strong> 允许子类赋值给父类，但是不能赋值给其它有同样类型的类。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Animal</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  protected</span><span style="color:#F8F8F2;"> feet</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">numFeet</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) { }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Dog</span><span style="color:#FF79C6;"> extends</span><span style="color:#8BE9FD;font-style:italic;"> Animal</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Animal</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> d</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Dog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">a </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> d</span><span style="color:#FF79C6;">!</span><span style="color:#6272A4;"> // OK</span></span>
<span class="line"><span style="color:#F8F8F2;">d </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> a </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Size</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  feet</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#FF79C6;">  constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">numFeet</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) { }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Size</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">a </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> s</span><span style="color:#FF79C6;">!</span><span style="color:#6272A4;"> // Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="泛型的类型兼容性" tabindex="-1"><a class="header-anchor" href="#泛型的类型兼容性"><span>泛型的类型兼容性</span></a></h1><p>泛型的类型兼容性根据其是否被成员使用而不同。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Empty</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Empty</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Empty</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#6272A4;">//x 和 y 是兼容的，因为它们的结构使用类型参数时并没有什么不同。</span></span>
<span class="line"><span style="color:#F8F8F2;">x </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> y</span><span style="color:#FF79C6;">!</span><span style="color:#6272A4;"> // OK</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> NotEmpty</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; {</span></span>
<span class="line"><span style="color:#F8F8F2;">  data</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> NotEmpty</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> NotEmpty</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">x </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> y</span><span style="color:#FF79C6;">!</span><span style="color:#6272A4;"> // Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果没有指定泛型类型的泛型参数，会把所有泛型参数当成 any 类型比较:</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> identity</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#6272A4;">  // ...</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> reverse</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> function</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">U</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> U</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#6272A4;">  // ...</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">identity </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> reverse </span><span style="color:#6272A4;">// OK</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>交叉类型是将多个类型合并为一个类型</p><p><code>类型一 &amp; 类型二</code></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Admin</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  administrator</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  timestamp</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  groups</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">[],</span></span>
<span class="line"><span style="color:#50FA7B;">  createLog</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  timestamp</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> t</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Admin</span><span style="color:#FF79C6;"> &amp;</span><span style="color:#8BE9FD;font-style:italic;"> User</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">t</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">.administrator </span><span style="color:#6272A4;">// 合法 Admin.administrator: string</span></span>
<span class="line"><span style="color:#F8F8F2;">t</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">.groups        </span><span style="color:#6272A4;">// 合法 User.groups: number[]</span></span>
<span class="line"><span style="color:#F8F8F2;">t</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">.id            </span><span style="color:#6272A4;">// 合法 id: number</span></span>
<span class="line"><span style="color:#F8F8F2;">t</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">.timestamp     </span><span style="color:#6272A4;">// 合法 timestamp: never</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>联合类型表示取值为多种中的一种类型，而交叉类型每次都是多个类型的合并类型。</strong></p><p>语法为：<code>类型一 | 类型二</code>。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> currentMonth</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">currentMonth </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">February</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">currentMonth </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果一个值是联合类型，那么只能<strong>访问联合类型的共有属性或方法</strong>。</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Dog</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#50FA7B;">  eat</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#50FA7B;">  destroy</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Cat</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#50FA7B;">  eat</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#50FA7B;">  climb</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> pet</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Dog</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> Cat</span></span>
<span class="line"><span style="color:#F8F8F2;">pet</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">.name    </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#F8F8F2;">pet</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">eat</span><span style="color:#F8F8F2;">()   </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#F8F8F2;">pet</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">climb</span><span style="color:#F8F8F2;">() </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> pluck</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">o</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">names</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> names.</span><span style="color:#50FA7B;">map</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">n</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> o[n])</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实现这样一个函数的<strong>类型定义</strong>要满足：</p><ul><li>数组参数 <code>names</code> 中的元素，只能是对象 <code>o</code> 身上有的属性。</li><li>返回类型取决于参数 <code>o</code> 身上属性值的类型</li></ul><p><strong>索引类型可以让 TypeScript 编译器覆盖检测到使用了动态属性名的代码。</strong></p><h1 id="keyof" tabindex="-1"><a class="header-anchor" href="#keyof"><span>keyof</span></a></h1><p><strong>keyof 可以获取对象的可访问索引字符串字面量类型。</strong></p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  phone</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  nickname</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FF79C6;">  readonly</span><span style="color:#F8F8F2;"> department</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Token</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">  private</span><span style="color:#F8F8F2;"> secret</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> accessExp</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 60</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> refreshExp</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 24</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 30</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 3</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> user</span><span style="color:#FF79C6;">:</span><span style="color:#FF79C6;"> keyof</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#6272A4;"> // let user: &quot;id&quot; | &quot;phone&quot; | &quot;nickname&quot; | &quot;department&quot;</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> token</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> keyof</span><span style="color:#8BE9FD;font-style:italic;"> Token</span><span style="color:#6272A4;"> // type token = &quot;accessExp&quot; | &quot;refreshExp&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="t-k" tabindex="-1"><a class="header-anchor" href="#t-k"><span>T[K]</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Token</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> secret</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">ixeFoe3x.2doa</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> accessExp</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 60</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> refreshExp</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 60</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 24</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 30</span><span style="color:#FF79C6;"> *</span><span style="color:#BD93F9;"> 3</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> token</span><span style="color:#FF79C6;"> =</span><span style="color:#FF79C6;"> keyof</span><span style="color:#8BE9FD;font-style:italic;"> Token</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> valueType</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Token</span><span style="color:#F8F8F2;">[</span><span style="color:#8BE9FD;font-style:italic;">token</span><span style="color:#F8F8F2;">] </span><span style="color:#6272A4;">// type valueType = string | number</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> secret</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Token</span><span style="color:#F8F8F2;">[</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">secret</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">] </span><span style="color:#6272A4;">// type secret = string</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> getProperty</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">K</span><span style="color:#FF79C6;"> extends</span><span style="color:#FF79C6;"> keyof</span><span style="color:#FFB86C;font-style:italic;"> T</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">o</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> K</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">[</span><span style="color:#8BE9FD;font-style:italic;">K</span><span style="color:#F8F8F2;">] {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> o[name]; </span><span style="color:#6272A4;">// o[name] is of type T[K]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>映射类型可以将已知类型的每个属性都变为可选的或者只读的。</strong></p><h1 id="readonly" tabindex="-1"><a class="header-anchor" href="#readonly"><span>Readonly</span></a></h1><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" data-title="jsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> Readonly</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  readonly</span><span style="color:#F8F8F2;"> [</span><span style="color:#FFB86C;font-style:italic;">K</span><span style="color:#FF79C6;"> in</span><span style="color:#FF79C6;"> keyof</span><span style="color:#FFB86C;font-style:italic;"> T</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">[</span><span style="color:#8BE9FD;font-style:italic;">K</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Person</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">  age</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> PersonReadonly</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Readonly</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">Person</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#6272A4;">//type PersonReadonly = {</span></span>
<span class="line"><span style="color:#6272A4;">//  readonly name: string</span></span>
<span class="line"><span style="color:#6272A4;">//  readonly age: number</span></span>
<span class="line"><span style="color:#6272A4;">//}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="partial" tabindex="-1"><a class="header-anchor" href="#partial"><span>Partial</span></a></h1><p><strong><code>Partial</code></strong> 译为 部分的/局部的/不完全的, 作用是将一个接口的所有参数变为非必填</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> Partial</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  [</span><span style="color:#FFB86C;font-style:italic;">K</span><span style="color:#FF79C6;"> in</span><span style="color:#FF79C6;"> keyof</span><span style="color:#FFB86C;font-style:italic;"> T</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">?:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">[</span><span style="color:#8BE9FD;font-style:italic;">K</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Person</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">  age</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> PersonOptional</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Partial</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">Person</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">//type PersonOptional = {</span></span>
<span class="line"><span style="color:#6272A4;">//  name?: string</span></span>
<span class="line"><span style="color:#6272A4;">//  age?: number</span></span>
<span class="line"><span style="color:#6272A4;">//}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="required" tabindex="-1"><a class="header-anchor" href="#required"><span>Required</span></a></h1><p><strong><code>Required</code></strong> 译为必须的, 作用是将一个接口中所有非必填参数 变为必填，<strong><code>Required&lt;T&gt;</code></strong> 的作用就是将某个类型里的属性全部变为必选项。</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">/**</span></span>
<span class="line"><span style="color:#6272A4;"> * Make all properties in T required</span></span>
<span class="line"><span style="color:#6272A4;"> */</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> Required</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    [</span><span style="color:#FFB86C;font-style:italic;">P</span><span style="color:#FF79C6;"> in</span><span style="color:#FF79C6;"> keyof</span><span style="color:#FFB86C;font-style:italic;"> T</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">-?:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">[</span><span style="color:#8BE9FD;font-style:italic;">P</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  age</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> PartialUser</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Partial</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">User</span><span style="color:#F8F8F2;">&gt;;</span></span>
<span class="line"><span style="color:#6272A4;">// type PartialUser = {</span></span>
<span class="line"><span style="color:#6272A4;">//     id?: number;</span></span>
<span class="line"><span style="color:#6272A4;">//     age?: number;</span></span>
<span class="line"><span style="color:#6272A4;">// }</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> PickUser</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Required</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">PartialUser</span><span style="color:#F8F8F2;">&gt;;</span></span>
<span class="line"><span style="color:#6272A4;">// type PickUser = {</span></span>
<span class="line"><span style="color:#6272A4;">//     id: number;</span></span>
<span class="line"><span style="color:#6272A4;">//     age: number;</span></span>
<span class="line"><span style="color:#6272A4;">// }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="pick" tabindex="-1"><a class="header-anchor" href="#pick"><span>Pick</span></a></h1><p>**<code>Pick</code>**译为挑选/选择, 作用是从一个复合类型中，取出几个想要的类型的组合一个新的类型</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> Pick</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">K</span><span style="color:#FF79C6;"> extends</span><span style="color:#FF79C6;"> keyof</span><span style="color:#FFB86C;font-style:italic;"> T</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    [</span><span style="color:#FFB86C;font-style:italic;">P</span><span style="color:#FF79C6;"> in</span><span style="color:#FFB86C;font-style:italic;"> K</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">[</span><span style="color:#8BE9FD;font-style:italic;">P</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> B</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  id</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  age</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> PickB</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Pick</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">B</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">id</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">name</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// type PickB = {</span></span>
<span class="line"><span style="color:#6272A4;">//     id: number;</span></span>
<span class="line"><span style="color:#6272A4;">//     name: string;</span></span>
<span class="line"><span style="color:#6272A4;">// }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="record" tabindex="-1"><a class="header-anchor" href="#record"><span>Record</span></a></h1><p><strong><code>Record</code></strong> 译为 记录/记载, 作用是将一个类型的所有属性值都映射到另一个类型上并创造一个新的类型</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> Record</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">K</span><span style="color:#FF79C6;"> extends</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    [</span><span style="color:#FFB86C;font-style:italic;">P</span><span style="color:#FF79C6;"> in</span><span style="color:#FFB86C;font-style:italic;"> K</span><span style="color:#F8F8F2;">]</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> petsGroup</span><span style="color:#FF79C6;"> =</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">dog</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">cat</span><span style="color:#E9F284;">&#39;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">fish</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> numOrStr</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> IPets</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Record</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">petsGroup</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">numOrStr</span><span style="color:#F8F8F2;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// type IPets = {</span></span>
<span class="line"><span style="color:#6272A4;">//     dog: numOrStr;</span></span>
<span class="line"><span style="color:#6272A4;">//     cat: numOrStr;</span></span>
<span class="line"><span style="color:#6272A4;">//     fish: numOrStr;</span></span>
<span class="line"><span style="color:#6272A4;">// }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>根据一个条件表达式来进行类型检测，从两个类型中选出其中一个：</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#F8F8F2;">T extends U </span><span style="color:#FF79C6;">?</span><span style="color:#F8F8F2;"> X </span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> Y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">declare</span><span style="color:#FF79C6;"> function</span><span style="color:#50FA7B;"> f</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#FF79C6;"> extends</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#FF79C6;"> extends</span><span style="color:#8BE9FD;font-style:italic;"> true</span><span style="color:#FF79C6;"> ?</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> :</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> f</span><span style="color:#F8F8F2;">(Math.</span><span style="color:#50FA7B;">random</span><span style="color:#F8F8F2;">() </span><span style="color:#FF79C6;">&lt;</span><span style="color:#BD93F9;"> 0.5</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;">// const x: string | number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> y </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> f</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">true</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;">// const y: string</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> z </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> f</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">false</span><span style="color:#F8F8F2;">) </span><span style="color:#6272A4;">// const z: number</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Exclude&lt;T, U&gt;</code> – 从 <code>T</code> 中剔除可以赋值给 <code>U</code> 的类型。/ɪkˈskluːd/</li><li><code>Extract&lt;T, U&gt;</code> – 提取 <code>T</code> 中可以赋值给 <code>U</code> 的类型。/ˈekstrə/</li><li><code>NonNullable&lt;T&gt;</code> – 从 <code>T</code> 中剔除 null 和 undefined。</li><li><code>ReturnType&lt;T&gt;</code> – 获取函数返回值类型。</li><li><code>InstanceType&lt;T&gt;</code> – 获取构造函数类型的实例类型。</li></ul><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T00</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Exclude</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">a</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">b</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">c</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">d</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">a</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">c</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">f</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// &quot;b&quot; | &quot;d&quot;</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T01</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Extract</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">a</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">b</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">c</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">d</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">a</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">c</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> |</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">f</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// &quot;a&quot; | &quot;c&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T02</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Exclude</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#F8F8F2;"> (() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">), </span><span style="color:#FFB86C;font-style:italic;">Function</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// string | number</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T03</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> Extract</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#F8F8F2;"> (() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">), </span><span style="color:#FFB86C;font-style:italic;">Function</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// () =&gt; void</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T04</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> NonNullable</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// string | number</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T05</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> NonNullable</span><span style="color:#F8F8F2;">&lt;(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">|</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">[] </span><span style="color:#FF79C6;">|</span><span style="color:#8BE9FD;font-style:italic;"> null</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> undefined</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// (() =&gt; string) | string[]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> f1</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> { a</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">, b</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> s };</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> C</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    x </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    y </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T10</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// string</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T11</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;(</span><span style="color:#FFB86C;font-style:italic;">s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// void</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T12</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;(&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt;() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#FFB86C;font-style:italic;"> T</span><span style="color:#F8F8F2;">)&gt;;  </span><span style="color:#6272A4;">// {}</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T13</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;(&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#FF79C6;"> extends</span><span style="color:#FFB86C;font-style:italic;"> U</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">U</span><span style="color:#FF79C6;"> extends</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">[]&gt;() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#FFB86C;font-style:italic;"> T</span><span style="color:#F8F8F2;">)&gt;;  </span><span style="color:#6272A4;">// number[]</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T14</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">typeof</span><span style="color:#F8F8F2;"> f1&gt;;  </span><span style="color:#6272A4;">// { a: number, b: string }</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T15</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">any</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// any</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T16</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">never</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// any</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T17</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T18</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">Function</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T20</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> InstanceType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">typeof</span><span style="color:#F8F8F2;"> C&gt;;  </span><span style="color:#6272A4;">// C</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T21</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> InstanceType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">any</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// any</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T22</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> InstanceType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">never</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// any</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T23</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> InstanceType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">string</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// Error</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> T24</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> InstanceType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">Function</span><span style="color:#F8F8F2;">&gt;;  </span><span style="color:#6272A4;">// Error</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>implements</strong></p><p>实现，一个新的类，从父类或者接口实现所有的属性和方法，同时可以重写属性和方法，包含一些新的功能</p><p><strong>extends</strong></p><p>继承，一个新的接口或者类，从父类或者接口继承所有的属性和方法，不可以重写属性，但可以重写方法</p><ul><li>接口不能实现接口或者类，所以实现只能用于类身上,即类可以实现接口或类</li><li>接口可以继承接口或类</li><li>类不可以继承接口，类只能继承类</li><li>可多继承或者多实现</li></ul><p><code>is</code> 关键字一般用于函数返回值类型中，判断参数是否属于某一类型，并根据结果返回对应的布尔类型</p><p>语法：<code>prop is type</code></p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> isString</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#FF79C6;"> typeof</span><span style="color:#F8F8F2;"> s </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">string</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> toUpperCase</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">isString</span><span style="color:#F8F8F2;">(x)) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    x.</span><span style="color:#50FA7B;">toUpperCase</span><span style="color:#F8F8F2;">() </span><span style="color:#6272A4;">// Error, Object is of type &#39;unknown&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> isString</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#FFB86C;font-style:italic;"> s</span><span style="color:#FF79C6;"> is</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#FF79C6;"> typeof</span><span style="color:#F8F8F2;"> val </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">string</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> toUpperCase</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  if</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">isString</span><span style="color:#F8F8F2;">(x)) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    x.</span><span style="color:#50FA7B;">toUpperCase</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="扩展函数" tabindex="-1"><a class="header-anchor" href="#扩展函数"><span>扩展函数</span></a></h1><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> isNumber</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#FFB86C;font-style:italic;"> val</span><span style="color:#FF79C6;"> is</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#FF79C6;"> typeof</span><span style="color:#F8F8F2;"> val </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">number</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> isString</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#FFB86C;font-style:italic;"> val</span><span style="color:#FF79C6;"> is</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#FF79C6;"> typeof</span><span style="color:#F8F8F2;"> val </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">string</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> isSymbol</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#FFB86C;font-style:italic;"> val</span><span style="color:#FF79C6;"> is</span><span style="color:#8BE9FD;font-style:italic;"> symbol</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#FF79C6;"> typeof</span><span style="color:#F8F8F2;"> val </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">symbol</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> isFunction</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#FFB86C;font-style:italic;"> val</span><span style="color:#FF79C6;"> is</span><span style="color:#8BE9FD;font-style:italic;"> Function</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#FF79C6;"> typeof</span><span style="color:#F8F8F2;"> val </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">function</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> isObject</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#FFB86C;font-style:italic;"> val</span><span style="color:#FF79C6;"> is</span><span style="color:#8BE9FD;font-style:italic;"> Record</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">any</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">any</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">         val </span><span style="color:#FF79C6;">!==</span><span style="color:#BD93F9;"> null</span><span style="color:#FF79C6;"> &amp;&amp;</span><span style="color:#FF79C6;"> typeof</span><span style="color:#F8F8F2;"> val </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">object</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> isPromise</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#FFB86C;font-style:italic;"> val</span><span style="color:#FF79C6;"> is</span><span style="color:#8BE9FD;font-style:italic;"> Promise</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#F8F8F2;">&gt; {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#50FA7B;"> isObject</span><span style="color:#F8F8F2;">(val) </span><span style="color:#FF79C6;">&amp;&amp;</span><span style="color:#50FA7B;"> isFunction</span><span style="color:#F8F8F2;">(val.then) </span><span style="color:#FF79C6;">&amp;&amp;</span><span style="color:#50FA7B;"> isFunction</span><span style="color:#F8F8F2;">(val.catch)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> objectToString </span><span style="color:#FF79C6;">=</span><span style="color:#8BE9FD;font-style:italic;"> Object</span><span style="color:#F8F8F2;">.prototype.toString</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> toTypeString</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">value</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> objectToString.</span><span style="color:#50FA7B;">call</span><span style="color:#F8F8F2;">(value)</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> isPlainObject</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">val</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> unknown</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#FFB86C;font-style:italic;"> val</span><span style="color:#FF79C6;"> is</span><span style="color:#8BE9FD;font-style:italic;"> object</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#50FA7B;">           toTypeString</span><span style="color:#F8F8F2;">(val) </span><span style="color:#FF79C6;">===</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">[object Object]</span><span style="color:#E9F284;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>语句 <code>let num</code> 中，通过 <code>let</code> 来声明了一个变量，那怎样声明一个不确定的类型变量呢？</p><p>答案是使用 <code>infer</code> 关键字，<code>infer R</code> 就是声明了一个类型变量 <code>R</code>。</p><p><strong><code>infer</code> 的作用是让 <code>TypeScript</code> 自己推断，并将推断的结果存储到一个类型变量中，<code>infer</code> 只能用于 <code>extends</code> 语句中。</strong></p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y</span></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> t</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">typeof</span><span style="color:#F8F8F2;"> add&gt; </span><span style="color:#6272A4;">// type t = number</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> ReturnType</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FFB86C;font-style:italic;">T</span><span style="color:#FF79C6;"> extends</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">...</span><span style="color:#FFB86C;font-style:italic;">args</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FF79C6;">=</span><span style="color:#8BE9FD;font-style:italic;"> T</span><span style="color:#FF79C6;"> extends</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">...</span><span style="color:#FFB86C;font-style:italic;">args</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#FF79C6;"> infer</span><span style="color:#8BE9FD;font-style:italic;"> R</span><span style="color:#FF79C6;"> ?</span><span style="color:#8BE9FD;font-style:italic;"> R</span><span style="color:#FF79C6;"> :</span><span style="color:#8BE9FD;font-style:italic;"> any</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Truthy 指的是转换后的值为’真‘的值，Falsy 是在 Boolean 上下文中已认定可转换为‘假‘的值。</p><p><a href="https://www.notion.so/022c2c82353a4d46a608cdae347e81e2?pvs=21" target="_blank" rel="noopener noreferrer">转换</a></p><p>需要注意下，空函数、空数组、空对象这些都是 Truthy，返回 true。</p><h1 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h1><p>操作符 ! 表示取反，得到一个布尔值：</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> fn</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> arr</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> never</span><span style="color:#F8F8F2;">[] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">fn)  </span><span style="color:#6272A4;">// false</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">obj) </span><span style="color:#6272A4;">// false</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">arr) </span><span style="color:#6272A4;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> num </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 10</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> str </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">num) </span><span style="color:#6272A4;">// false</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">str) </span><span style="color:#6272A4;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> n </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> null</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> u </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> undefined</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> N </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> NaN</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> z </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">n)   </span><span style="color:#6272A4;">// true</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">u)   </span><span style="color:#6272A4;">// true</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">N)   </span><span style="color:#6272A4;">// true</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">z)   </span><span style="color:#6272A4;">// true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="-1" tabindex="-1"><a class="header-anchor" href="#-1"><span></span></a></h1><p>操作符 !! 表示变量被强制类型转换为布尔值后的值：</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#50FA7B;"> fn</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> obj </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {}</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> arr</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> never</span><span style="color:#F8F8F2;">[] </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">fn)  </span><span style="color:#6272A4;">// true</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">obj) </span><span style="color:#6272A4;">// true</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">arr) </span><span style="color:#6272A4;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> num </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 10</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> str </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">imooc</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">num) </span><span style="color:#6272A4;">// true</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">str) </span><span style="color:#6272A4;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> n </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> null</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> u </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> undefined</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> N </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> NaN</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> z </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">n)   </span><span style="color:#6272A4;">// false</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">u)   </span><span style="color:#6272A4;">// false</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">N)   </span><span style="color:#6272A4;">// false</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!!</span><span style="color:#F8F8F2;">z)   </span><span style="color:#6272A4;">// false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当一个对象实现了<a href="https://www.tslang.cn/docs/handbook/symbols.html#symboliterator" target="_blank" rel="noopener noreferrer"><code>Symbol.iterator</code></a>属性时，我们认为它是可迭代的。</p><h1 id="for-of-语句" tabindex="-1"><a class="header-anchor" href="#for-of-语句"><span><strong><code>for..of</code> 语句</strong></span></a></h1><p><code>for..of</code>会遍历可迭代的对象，调用对象上的<code>Symbol.iterator</code>方法。</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> someArray </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">string</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">false</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> entry </span><span style="color:#FF79C6;">of</span><span style="color:#F8F8F2;"> someArray) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(entry); </span><span style="color:#6272A4;">// 1, &quot;string&quot;, false</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="for-of-vs-for-in-语句" tabindex="-1"><a class="header-anchor" href="#for-of-vs-for-in-语句"><span><strong><code>*for..of</code> vs. <code>for..in</code> 语句</strong>*</span></a></h1><p><code>for..of</code>和<code>for..in</code>均可迭代一个列表；但是用于迭代的值却不同，<code>for..in</code>迭代的是对象的 <em>键</em> 的列表，而<code>for..of</code>则迭代对象的键对应的值。</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> list </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#BD93F9;">4</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">5</span><span style="color:#F8F8F2;">, </span><span style="color:#BD93F9;">6</span><span style="color:#F8F8F2;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> i </span><span style="color:#FF79C6;">in</span><span style="color:#F8F8F2;"> list) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(i); </span><span style="color:#6272A4;">// &quot;0&quot;, &quot;1&quot;, &quot;2&quot;,</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">for</span><span style="color:#F8F8F2;"> (</span><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> i </span><span style="color:#FF79C6;">of</span><span style="color:#F8F8F2;"> list) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(i); </span><span style="color:#6272A4;">// &quot;4&quot;, &quot;5&quot;, &quot;6&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h1><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#F8F8F2;">npm i reflect</span><span style="color:#FF79C6;">-</span><span style="color:#F8F8F2;">metadata </span><span style="color:#FF79C6;">--</span><span style="color:#F8F8F2;">save</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">//tsconfig.json</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#E9F284;">  &quot;</span><span style="color:#F1FA8C;">compilerOptions</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">: {</span></span>
<span class="line"><span style="color:#E9F284;">    &quot;</span><span style="color:#F1FA8C;">target</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">ES5</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#E9F284;">    &quot;</span><span style="color:#F1FA8C;">experimentalDecorators</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#E9F284;">    &quot;</span><span style="color:#F1FA8C;">emitDecoratorMetadata</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> true</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">import</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">reflect-metadata</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">@</span><span style="color:#50FA7B;">Reflect</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">metadata</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">token</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">aW1vb2M=</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Employee</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  @</span><span style="color:#50FA7B;">Reflect</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">metadata</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">level</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">D2</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#50FA7B;">  salary</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">这是个秘密</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">  @</span><span style="color:#50FA7B;">Reflect</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">metadata</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">times</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">daily</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">  static</span><span style="color:#50FA7B;"> meeting</span><span style="color:#F8F8F2;">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> token </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getMetadata</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">token</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, Employee)</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> level </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getMetadata</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">level</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#FF79C6;font-weight:bold;">new</span><span style="color:#50FA7B;"> Employee</span><span style="color:#F8F8F2;">(), </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">salary</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> times </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getMetadata</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">times</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">, Employee, </span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">meeting</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(token) </span><span style="color:#6272A4;">// aW1vb2M=</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(level) </span><span style="color:#6272A4;">// D2</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(times) </span><span style="color:#6272A4;">// daily</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">import</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">reflect-metadata</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 元数据的命令式定义，定义对象或属性的元数据</span></span>
<span class="line"><span style="color:#F8F8F2;">Reflect.</span><span style="color:#50FA7B;">defineMetadata</span><span style="color:#F8F8F2;">(metadataKey, metadataValue, target)</span></span>
<span class="line"><span style="color:#F8F8F2;">Reflect.</span><span style="color:#50FA7B;">defineMetadata</span><span style="color:#F8F8F2;">(metadataKey, metadataValue, target, propertyKey)</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 检查对象或属性的原型链上是否存在元数据键</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">hasMetadata</span><span style="color:#F8F8F2;">(metadataKey, target)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">hasMetadata</span><span style="color:#F8F8F2;">(metadataKey, target, propertyKey)</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 检查对象或属性是否存在自己的元数据键</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">hasMetadata</span><span style="color:#F8F8F2;">(metadataKey, target)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">hasMetadata</span><span style="color:#F8F8F2;">(metadataKey, target, propertyKey)</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 获取对象或属性原型链上元数据键的元数据值</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getMetadata</span><span style="color:#F8F8F2;">(metadataKey, target)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getMetadata</span><span style="color:#F8F8F2;">(metadataKey, target, propertyKey)</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 获取对象或属性的自己的元数据键的元数据值</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getOwnMetadata</span><span style="color:#F8F8F2;">(metadataKey, target)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getOwnMetadata</span><span style="color:#F8F8F2;">(metadataKey, target, propertyKey)</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 获取对象或属性原型链上的所有元数据键</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getMetadataKeys</span><span style="color:#F8F8F2;">(target)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getMetadataKeys</span><span style="color:#F8F8F2;">(target, propertyKey)</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 获取对象或属性的所有自己的元数据键</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getOwnMetadataKeys</span><span style="color:#F8F8F2;">(target)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">getOwnMetadataKeys</span><span style="color:#F8F8F2;">(target, propertyKey)</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 从对象或属性中删除元数据</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">deleteMetadata</span><span style="color:#F8F8F2;">(metadataKey, target)</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> result </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> Reflect.</span><span style="color:#50FA7B;">deleteMetadata</span><span style="color:#F8F8F2;">(metadataKey, target, propertyKey)</span></span>
<span class="line"><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#6272A4;">// 通过装饰器将元数据应用于构造函数</span></span>
<span class="line"><span style="color:#F8F8F2;">@</span><span style="color:#50FA7B;">Reflect</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">metadata</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;font-style:italic;">metadataKey</span><span style="color:#F8F8F2;">, </span><span style="color:#50FA7B;font-style:italic;">metadataValue</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> C</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#6272A4;">  // 通过装饰器将元数据应用于方法(属性)</span></span>
<span class="line"><span style="color:#F8F8F2;">  @</span><span style="color:#50FA7B;">Reflect</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">metadata</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;font-style:italic;">metadataKey</span><span style="color:#F8F8F2;">, </span><span style="color:#50FA7B;font-style:italic;">metadataValue</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#50FA7B;">  method</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 TypeScript 中，可以根据不同的功能定义多个可复用的类，它们将作为 <code>mixins</code>。因为 <code>extends</code> 只支持继承一个父类，我们可以通过 <code>implements</code> 来连接多个 <code>mixins</code>，并且使用原型链连接子类的方法和父类的方法。</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> target </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {  a</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">,  b</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;"> }</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> source1 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {  a</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 2</span><span style="color:#F8F8F2;">,  c</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 3</span><span style="color:#F8F8F2;"> }</span></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> source2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> {  b</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 2</span><span style="color:#F8F8F2;">,  d</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 4</span><span style="color:#F8F8F2;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">Object.</span><span style="color:#50FA7B;">assign</span><span style="color:#F8F8F2;">(target, source1, source2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(target) </span><span style="color:#6272A4;">// { a: 2, b: 2, c: 3, d: 4 }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// Disposable Mixin</span></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Disposable</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    isDisposed</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#50FA7B;">    dispose</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">        this</span><span style="color:#F8F8F2;">.isDisposed </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> true</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">// Activatable Mixin</span></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Activatable</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    isActive</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#50FA7B;">    activate</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">        this</span><span style="color:#F8F8F2;">.isActive </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> true</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#50FA7B;">    deactivate</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">        this</span><span style="color:#F8F8F2;">.isActive </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> false</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> SmartObject</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> Disposable</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">Activatable</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">    constructor</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#50FA7B;">        setInterval</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;font-style:italic;">this</span><span style="color:#F8F8F2;">.isActive </span><span style="color:#FF79C6;">+</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;"> : </span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> +</span><span style="color:#BD93F9;font-style:italic;"> this</span><span style="color:#F8F8F2;">.isDisposed), </span><span style="color:#BD93F9;">500</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B;">    interact</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#BD93F9;font-style:italic;">        this</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">activate</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">//将要 mixin 进来的属性/方法创建出占位属性。</span></span>
<span class="line"><span style="color:#6272A4;">    // Disposable</span></span>
<span class="line"><span style="color:#F8F8F2;">    isDisposed</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> false</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#50FA7B;">    dispose</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#6272A4;">    // Activatable</span></span>
<span class="line"><span style="color:#F8F8F2;">    isActive</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> false</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#50FA7B;">    activate</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#50FA7B;">    deactivate</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> () </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#8BE9FD;font-style:italic;"> void</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#50FA7B;">applyMixins</span><span style="color:#F8F8F2;">(SmartObject, [Disposable, Activatable]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> smartObj </span><span style="color:#FF79C6;">=</span><span style="color:#FF79C6;font-weight:bold;"> new</span><span style="color:#50FA7B;"> SmartObject</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#50FA7B;">setTimeout</span><span style="color:#F8F8F2;">(() </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> smartObj.</span><span style="color:#50FA7B;">interact</span><span style="color:#F8F8F2;">(), </span><span style="color:#BD93F9;">1000</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">//applyMixins() 方法借助 Object.getOwnPropertyNames() 遍历 mixins 上的所有属性，</span></span>
<span class="line"><span style="color:#6272A4;">//并复制到目标上去，把之前的占位属性替换成真正的实现代码</span></span>
<span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> applyMixins</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">derivedCtor</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">baseCtors</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">[]) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    baseCtors.</span><span style="color:#50FA7B;">forEach</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">baseCtor</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        Object.</span><span style="color:#50FA7B;">getOwnPropertyNames</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">baseCtor</span><span style="color:#F8F8F2;">.prototype).</span><span style="color:#50FA7B;">forEach</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;"> =&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#8BE9FD;font-style:italic;">            derivedCtor</span><span style="color:#F8F8F2;">.prototype[name] </span><span style="color:#FF79C6;">=</span><span style="color:#8BE9FD;font-style:italic;"> baseCtor</span><span style="color:#F8F8F2;">.prototype[name];</span></span>
<span class="line"><span style="color:#F8F8F2;">        });</span></span>
<span class="line"><span style="color:#F8F8F2;">    });</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>export</code>： 导出模块中的变量、函数、类、接口等；</p><p><code>import</code>： 导入其他模块导出的变量、函数、类、接口等。</p><p>TypeScript 与 ECMAScript 2015 一样，任何包含顶级 <code>import</code> 或者 <code>export</code> 的文件都被当成一个模块。相反的，如果一个文件不带有顶级的 <code>import</code> 或者 <code>export</code> 声明，那么它的内容被视为全局可见的。</p><h1 id="全局模块" tabindex="-1"><a class="header-anchor" href="#全局模块"><span>全局模块</span></a></h1><p>在一个 TypeScript 工程创建一个 <code>test.ts</code> 文件，写入代码：</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> a </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后，在相同的工程下创建另一个 <code>test2.ts</code> 文件，写入代码：</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> a </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>此时编译器会提示重复定义错误，虽然是在不同的文件下，但处于同一全局空间。</p><p>如果加上 <code>export</code> 导出语句：</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> const</span><span style="color:#F8F8F2;"> a </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这样，两个 <code>a</code> 因处于不同的命名空间，就不会报错。</p><h1 id="导出语法" tabindex="-1"><a class="header-anchor" href="#导出语法"><span>导出语法</span></a></h1><h1 id="使用export-导出声明" tabindex="-1"><a class="header-anchor" href="#使用export-导出声明"><span>使用export 导出声明</span></a></h1><p>任何声明（比如变量，函数，类，类型别名或接口）都能够通过添加 export 关键字来导出。</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> const</span><span style="color:#F8F8F2;"> a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 1</span></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y </span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  nickname</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  department</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> Employee</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> nickname</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> department</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> type</span><span style="color:#8BE9FD;font-style:italic;"> used</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> true</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="先声明-后导出" tabindex="-1"><a class="header-anchor" href="#先声明-后导出"><span>先声明，后导出</span></a></h2><p>先进行声明操作，最终统一使用 export 关键字导出</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 1</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y </span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  nickname</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  department</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Employee</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> nickname</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> department</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> used</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> true</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> { a, add, Employee }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="导出时重命名" tabindex="-1"><a class="header-anchor" href="#导出时重命名"><span>导出时重命名</span></a></h2><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">const</span><span style="color:#F8F8F2;"> a</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#FF79C6;"> =</span><span style="color:#BD93F9;"> 1</span></span>
<span class="line"><span style="color:#FF79C6;">const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y </span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  nickname</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  department</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Employee</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> User</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> nickname</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#FF79C6;">  public</span><span style="color:#F8F8F2;"> department</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> string</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">type</span><span style="color:#8BE9FD;font-style:italic;"> used</span><span style="color:#FF79C6;"> =</span><span style="color:#8BE9FD;font-style:italic;"> true</span><span style="color:#FF79C6;"> |</span><span style="color:#8BE9FD;font-style:italic;"> false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> { add }</span></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> { a </span><span style="color:#FF79C6;">as</span><span style="color:#F8F8F2;"> level, used </span><span style="color:#FF79C6;">as</span><span style="color:#F8F8F2;"> status, Employee }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重新导出" tabindex="-1"><a class="header-anchor" href="#重新导出"><span>重新导出</span></a></h2><p>重新导出功能并不会在当前模块导入那个模块或定义一个新的局部变量。</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> interface</span><span style="color:#8BE9FD;font-style:italic;"> StringValidator</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#50FA7B;">  isAcceptable</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> boolean</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> const</span><span style="color:#F8F8F2;"> numberRegexp </span><span style="color:#FF79C6;">=</span><span style="color:#FF5555;"> /</span><span style="color:#FF79C6;">^</span><span style="color:#8BE9FD;">[</span><span style="color:#BD93F9;">0-9</span><span style="color:#8BE9FD;">]</span><span style="color:#FF79C6;">+$</span><span style="color:#FF5555;">/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> ZipCodeValidator</span><span style="color:#FF79C6;"> implements</span><span style="color:#8BE9FD;font-style:italic;"> StringValidator</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#50FA7B;">isAcceptable</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> s.length </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 5</span><span style="color:#FF79C6;"> &amp;&amp;</span><span style="color:#F8F8F2;"> numberRegexp.</span><span style="color:#50FA7B;">test</span><span style="color:#F8F8F2;">(s)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> { ZipCodeValidator }</span></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#F8F8F2;"> { ZipCodeValidator </span><span style="color:#FF79C6;">as</span><span style="color:#F8F8F2;"> mainValidator }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一个模块可以包裹多个模块，并把他们导出的内容联合在一起通过语法：<code>export * from &#39;module&#39;</code>。</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// validator.ts</span></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#BD93F9;"> *</span><span style="color:#FF79C6;"> from</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">./ZipCodeValidator</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">export</span><span style="color:#BD93F9;"> *</span><span style="color:#FF79C6;"> from</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">./ParseIntBasedZipCodeValidator</span><span style="color:#E9F284;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="默认导出" tabindex="-1"><a class="header-anchor" href="#默认导出"><span>默认导出</span></a></h2><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">export</span><span style="color:#FF79C6;"> default</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> ZipCodeValidator</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  static</span><span style="color:#F8F8F2;"> numberRegexp </span><span style="color:#FF79C6;">=</span><span style="color:#FF5555;"> /</span><span style="color:#FF79C6;">^</span><span style="color:#8BE9FD;">[</span><span style="color:#BD93F9;">0-9</span><span style="color:#8BE9FD;">]</span><span style="color:#FF79C6;">+$</span><span style="color:#FF5555;">/</span></span>
<span class="line"><span style="color:#50FA7B;">  isAcceptable</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">s</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    return</span><span style="color:#F8F8F2;"> s.length </span><span style="color:#FF79C6;">===</span><span style="color:#BD93F9;"> 5</span><span style="color:#FF79C6;"> &amp;&amp;</span><span style="color:#F8F8F2;"> ZipCodeValidator.numberRegexp.</span><span style="color:#50FA7B;">test</span><span style="color:#F8F8F2;">(s)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="导入语法" tabindex="-1"><a class="header-anchor" href="#导入语法"><span>导入语法</span></a></h1><h2 id="使用import导入" tabindex="-1"><a class="header-anchor" href="#使用import导入"><span>使用import导入</span></a></h2><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> { a, add, Employee } </span><span style="color:#FF79C6;">from</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">./export</span><span style="color:#E9F284;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="导入时重命名" tabindex="-1"><a class="header-anchor" href="#导入时重命名"><span>导入时重命名</span></a></h2><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">import</span><span style="color:#F8F8F2;"> { </span><span style="color:#FFB86C;font-style:italic;">a</span><span style="color:#FF79C6;"> as</span><span style="color:#F8F8F2;"> level, </span><span style="color:#FFB86C;font-style:italic;">used</span><span style="color:#FF79C6;"> as</span><span style="color:#F8F8F2;"> status } </span><span style="color:#FF79C6;">from</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">./export</span><span style="color:#E9F284;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="将整个模块导入到一个变量" tabindex="-1"><a class="header-anchor" href="#将整个模块导入到一个变量"><span>将整个模块导入到一个变量</span></a></h2><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">import</span><span style="color:#BD93F9;"> *</span><span style="color:#FF79C6;"> as</span><span style="color:#F8F8F2;"> TYPES </span><span style="color:#FF79C6;">from</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">./export</span><span style="color:#E9F284;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="直接导入" tabindex="-1"><a class="header-anchor" href="#直接导入"><span>直接导入</span></a></h2><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">import</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">./export</span><span style="color:#E9F284;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用 <code>namespace</code> 关键字来声明命名空间。</p><p>TypeScript 的命名空间可以将代码包裹起来，只对外暴露这个命名空间对象，通过 <code>export</code> 关键字将命名空间内的变量挂载到命名空间对象上。</p><p>命名空间本质上就是一个对象，将其内部的变量组织到这个对象的属性上：</p><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">namespace</span><span style="color:#8BE9FD;font-style:italic;"> Calculate</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  const</span><span style="color:#50FA7B;"> fn</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">*</span><span style="color:#F8F8F2;"> y </span></span>
<span class="line"><span style="color:#FF79C6;">  export</span><span style="color:#FF79C6;"> const</span><span style="color:#50FA7B;"> add</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> (</span><span style="color:#FFB86C;font-style:italic;">x</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#F8F8F2;">, </span><span style="color:#FFB86C;font-style:italic;">y</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;">number</span><span style="color:#F8F8F2;">) </span><span style="color:#FF79C6;">=&gt;</span><span style="color:#F8F8F2;"> x </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> y</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TypeScript 中的声明会创建以下三种实体之一：命名空间、类型或值。</p><p><a href="https://www.notion.so/3aa3e95cdf3848799c4f87a16b75e704?pvs=21" target="_blank" rel="noopener noreferrer">类型声明</a></p><h1 id="接口合并" tabindex="-1"><a class="header-anchor" href="#接口合并"><span>接口合并</span></a></h1><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Box</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  height</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#F8F8F2;">  width</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Box</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  scale</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span></span>
<span class="line"><span style="color:#F8F8F2;">  width</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> number</span><span style="color:#6272A4;"> // 类型相同 OK</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">let</span><span style="color:#F8F8F2;"> box</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Box</span><span style="color:#FF79C6;"> =</span><span style="color:#F8F8F2;"> {height</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 5</span><span style="color:#F8F8F2;">, width</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 6</span><span style="color:#F8F8F2;">, scale</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接口合并时，将遵循以下规范：</p><ul><li>接口内优先级是从上到下；</li><li>后面的接口具有更高优先级；</li><li>如果函数的参数是字符串字面量，会被提升到函数声明的最顶端。</li></ul><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Document</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Element</span><span style="color:#6272A4;">              // 5</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Document</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">div</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> HTMLDivElement</span><span style="color:#6272A4;">     // 2</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">span</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> HTMLSpanElement</span><span style="color:#6272A4;">   // 3</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Document</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> HTMLElement</span><span style="color:#6272A4;">         // 4</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">canvas</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> HTMLCanvasElement</span><span style="color:#6272A4;"> // 1</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">interface</span><span style="color:#8BE9FD;font-style:italic;"> Document</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">canvas</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> HTMLCanvasElement</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">div</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> HTMLDivElement</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">span</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> HTMLSpanElement</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> HTMLElement</span></span>
<span class="line"><span style="color:#50FA7B;">  createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">tagName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> any</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> Element</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="命名空间合并" tabindex="-1"><a class="header-anchor" href="#命名空间合并"><span>命名空间合并</span></a></h1><p>合并多个具有相同名称的命名空间：</p><ul><li>导出成员不可重复定义</li><li>非导出成员仅在其原有的（合并前的）命名空间内可见</li></ul><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">namespace</span><span style="color:#8BE9FD;font-style:italic;"> A</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  let</span><span style="color:#F8F8F2;"> used </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">  export</span><span style="color:#FF79C6;"> function</span><span style="color:#50FA7B;"> fn</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#FF79C6;">      return</span><span style="color:#F8F8F2;"> used</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">namespace</span><span style="color:#8BE9FD;font-style:italic;"> A</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  export</span><span style="color:#FF79C6;"> function</span><span style="color:#50FA7B;"> fnOther</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#FF79C6;">      return</span><span style="color:#F8F8F2;"> used </span><span style="color:#6272A4;">// Error, 未找到变量 used</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD93F9;">A</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">fn</span><span style="color:#F8F8F2;">()      </span><span style="color:#6272A4;">// OK</span></span>
<span class="line"><span style="color:#BD93F9;">A</span><span style="color:#F8F8F2;">.</span><span style="color:#50FA7B;">fnOther</span><span style="color:#F8F8F2;">() </span><span style="color:#6272A4;">// OK</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="命名空间与其他类型的合并" tabindex="-1"><a class="header-anchor" href="#命名空间与其他类型的合并"><span>命名空间与其他类型的合并</span></a></h1><h2 id="命名空间与类的合并" tabindex="-1"><a class="header-anchor" href="#命名空间与类的合并"><span>命名空间与类的合并</span></a></h2><p>合并名称相同的命名空间与类：</p><ul><li>命名空间内的成员必须导出，合并后的类才能访问</li><li>命名空间内导出的成员，相当于合并后类的静态属性</li><li>命名空间要放在类的定义后面</li></ul><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">class</span><span style="color:#8BE9FD;"> Album</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  label</span><span style="color:#FF79C6;">!:</span><span style="color:#8BE9FD;font-style:italic;"> Album</span><span style="color:#F8F8F2;">.</span><span style="color:#8BE9FD;font-style:italic;">AlbumLabel</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">namespace</span><span style="color:#8BE9FD;font-style:italic;"> Album</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  export</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> AlbumLabel</span><span style="color:#F8F8F2;"> { }</span></span>
<span class="line"><span style="color:#FF79C6;">  export</span><span style="color:#FF79C6;"> const</span><span style="color:#F8F8F2;"> num </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 10</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(Album.num) </span><span style="color:#6272A4;">// 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="命名空间与函数的合并" tabindex="-1"><a class="header-anchor" href="#命名空间与函数的合并"><span>命名空间与函数的合并</span></a></h2><ul><li>名称相同的命名空间与函数挂载同一个对象</li><li>命名空间要放在函数的定义后面</li></ul><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">function</span><span style="color:#50FA7B;"> buildLabel</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">name</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">)</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  return</span><span style="color:#F8F8F2;"> buildLabel.prefix </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> name </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> buildLabel.suffix</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">namespace</span><span style="color:#8BE9FD;font-style:italic;"> buildLabel</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  export</span><span style="color:#FF79C6;"> let</span><span style="color:#F8F8F2;"> suffix </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">.C</span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#FF79C6;">  export</span><span style="color:#FF79C6;"> let</span><span style="color:#F8F8F2;"> prefix </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">Hello, </span><span style="color:#E9F284;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#50FA7B;">buildLabel</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">Mr.Pioneer</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)) </span><span style="color:#6272A4;">// Hello, Mr.Pioneer.C</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="命名空间与枚举的合并" tabindex="-1"><a class="header-anchor" href="#命名空间与枚举的合并"><span>命名空间与枚举的合并</span></a></h2><div class="language-tsx line-numbers-mode" data-highlighter="shiki" data-ext="tsx" data-title="tsx" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">enum</span><span style="color:#8BE9FD;font-style:italic;"> Color</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  red </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  green </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 2</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  blue </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 4</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">namespace</span><span style="color:#8BE9FD;font-style:italic;"> Color</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#FF79C6;">  export</span><span style="color:#FF79C6;"> function</span><span style="color:#50FA7B;"> mixColor</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">colorName</span><span style="color:#FF79C6;">:</span><span style="color:#8BE9FD;font-style:italic;"> string</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#FF79C6;">    switch</span><span style="color:#F8F8F2;"> (colorName) {</span></span>
<span class="line"><span style="color:#FF79C6;">      case</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">yellow</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#FF79C6;">        return</span><span style="color:#F8F8F2;"> Color.red </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> Color.green</span></span>
<span class="line"><span style="color:#FF79C6;">      case</span><span style="color:#E9F284;"> &#39;</span><span style="color:#F1FA8C;">white</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#FF79C6;">        return</span><span style="color:#F8F8F2;"> Color.red </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> Color.green </span><span style="color:#FF79C6;">+</span><span style="color:#F8F8F2;"> Color.blue</span></span>
<span class="line"><span style="color:#FF79C6;">      default</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#FF79C6;">        break</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#50FA7B;">log</span><span style="color:#F8F8F2;">(Color.</span><span style="color:#50FA7B;">mixColor</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&#39;</span><span style="color:#F1FA8C;">yellow</span><span style="color:#E9F284;">&#39;</span><span style="color:#F8F8F2;">)) </span><span style="color:#6272A4;">// 3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,447)]))}const F=n(p,[["render",o],["__file","base.html.vue"]]),r=JSON.parse('{"path":"/typescript/base.html","title":"TypeScript 基础","lang":"en-US","frontmatter":{"title":"TypeScript 基础","category":["TypeScript"],"date":"2021-10-28T00:00:00.000Z","description":"简介 TypeScript TypeScript 是 JavaScript 的超集，它可以编译成纯 JavaScript。 TypeScript 基于 ECMAScript 标准进行拓展，支持 ECMAScript 未来提案中的特性，如装饰器、异步功能等。 TypeScript 编译的 JavaScript 可以在任何浏览器运行，TypeScript ...","head":[["meta",{"property":"og:url","content":"https://luxiag.github.io/luxiag/blog/typescript/base.html"}],["meta",{"property":"og:title","content":"TypeScript 基础"}],["meta",{"property":"og:description","content":"简介 TypeScript TypeScript 是 JavaScript 的超集，它可以编译成纯 JavaScript。 TypeScript 基于 ECMAScript 标准进行拓展，支持 ECMAScript 未来提案中的特性，如装饰器、异步功能等。 TypeScript 编译的 JavaScript 可以在任何浏览器运行，TypeScript ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-11-03T07:17:49.000Z"}],["meta",{"property":"article:published_time","content":"2021-10-28T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-03T07:17:49.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"TypeScript 基础\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-10-28T00:00:00.000Z\\",\\"dateModified\\":\\"2024-11-03T07:17:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"luxiag\\",\\"url\\":\\"https://luxiag.github.io/luxiag\\"}]}"]]},"headers":[{"level":2,"title":"类型安全---强类型、弱类型","slug":"类型安全-强类型、弱类型","link":"#类型安全-强类型、弱类型","children":[]},{"level":2,"title":"类型检查 --- 静态类型、动态类型","slug":"类型检查-静态类型、动态类型","link":"#类型检查-静态类型、动态类型","children":[]},{"level":2,"title":"JS 是弱类型且动态类型","slug":"js-是弱类型且动态类型","link":"#js-是弱类型且动态类型","children":[]},{"level":2,"title":"需要类型检测","slug":"需要类型检测","link":"#需要类型检测","children":[]},{"level":2,"title":"弱类型的不足","slug":"弱类型的不足","link":"#弱类型的不足","children":[]},{"level":2,"title":"强类型的优势","slug":"强类型的优势","link":"#强类型的优势","children":[]},{"level":2,"title":"类型系统问题解决方案","slug":"类型系统问题解决方案","link":"#类型系统问题解决方案","children":[]},{"level":2,"title":"编译型语言和解释型语言","slug":"编译型语言和解释型语言","link":"#编译型语言和解释型语言","children":[]},{"level":2,"title":"可选属性","slug":"可选属性","link":"#可选属性","children":[]},{"level":2,"title":"只读属性","slug":"只读属性","link":"#只读属性","children":[]},{"level":2,"title":"可选属性","slug":"可选属性-1","link":"#可选属性-1","children":[]},{"level":2,"title":"只读属性","slug":"只读属性-1","link":"#只读属性-1","children":[]},{"level":2,"title":"参数个数保持一致","slug":"参数个数保持一致","link":"#参数个数保持一致","children":[]},{"level":2,"title":"可选参数","slug":"可选参数","link":"#可选参数","children":[]},{"level":2,"title":"默认参数","slug":"默认参数","link":"#默认参数","children":[]},{"level":2,"title":"剩余参数","slug":"剩余参数","link":"#剩余参数","children":[]},{"level":2,"title":"this参数","slug":"this参数","link":"#this参数","children":[]},{"level":2,"title":"函数参数","slug":"函数参数","link":"#函数参数","children":[]},{"level":2,"title":"函数返回值","slug":"函数返回值","link":"#函数返回值","children":[]},{"level":2,"title":"先声明，后导出","slug":"先声明-后导出","link":"#先声明-后导出","children":[]},{"level":2,"title":"导出时重命名","slug":"导出时重命名","link":"#导出时重命名","children":[]},{"level":2,"title":"重新导出","slug":"重新导出","link":"#重新导出","children":[]},{"level":2,"title":"默认导出","slug":"默认导出","link":"#默认导出","children":[]},{"level":2,"title":"使用import导入","slug":"使用import导入","link":"#使用import导入","children":[]},{"level":2,"title":"导入时重命名","slug":"导入时重命名","link":"#导入时重命名","children":[]},{"level":2,"title":"将整个模块导入到一个变量","slug":"将整个模块导入到一个变量","link":"#将整个模块导入到一个变量","children":[]},{"level":2,"title":"直接导入","slug":"直接导入","link":"#直接导入","children":[]},{"level":2,"title":"命名空间与类的合并","slug":"命名空间与类的合并","link":"#命名空间与类的合并","children":[]},{"level":2,"title":"命名空间与函数的合并","slug":"命名空间与函数的合并","link":"#命名空间与函数的合并","children":[]},{"level":2,"title":"命名空间与枚举的合并","slug":"命名空间与枚举的合并","link":"#命名空间与枚举的合并","children":[]}],"git":{"createdTime":1730618269000,"updatedTime":1730618269000,"contributors":[{"name":"luxiag","email":"luxiag@qq.com","commits":1}]},"readingTime":{"minutes":38.76,"words":11628},"filePathRelative":"typescript/base.md","localizedDate":"October 28, 2021","excerpt":"\\n<h1>TypeScript</h1>\\n<ul>\\n<li>TypeScript 是 JavaScript 的超集，它可以编译成纯 JavaScript。</li>\\n<li>TypeScript 基于 ECMAScript 标准进行拓展，支持 ECMAScript 未来提案中的特性，如装饰器、异步功能等。</li>\\n<li>TypeScript 编译的 JavaScript 可以在任何浏览器运行，TypeScript 编译工具可以运行在任何操作系统上。</li>\\n<li>TypeScript 起源于开发较大规模 JavaScript 应用程序的需求。由微软在2012年发布了首个公开版本。</li>\\n</ul>","autoDesc":true}');export{F as comp,r as data};
