import{_ as oa,h as G,i as R,q as da,c as ra,a as ba,b as ca,o as pa}from"./app-DwrwhhBt.js";import{m as ha,l as va,i as fa,aN as ua,aO as ma,z as ga,p as Fa,q as ya,aE as Aa,aP as wa,aQ as xa,W as _a,r as Ea,s as Ca}from"./three.module-DS1BwEFu.js";import{G as J}from"./GLTFLoader-Ply5ciTv.js";/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.17.0
 * @author George Michael Brower
 * @license MIT
 */class x{constructor(a,e,t,l,r="div"){this.parent=a,this.object=e,this.property=t,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(l),this.$name=document.createElement("div"),this.$name.classList.add("name"),x.nextNameID=x.nextNameID||0,this.$name.id="lil-gui-name-"+ ++x.nextNameID,this.$widget=document.createElement(r),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(t)}name(a){return this._name=a,this.$name.innerHTML=a,this}onChange(a){return this._onChange=a,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(a){return this._onFinishChange=a,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(a=!0){return this.disable(!a)}disable(a=!0){return a===this._disabled||(this._disabled=a,this.domElement.classList.toggle("disabled",a),this.$disable.toggleAttribute("disabled",a)),this}show(a=!0){return this._hidden=!a,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(a){const e=this.parent.add(this.object,this.property,a);return e.name(this._name),this.destroy(),e}min(a){return this}max(a){return this}step(a){return this}decimals(a){return this}listen(a=!0){return this._listening=a,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const a=this.save();a!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=a}getValue(){return this.object[this.property]}setValue(a){return this.object[this.property]=a,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(a){return this.setValue(a),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class ka extends x{constructor(a,e,t){super(a,e,t,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function z(o){let a,e;return(a=o.match(/(#|0x)?([a-f0-9]{6})/i))?e=a[2]:(a=o.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?e=parseInt(a[1]).toString(16).padStart(2,0)+parseInt(a[2]).toString(16).padStart(2,0)+parseInt(a[3]).toString(16).padStart(2,0):(a=o.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(e=a[1]+a[1]+a[2]+a[2]+a[3]+a[3]),!!e&&"#"+e}const $a={isPrimitive:!0,match:o=>typeof o=="string",fromHexString:z,toHexString:z},j={isPrimitive:!0,match:o=>typeof o=="number",fromHexString:o=>parseInt(o.substring(1),16),toHexString:o=>"#"+o.toString(16).padStart(6,0)},Sa={isPrimitive:!1,match:Array.isArray,fromHexString(o,a,e=1){const t=j.fromHexString(o);a[0]=(t>>16&255)/255*e,a[1]=(t>>8&255)/255*e,a[2]=(255&t)/255*e},toHexString:([o,a,e],t=1)=>j.toHexString(o*(t=255/t)<<16^a*t<<8^e*t<<0)},Ba={isPrimitive:!1,match:o=>Object(o)===o,fromHexString(o,a,e=1){const t=j.fromHexString(o);a.r=(t>>16&255)/255*e,a.g=(t>>8&255)/255*e,a.b=(255&t)/255*e},toHexString:({r:o,g:a,b:e},t=1)=>j.toHexString(o*(t=255/t)<<16^a*t<<8^e*t<<0)},Da=[$a,j,Sa,Ba];class La extends x{constructor(a,e,t,l){var r;super(a,e,t,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(r=this.initialValue,Da.find(s=>s.match(r))),this._rgbScale=l,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const s=z(this.$text.value);s&&this._setValueFromHexString(s)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(a){if(this._format.isPrimitive){const e=this._format.fromHexString(a);this.setValue(e)}else this._format.fromHexString(a,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(a){return this._setValueFromHexString(a),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class O extends x{constructor(a,e,t){super(a,e,t,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",l=>{l.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class ja extends x{constructor(a,e,t,l,r,s){super(a,e,t,"number"),this._initInput(),this.min(l),this.max(r);const v=s!==void 0;this.step(v?s:this._getImplicitStep(),v),this.updateDisplay()}decimals(a){return this._decimals=a,this.updateDisplay(),this}min(a){return this._min=a,this._onUpdateMinMax(),this}max(a){return this._max=a,this._onUpdateMinMax(),this}step(a,e=!0){return this._step=a,this._stepExplicit=e,this}updateDisplay(){const a=this.getValue();if(this._hasSlider){let e=(a-this._min)/(this._max-this._min);e=Math.max(0,Math.min(e,1)),this.$fill.style.width=100*e+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?a:a.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const a=n=>{const u=parseFloat(this.$input.value);isNaN(u)||(this._snapClampSetValue(u+n),this.$input.value=this.getValue())};let e,t,l,r,s,v=!1;const p=n=>{if(v){const u=n.clientX-e,d=n.clientY-t;Math.abs(d)>5?(n.preventDefault(),this.$input.blur(),v=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(u)>5&&f()}if(!v){const u=n.clientY-l;s-=u*this._step*this._arrowKeyMultiplier(n),r+s>this._max?s=this._max-r:r+s<this._min&&(s=this._min-r),this._snapClampSetValue(r+s)}l=n.clientY},f=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",f)};this.$input.addEventListener("input",()=>{let n=parseFloat(this.$input.value);isNaN(n)||(this._stepExplicit&&(n=this._snap(n)),this.setValue(this._clamp(n)))}),this.$input.addEventListener("keydown",n=>{n.code==="Enter"&&this.$input.blur(),n.code==="ArrowUp"&&(n.preventDefault(),a(this._step*this._arrowKeyMultiplier(n))),n.code==="ArrowDown"&&(n.preventDefault(),a(this._step*this._arrowKeyMultiplier(n)*-1))}),this.$input.addEventListener("wheel",n=>{this._inputFocused&&(n.preventDefault(),a(this._step*this._normalizeMouseWheel(n)))},{passive:!1}),this.$input.addEventListener("mousedown",n=>{e=n.clientX,t=l=n.clientY,v=!0,r=this.getValue(),s=0,window.addEventListener("mousemove",p),window.addEventListener("mouseup",f)}),this.$input.addEventListener("focus",()=>{this._inputFocused=!0}),this.$input.addEventListener("blur",()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()})}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const a=d=>{const h=this.$slider.getBoundingClientRect();let m=(F=d,A=h.left,E=h.right,_=this._min,C=this._max,(F-A)/(E-A)*(C-_)+_);var F,A,E,_,C;this._snapClampSetValue(m)},e=d=>{a(d.clientX)},t=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)};let l,r,s=!1;const v=d=>{d.preventDefault(),this._setDraggingStyle(!0),a(d.touches[0].clientX),s=!1},p=d=>{if(s){const h=d.touches[0].clientX-l,m=d.touches[0].clientY-r;Math.abs(h)>Math.abs(m)?v(d):(window.removeEventListener("touchmove",p),window.removeEventListener("touchend",f))}else d.preventDefault(),a(d.touches[0].clientX)},f=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",f)},n=this._callOnFinishChange.bind(this);let u;this.$slider.addEventListener("mousedown",d=>{this._setDraggingStyle(!0),a(d.clientX),window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)}),this.$slider.addEventListener("touchstart",d=>{d.touches.length>1||(this._hasScrollBar?(l=d.touches[0].clientX,r=d.touches[0].clientY,s=!0):v(d),window.addEventListener("touchmove",p,{passive:!1}),window.addEventListener("touchend",f))},{passive:!1}),this.$slider.addEventListener("wheel",d=>{if(Math.abs(d.deltaX)<Math.abs(d.deltaY)&&this._hasScrollBar)return;d.preventDefault();const h=this._normalizeMouseWheel(d)*this._step;this._snapClampSetValue(this.getValue()+h),this.$input.value=this.getValue(),clearTimeout(u),u=setTimeout(n,400)},{passive:!1})}_setDraggingStyle(a,e="horizontal"){this.$slider&&this.$slider.classList.toggle("active",a),document.body.classList.toggle("lil-gui-dragging",a),document.body.classList.toggle("lil-gui-"+e,a)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(a){let{deltaX:e,deltaY:t}=a;return Math.floor(a.deltaY)!==a.deltaY&&a.wheelDelta&&(e=0,t=-a.wheelDelta/120,t*=this._stepExplicit?1:10),e+-t}_arrowKeyMultiplier(a){let e=this._stepExplicit?1:10;return a.shiftKey?e*=10:a.altKey&&(e/=10),e}_snap(a){const e=Math.round(a/this._step)*this._step;return parseFloat(e.toPrecision(15))}_clamp(a){return a<this._min&&(a=this._min),a>this._max&&(a=this._max),a}_snapClampSetValue(a){this.setValue(this._clamp(this._snap(a)))}get _hasScrollBar(){const a=this.parent.root.$children;return a.scrollHeight>a.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class Ma extends x{constructor(a,e,t,l){super(a,e,t,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(l)?l:Object.values(l),this._names=Array.isArray(l)?l:Object.keys(l),this._names.forEach(r=>{const s=document.createElement("option");s.innerHTML=r,this.$select.appendChild(s)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const a=this.getValue(),e=this._values.indexOf(a);return this.$select.selectedIndex=e,this.$display.innerHTML=e===-1?a:this._names[e],this}}class Ta extends x{constructor(a,e,t){super(a,e,t,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",l=>{l.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let Y=!1;class H{constructor({parent:a,autoPlace:e=a===void 0,container:t,width:l,title:r="Controls",injectStyles:s=!0,touchStyles:v=!0}={}){if(this.parent=a,this.root=a?a.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",p=>{p.code!=="Enter"&&p.code!=="Space"||(p.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(r),v&&this.domElement.classList.add("allow-touch-styles"),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),!Y&&s&&(function(p){const f=document.createElement("style");f.innerHTML=p;const n=document.querySelector("head link[rel=stylesheet], head style");n?document.head.insertBefore(f,n):document.head.appendChild(f)}('.lil-gui{--background-color:#1f1f1f;--text-color:#ebebeb;--title-background-color:#111;--title-text-color:#ebebeb;--widget-color:#424242;--hover-color:#4f4f4f;--focus-color:#595959;--number-color:#2cc9ff;--string-color:#a2db3c;--font-size:11px;--input-font-size:11px;--font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;--font-family-mono:Menlo,Monaco,Consolas,"Droid Sans Mono",monospace;--padding:4px;--spacing:4px;--widget-height:20px;--name-width:45%;--slider-knob-width:2px;--slider-input-width:27%;--color-input-width:27%;--slider-input-min-width:45px;--color-input-min-width:45px;--folder-indent:7px;--widget-padding:0 0 0 3px;--widget-border-radius:2px;--checkbox-size:calc(var(--widget-height)*0.75);--scrollbar-width:5px;background-color:var(--background-color);color:var(--text-color);font-family:var(--font-family);font-size:var(--font-size);font-style:normal;font-weight:400;line-height:1;text-align:left;touch-action:manipulation;user-select:none;-webkit-user-select:none}.lil-gui,.lil-gui *{box-sizing:border-box;margin:0;padding:0}.lil-gui.root{display:flex;flex-direction:column;width:var(--width,245px)}.lil-gui.root>.title{background:var(--title-background-color);color:var(--title-text-color)}.lil-gui.root>.children{overflow-x:hidden;overflow-y:auto}.lil-gui.root>.children::-webkit-scrollbar{background:var(--background-color);height:var(--scrollbar-width);width:var(--scrollbar-width)}.lil-gui.root>.children::-webkit-scrollbar-thumb{background:var(--focus-color);border-radius:var(--scrollbar-width)}.lil-gui.force-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}.lil-gui.autoPlace{max-height:100%;position:fixed;right:15px;top:0;z-index:1001}.lil-gui .controller{align-items:center;display:flex;margin:var(--spacing) 0;padding:0 var(--padding)}.lil-gui .controller.disabled{opacity:.5}.lil-gui .controller.disabled,.lil-gui .controller.disabled *{pointer-events:none!important}.lil-gui .controller>.name{flex-shrink:0;line-height:var(--widget-height);min-width:var(--name-width);padding-right:var(--spacing);white-space:pre}.lil-gui .controller .widget{align-items:center;display:flex;min-height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.string input{color:var(--string-color)}.lil-gui .controller.boolean .widget{cursor:pointer}.lil-gui .controller.color .display{border-radius:var(--widget-border-radius);height:var(--widget-height);position:relative;width:100%}.lil-gui .controller.color input[type=color]{cursor:pointer;height:100%;opacity:0;width:100%}.lil-gui .controller.color input[type=text]{flex-shrink:0;font-family:var(--font-family-mono);margin-left:var(--spacing);min-width:var(--color-input-min-width);width:var(--color-input-width)}.lil-gui .controller.option select{max-width:100%;opacity:0;position:absolute;width:100%}.lil-gui .controller.option .display{background:var(--widget-color);border-radius:var(--widget-border-radius);height:var(--widget-height);line-height:var(--widget-height);max-width:100%;overflow:hidden;padding-left:.55em;padding-right:1.75em;pointer-events:none;position:relative;word-break:break-all}.lil-gui .controller.option .display.active{background:var(--focus-color)}.lil-gui .controller.option .display:after{bottom:0;content:"↕";font-family:lil-gui;padding-right:.375em;position:absolute;right:0;top:0}.lil-gui .controller.option .widget,.lil-gui .controller.option select{cursor:pointer}.lil-gui .controller.number input{color:var(--number-color)}.lil-gui .controller.number.hasSlider input{flex-shrink:0;margin-left:var(--spacing);min-width:var(--slider-input-min-width);width:var(--slider-input-width)}.lil-gui .controller.number .slider{background-color:var(--widget-color);border-radius:var(--widget-border-radius);cursor:ew-resize;height:var(--widget-height);overflow:hidden;padding-right:var(--slider-knob-width);touch-action:pan-y;width:100%}.lil-gui .controller.number .slider.active{background-color:var(--focus-color)}.lil-gui .controller.number .slider.active .fill{opacity:.95}.lil-gui .controller.number .fill{border-right:var(--slider-knob-width) solid var(--number-color);box-sizing:content-box;height:100%}.lil-gui-dragging .lil-gui{--hover-color:var(--widget-color)}.lil-gui-dragging *{cursor:ew-resize!important}.lil-gui-dragging.lil-gui-vertical *{cursor:ns-resize!important}.lil-gui .title{--title-height:calc(var(--widget-height) + var(--spacing)*1.25);-webkit-tap-highlight-color:transparent;text-decoration-skip:objects;cursor:pointer;font-weight:600;height:var(--title-height);line-height:calc(var(--title-height) - 4px);outline:none;padding:0 var(--padding)}.lil-gui .title:before{content:"▾";display:inline-block;font-family:lil-gui;padding-right:2px}.lil-gui .title:active{background:var(--title-background-color);opacity:.75}.lil-gui.root>.title:focus{text-decoration:none!important}.lil-gui.closed>.title:before{content:"▸"}.lil-gui.closed>.children{opacity:0;transform:translateY(-7px)}.lil-gui.closed:not(.transition)>.children{display:none}.lil-gui.transition>.children{overflow:hidden;pointer-events:none;transition-duration:.3s;transition-property:height,opacity,transform;transition-timing-function:cubic-bezier(.2,.6,.35,1)}.lil-gui .children:empty:before{content:"Empty";display:block;font-style:italic;height:var(--widget-height);line-height:var(--widget-height);margin:var(--spacing) 0;opacity:.5;padding:0 var(--padding)}.lil-gui.root>.children>.lil-gui>.title{border-width:0;border-bottom:1px solid var(--widget-color);border-left:0 solid var(--widget-color);border-right:0 solid var(--widget-color);border-top:1px solid var(--widget-color);transition:border-color .3s}.lil-gui.root>.children>.lil-gui.closed>.title{border-bottom-color:transparent}.lil-gui+.controller{border-top:1px solid var(--widget-color);margin-top:0;padding-top:var(--spacing)}.lil-gui .lil-gui .lil-gui>.title{border:none}.lil-gui .lil-gui .lil-gui>.children{border:none;border-left:2px solid var(--widget-color);margin-left:var(--folder-indent)}.lil-gui .lil-gui .controller{border:none}.lil-gui input{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:0;border-radius:var(--widget-border-radius);color:var(--text-color);font-family:var(--font-family);font-size:var(--input-font-size);height:var(--widget-height);outline:none;width:100%}.lil-gui input:disabled{opacity:1}.lil-gui input[type=number],.lil-gui input[type=text]{padding:var(--widget-padding)}.lil-gui input[type=number]:focus,.lil-gui input[type=text]:focus{background:var(--focus-color)}.lil-gui input::-webkit-inner-spin-button,.lil-gui input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.lil-gui input[type=number]{-moz-appearance:textfield}.lil-gui input[type=checkbox]{appearance:none;-webkit-appearance:none;border-radius:var(--widget-border-radius);cursor:pointer;height:var(--checkbox-size);text-align:center;width:var(--checkbox-size)}.lil-gui input[type=checkbox]:checked:before{content:"✓";font-family:lil-gui;font-size:var(--checkbox-size);line-height:var(--checkbox-size)}.lil-gui button{-webkit-tap-highlight-color:transparent;background:var(--widget-color);border:1px solid var(--widget-color);border-radius:var(--widget-border-radius);color:var(--text-color);cursor:pointer;font-family:var(--font-family);font-size:var(--font-size);height:var(--widget-height);line-height:calc(var(--widget-height) - 4px);outline:none;text-align:center;text-transform:none;width:100%}.lil-gui button:active{background:var(--focus-color)}@font-face{font-family:lil-gui;src:url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff")}@media (pointer:coarse){.lil-gui.allow-touch-styles{--widget-height:28px;--padding:6px;--spacing:6px;--font-size:13px;--input-font-size:16px;--folder-indent:10px;--scrollbar-width:7px;--slider-input-min-width:50px;--color-input-min-width:65px}}@media (hover:hover){.lil-gui .controller.color .display:hover:before{border:1px solid #fff9;border-radius:var(--widget-border-radius);bottom:0;content:" ";display:block;left:0;position:absolute;right:0;top:0}.lil-gui .controller.option .display.focus{background:var(--focus-color)}.lil-gui .controller.option .widget:hover .display{background:var(--hover-color)}.lil-gui .controller.number .slider:hover{background-color:var(--hover-color)}body:not(.lil-gui-dragging) .lil-gui .title:hover{background:var(--title-background-color);opacity:.85}.lil-gui .title:focus{text-decoration:underline var(--focus-color)}.lil-gui input:hover{background:var(--hover-color)}.lil-gui input:active{background:var(--focus-color)}.lil-gui input[type=checkbox]:focus{box-shadow:inset 0 0 0 1px var(--focus-color)}.lil-gui button:hover{background:var(--hover-color);border-color:var(--hover-color)}.lil-gui button:focus{border-color:var(--focus-color)}}'),Y=!0),t?t.appendChild(this.domElement):e&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),l&&this.domElement.style.setProperty("--width",l+"px"),this.domElement.addEventListener("keydown",p=>p.stopPropagation()),this.domElement.addEventListener("keyup",p=>p.stopPropagation())}add(a,e,t,l,r){if(Object(t)===t)return new Ma(this,a,e,t);const s=a[e];switch(typeof s){case"number":return new ja(this,a,e,t,l,r);case"boolean":return new ka(this,a,e);case"string":return new Ta(this,a,e);case"function":return new O(this,a,e)}console.error(`gui.add failed
	property:`,e,`
	object:`,a,`
	value:`,s)}addColor(a,e,t=1){return new La(this,a,e,t)}addFolder(a){return new H({parent:this,title:a})}load(a,e=!0){return a.controllers&&this.controllers.forEach(t=>{t instanceof O||t._name in a.controllers&&t.load(a.controllers[t._name])}),e&&a.folders&&this.folders.forEach(t=>{t._title in a.folders&&t.load(a.folders[t._title])}),this}save(a=!0){const e={controllers:{},folders:{}};return this.controllers.forEach(t=>{if(!(t instanceof O)){if(t._name in e.controllers)throw new Error(`Cannot save GUI with duplicate property "${t._name}"`);e.controllers[t._name]=t.save()}}),a&&this.folders.forEach(t=>{if(t._title in e.folders)throw new Error(`Cannot save GUI with duplicate folder "${t._title}"`);e.folders[t._title]=t.save()}),e}open(a=!0){return this._closed=!a,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(a=!0){return this._hidden=!a,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(a=!0){return this._closed=!a,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const e=this.$children.clientHeight;this.$children.style.height=e+"px",this.domElement.classList.add("transition");const t=r=>{r.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",t))};this.$children.addEventListener("transitionend",t);const l=a?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!a),requestAnimationFrame(()=>{this.$children.style.height=l+"px"})}),this}title(a){return this._title=a,this.$title.innerHTML=a,this}reset(a=!0){return(a?this.controllersRecursive():this.controllers).forEach(e=>e.reset()),this}onChange(a){return this._onChange=a,this}_callOnChange(a){this.parent&&this.parent._callOnChange(a),this._onChange!==void 0&&this._onChange.call(this,{object:a.object,property:a.property,value:a.getValue(),controller:a})}onFinishChange(a){return this._onFinishChange=a,this}_callOnFinishChange(a){this.parent&&this.parent._callOnFinishChange(a),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:a.object,property:a.property,value:a.getValue(),controller:a})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(a=>a.destroy())}controllersRecursive(){let a=Array.from(this.controllers);return this.folders.forEach(e=>{a=a.concat(e.controllersRecursive())}),a}foldersRecursive(){let a=Array.from(this.folders);return this.folders.forEach(e=>{a=a.concat(e.foldersRecursive())}),a}}const Ha={__name:"threejs-bone-animation.html",setup(o,{expose:a}){a();let e;const t=G(),l=()=>{let s,v,p,f,n,u,d;const h=[];let m,F,A,E,_,C,S,b,B=!1,V=0;N();function N(){p=new ha(45,2,1,1e3),p.position.set(1,2,-3),p.lookAt(0,1,0),d=new Ca,s=new va,s.background=new fa(10526880),s.fog=new ua(10526880,10,50);const i=new ma(16777215,4473924);i.position.set(0,20,0),s.add(i);const c=new ga(16777215);c.position.set(-3,10,-10),c.castShadow=!0,c.shadow.camera.top=2,c.shadow.camera.bottom=-2,c.shadow.camera.left=-2,c.shadow.camera.right=2,c.shadow.camera.near=.1,c.shadow.camera.far=40,s.add(c);const g=new Fa(new ya(100,100),new Aa({color:10066329,depthWrite:!1}));g.rotation.x=-Math.PI/2,g.receiveShadow=!0,s.add(g),new J().load("./assets/models/Soldier.glb",function(y){f=y.scene,s.add(f),f.traverse(function(D){D.isMesh&&(D.castShadow=!0)}),n=new wa(f),n.visible=!1,s.add(n),q();const k=y.animations;u=new xa(f),m=u.clipAction(k[0]),F=u.clipAction(k[3]),A=u.clipAction(k[1]),S=[m,F,A],P(),W()}),v=new _a({antialias:!0}),v.setPixelRatio(window.devicePixelRatio),v.setSize(t.value.offsetWidth,t.value.offsetWidth/2),v.outputEncoding=void 0,v.shadowMap.enabled=!0,t.value.appendChild(v.domElement),window.addEventListener("resize",la)}function q(){const i=new H({width:310});t.value.appendChild(i.domElement),i.domElement.style.position="absolute",i.domElement.style.right=0,i.domElement.style.top=0,i.domElement.style.bottom=0;const c=i.addFolder("Visibility"),g=i.addFolder("Activation/Deactivation"),w=i.addFolder("Pausing/Stepping"),y=i.addFolder("Crossfading"),k=i.addFolder("Blend Weights"),D=i.addFolder("General Speed");b={"show model":!0,"show skeleton":!1,"deactivate all":Z,"activate all":P,"pause/continue":Q,"make single step":ea,"modify step size":.05,"from walk to idle":function(){T(F,m,1)},"from idle to walk":function(){T(m,F,.5)},"from walk to run":function(){T(F,A,2.5)},"from run to walk":function(){T(A,F,5)},"use default duration":!0,"set custom duration":3.5,"modify idle weight":0,"modify walk weight":1,"modify run weight":0,"modify time scale":1},c.add(b,"show model").onChange(X),c.add(b,"show skeleton").onChange(K),g.add(b,"deactivate all"),g.add(b,"activate all"),w.add(b,"pause/continue"),w.add(b,"make single step"),w.add(b,"modify step size",.01,.1,.001),h.push(y.add(b,"from walk to idle")),h.push(y.add(b,"from idle to walk")),h.push(y.add(b,"from walk to run")),h.push(y.add(b,"from run to walk")),y.add(b,"use default duration"),y.add(b,"set custom duration",0,10,.01),k.add(b,"modify idle weight",0,1,.01).listen().onChange(function(L){$(m,L)}),k.add(b,"modify walk weight",0,1,.01).listen().onChange(function(L){$(F,L)}),k.add(b,"modify run weight",0,1,.01).listen().onChange(function(L){$(A,L)}),D.add(b,"modify time scale",0,1.5,.01).onChange(U),c.open(),g.open(),w.open(),y.open(),k.open(),D.open()}function X(i){f.visible=i}function K(i){n.visible=i}function U(i){u.timeScale=i}function Z(){S.forEach(function(i){i.stop()})}function P(){$(m,b["modify idle weight"]),$(F,b["modify walk weight"]),$(A,b["modify run weight"]),S.forEach(function(i){i.play()})}function Q(){B?(B=!1,M()):m.paused?M():aa()}function aa(){S.forEach(function(i){i.paused=!0})}function M(){S.forEach(function(i){i.paused=!1})}function ea(){M(),B=!0,V=b["modify step size"]}function T(i,c,g){const w=ta(g);B=!1,M(),i===m?I(i,c,w):ia(i,c,w)}function ta(i){return b["use default duration"]?i:b["set custom duration"]}function ia(i,c,g){u.addEventListener("loop",w);function w(y){y.action===i&&(u.removeEventListener("loop",w),I(i,c,g))}}function I(i,c,g){$(c,1),c.time=0,i.crossFadeTo(c,g,!0)}function $(i,c){i.enabled=!0,i.setEffectiveTimeScale(1),i.setEffectiveWeight(c)}function sa(){b["modify idle weight"]=E,b["modify walk weight"]=_,b["modify run weight"]=C}function na(){E===1&&_===0&&C===0&&(h[0].disable(),h[1].enable(),h[2].disable(),h[3].disable()),E===0&&_===1&&C===0&&(h[0].enable(),h[1].disable(),h[2].enable(),h[3].disable()),E===0&&_===0&&C===1&&(h[0].disable(),h[1].disable(),h[2].disable(),h[3].enable())}function la(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),v.setSize(window.innerWidth,window.innerHeight)}function W(){requestAnimationFrame(W),E=m.getEffectiveWeight(),_=F.getEffectiveWeight(),C=A.getEffectiveWeight(),sa(),na();let i=d.getDelta();B&&(i=V,V=0),u.update(i),v.render(s,p)}};R(async()=>{e=await da(()=>import("./dat.gui.module-DNo137I2.js"),[]),l()});const r={get dat(){return e},set dat(s){e=s},blendingRef:t,initBlending:l,ref:G,onMounted:R,get THREE(){return Ea},get GLTFLoader(){return J},get GUI(){return H}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},Va={ref:"blendingRef",class:"relative"};function Oa(o,a,e,t,l,r){return pa(),ra("div",null,[a[0]||(a[0]=ba(`<h2 id="动画类型" tabindex="-1" data-v-2fbab2ea><a class="header-anchor" href="#动画类型" data-v-2fbab2ea><span data-v-2fbab2ea>动画类型</span></a></h2><table data-v-2fbab2ea><thead data-v-2fbab2ea><tr data-v-2fbab2ea><th data-v-2fbab2ea>动画类型</th><th data-v-2fbab2ea>描述</th></tr></thead><tbody data-v-2fbab2ea><tr data-v-2fbab2ea><td data-v-2fbab2ea>帧动画 (Frame Animation)</td><td data-v-2fbab2ea>将一系列图片按照顺序播放，形成动画效果，类似于传统手绘动画。</td></tr><tr data-v-2fbab2ea><td data-v-2fbab2ea>逐帧动画 (Sprite Animation)</td><td data-v-2fbab2ea>通过改变精灵纹理的位置或贴图来模拟运动，常用于游戏中的人物、道具等的动画效果。</td></tr><tr data-v-2fbab2ea><td data-v-2fbab2ea>骨骼动画 (Skeletal Animation)</td><td data-v-2fbab2ea>通过骨骼的动画变化来模拟角色的运动，将角色的形态分解成多个骨骼，并通过调整骨骼的变换来实现动画效果。</td></tr><tr data-v-2fbab2ea><td data-v-2fbab2ea>形状关键帧动画 (Morph Target Animation)</td><td data-v-2fbab2ea>通过调整网格顶点的位置、法线和颜色等属性，来模拟物体的形变和运动，比如角色的面部表情、物体的形变等。</td></tr><tr data-v-2fbab2ea><td data-v-2fbab2ea>粒子动画 (Particle Animation)</td><td data-v-2fbab2ea>通过控制一组小粒子的运动轨迹、大小、透明度等属性，来模拟各种自然现象，比如烟雾、火花、雨滴等。</td></tr><tr data-v-2fbab2ea><td data-v-2fbab2ea>基于物理引擎的动画 (Physics-based Animation)</td><td data-v-2fbab2ea>通过物理引擎模拟物体的运动、碰撞、重力、弹性等物理特性，来实现更加真实的动画效果，常用于游戏中的角色、物体等。</td></tr></tbody></table><h2 id="threejs-中的动画类" tabindex="-1" data-v-2fbab2ea><a class="header-anchor" href="#threejs-中的动画类" data-v-2fbab2ea><span data-v-2fbab2ea>ThreeJS 中的动画类</span></a></h2><ol data-v-2fbab2ea><li data-v-2fbab2ea><p data-v-2fbab2ea><code data-v-2fbab2ea>AnimationMixer</code></p><ul data-v-2fbab2ea><li data-v-2fbab2ea><p data-v-2fbab2ea>使用格式：<code data-v-2fbab2ea>const mixer = new AnimationMixer( object : Object3D )</code></p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>功能：管理和混合场景中的动画数据。</p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>参数说明：</p><ul data-v-2fbab2ea><li data-v-2fbab2ea><code data-v-2fbab2ea>object</code>：要添加动画数据的 <code data-v-2fbab2ea>Object3D</code> 对象。</li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea>示例：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="background-color:#282A36;color:#F8F8F2;" data-v-2fbab2ea><pre class="shiki dracula vp-code" data-v-2fbab2ea><code data-v-2fbab2ea><span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> mixer </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2fbab2ea> new</span><span style="color:#BD93F9;" data-v-2fbab2ea> THREE</span><span style="color:#F8F8F2;" data-v-2fbab2ea>.</span><span style="color:#50FA7B;" data-v-2fbab2ea>AnimationMixer</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(mesh);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;" data-v-2fbab2ea><div class="line-number" data-v-2fbab2ea></div></div></div></li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea><code data-v-2fbab2ea>AnimationClip</code></p><ul data-v-2fbab2ea><li data-v-2fbab2ea><p data-v-2fbab2ea>使用格式：<code data-v-2fbab2ea>AnimationClip( name : String, duration : Number, tracks : Array )</code></p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>功能：表示一个包含一组 <code data-v-2fbab2ea>AnimationTrack</code> 的动画片段。</p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>参数说明：</p><ul data-v-2fbab2ea><li data-v-2fbab2ea><code data-v-2fbab2ea>name</code>：动画片段的名称。</li><li data-v-2fbab2ea><code data-v-2fbab2ea>duration</code>：动画片段的持续时间（秒）。</li><li data-v-2fbab2ea><code data-v-2fbab2ea>tracks</code>：包含 <code data-v-2fbab2ea>AnimationTrack</code> 对象的数组。</li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea>示例：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="background-color:#282A36;color:#F8F8F2;" data-v-2fbab2ea><pre class="shiki dracula vp-code" data-v-2fbab2ea><code data-v-2fbab2ea><span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> clip </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#BD93F9;" data-v-2fbab2ea> THREE</span><span style="color:#F8F8F2;" data-v-2fbab2ea>.AnimationClip.</span><span style="color:#50FA7B;" data-v-2fbab2ea>CreateFromMorphTargetSequence</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#E9F284;" data-v-2fbab2ea>  &quot;</span><span style="color:#F1FA8C;" data-v-2fbab2ea>morph</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F8F8F2;" data-v-2fbab2ea>,</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  geometry.morphAttributes.position,</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#BD93F9;" data-v-2fbab2ea>  30</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;" data-v-2fbab2ea><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div></div></div></li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea><code data-v-2fbab2ea>AnimationAction</code></p><ul data-v-2fbab2ea><li data-v-2fbab2ea><p data-v-2fbab2ea>使用格式：<code data-v-2fbab2ea>AnimationAction( mixer : AnimationMixer, clip : AnimationClip, localRoot : Object3D )</code></p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>功能：表示一个 <code data-v-2fbab2ea>AnimationClip</code> 在 <code data-v-2fbab2ea>AnimationMixer</code> 中的播放实例。</p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>参数说明：</p><ul data-v-2fbab2ea><li data-v-2fbab2ea><code data-v-2fbab2ea>mixer</code>：<code data-v-2fbab2ea>AnimationMixer</code> 对象。</li><li data-v-2fbab2ea><code data-v-2fbab2ea>clip</code>：<code data-v-2fbab2ea>AnimationClip</code> 对象。</li><li data-v-2fbab2ea><code data-v-2fbab2ea>localRoot</code>：本地根对象，动画中的对象将相对于此对象移动。</li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea>示例：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="background-color:#282A36;color:#F8F8F2;" data-v-2fbab2ea><pre class="shiki dracula vp-code" data-v-2fbab2ea><code data-v-2fbab2ea><span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> action </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> mixer.</span><span style="color:#50FA7B;" data-v-2fbab2ea>clipAction</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(clip);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;" data-v-2fbab2ea><div class="line-number" data-v-2fbab2ea></div></div></div></li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea><code data-v-2fbab2ea>AnimationObjectGroup</code></p><ul data-v-2fbab2ea><li data-v-2fbab2ea><p data-v-2fbab2ea>使用格式：<code data-v-2fbab2ea>AnimationObjectGroup( ...objects : Object3D[] )</code></p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>功能：管理多个对象的动画。</p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>参数说明：</p><ul data-v-2fbab2ea><li data-v-2fbab2ea><code data-v-2fbab2ea>objects</code>：要添加到 <code data-v-2fbab2ea>AnimationObjectGroup</code> 的 <code data-v-2fbab2ea>Object3D</code> 对象。</li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea>示例：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="background-color:#282A36;color:#F8F8F2;" data-v-2fbab2ea><pre class="shiki dracula vp-code" data-v-2fbab2ea><code data-v-2fbab2ea><span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> group </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2fbab2ea> new</span><span style="color:#BD93F9;" data-v-2fbab2ea> THREE</span><span style="color:#F8F8F2;" data-v-2fbab2ea>.</span><span style="color:#50FA7B;" data-v-2fbab2ea>AnimationObjectGroup</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(mesh1, mesh2);</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> clip </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#BD93F9;" data-v-2fbab2ea> THREE</span><span style="color:#F8F8F2;" data-v-2fbab2ea>.AnimationClip.</span><span style="color:#50FA7B;" data-v-2fbab2ea>CreateFromAction</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(animationAction);</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>clip.tracks.</span><span style="color:#50FA7B;" data-v-2fbab2ea>shift</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(); </span><span style="color:#6272A4;" data-v-2fbab2ea>// 移除第一条跟踪轨迹</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>group.</span><span style="color:#50FA7B;" data-v-2fbab2ea>clipAction</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(clip).</span><span style="color:#50FA7B;" data-v-2fbab2ea>play</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(); </span><span style="color:#6272A4;" data-v-2fbab2ea>// 播放动画</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;" data-v-2fbab2ea><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div></div></div></li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea><code data-v-2fbab2ea>KeyframeTrack</code></p><ul data-v-2fbab2ea><li data-v-2fbab2ea><p data-v-2fbab2ea>使用格式：<code data-v-2fbab2ea>KeyframeTrack( name : String, times : Array, values : Array, interpolation : InterpolationModes )</code></p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>功能：表示动画的关键帧序列。</p></li><li data-v-2fbab2ea><p data-v-2fbab2ea>参数说明：</p><ul data-v-2fbab2ea><li data-v-2fbab2ea><code data-v-2fbab2ea>name</code>：关键帧序列的名称。</li><li data-v-2fbab2ea><code data-v-2fbab2ea>times</code>：关键帧时间的数组。</li><li data-v-2fbab2ea><code data-v-2fbab2ea>values</code>：与关键帧相关联的值的数组。</li><li data-v-2fbab2ea><code data-v-2fbab2ea>interpolation</code>：插值模式，默认为 <code data-v-2fbab2ea>THREE.InterpolateLinear</code>。</li></ul></li><li data-v-2fbab2ea><p data-v-2fbab2ea>示例：</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="background-color:#282A36;color:#F8F8F2;" data-v-2fbab2ea><pre class="shiki dracula vp-code" data-v-2fbab2ea><code data-v-2fbab2ea><span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> times </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> [</span><span style="color:#BD93F9;" data-v-2fbab2ea>0</span><span style="color:#F8F8F2;" data-v-2fbab2ea>, </span><span style="color:#BD93F9;" data-v-2fbab2ea>1</span><span style="color:#F8F8F2;" data-v-2fbab2ea>, </span><span style="color:#BD93F9;" data-v-2fbab2ea>2</span><span style="color:#F8F8F2;" data-v-2fbab2ea>];</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> values </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> [</span><span style="color:#BD93F9;" data-v-2fbab2ea>0</span><span style="color:#F8F8F2;" data-v-2fbab2ea>, </span><span style="color:#BD93F9;" data-v-2fbab2ea>1</span><span style="color:#F8F8F2;" data-v-2fbab2ea>, </span><span style="color:#BD93F9;" data-v-2fbab2ea>0</span><span style="color:#F8F8F2;" data-v-2fbab2ea>];</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> track </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2fbab2ea> new</span><span style="color:#BD93F9;" data-v-2fbab2ea> THREE</span><span style="color:#F8F8F2;" data-v-2fbab2ea>.</span><span style="color:#50FA7B;" data-v-2fbab2ea>NumberKeyframeTrack</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F1FA8C;" data-v-2fbab2ea>.opacity</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F8F8F2;" data-v-2fbab2ea>, times, values);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;" data-v-2fbab2ea><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div></div></div></li></ul></li></ol><p data-v-2fbab2ea>动画的运行是通过 AnimationMixer 类实现的。当一个模型需要播放动画时，我们需要将模型的动画剪辑（AnimationClip）添加到 AnimationMixer 实例中，然后通过 mixer.clipAction() 方法获取一个动画动作（AnimationAction）实例，调用 play() 方法播放动画，AnimationAction 的更新又通过 AnimationMixer.update() 方法实现。</p><ul data-v-2fbab2ea><li data-v-2fbab2ea>创建动画剪辑（AnimationClip），并将其包含的动画轨迹（AnimationTrack）绑定到场景中的对象上。</li><li data-v-2fbab2ea>创建动画混合器（AnimationMixer），并将动画剪辑添加到混合器中。</li><li data-v-2fbab2ea>调用混合器的 update 方法，更新当前时间下各个对象的状态。</li><li data-v-2fbab2ea>将更新后的状态应用到场景中的对象上，使动画动起来。</li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="background-color:#282A36;color:#F8F8F2;" data-v-2fbab2ea><pre class="shiki dracula vp-code" data-v-2fbab2ea><code data-v-2fbab2ea><span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>// 使用GLTFLoader加载模型</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>loader.</span><span style="color:#50FA7B;" data-v-2fbab2ea>load</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F1FA8C;" data-v-2fbab2ea>models/gltf/Soldier.glb</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F8F8F2;" data-v-2fbab2ea>, </span><span style="color:#FF79C6;" data-v-2fbab2ea>function</span><span style="color:#F8F8F2;" data-v-2fbab2ea> (</span><span style="color:#FFB86C;font-style:italic;" data-v-2fbab2ea>gltf</span><span style="color:#F8F8F2;" data-v-2fbab2ea>) {</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 获取模型</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  model </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> gltf.scene;</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 将模型添加到场景中</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  scene.</span><span style="color:#50FA7B;" data-v-2fbab2ea>add</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(model);</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 遍历模型内的所有对象</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  model.</span><span style="color:#50FA7B;" data-v-2fbab2ea>traverse</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(</span><span style="color:#FF79C6;" data-v-2fbab2ea>function</span><span style="color:#F8F8F2;" data-v-2fbab2ea> (</span><span style="color:#FFB86C;font-style:italic;" data-v-2fbab2ea>object</span><span style="color:#F8F8F2;" data-v-2fbab2ea>) {</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>    // 如果对象是网格，则开启阴影投射</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>    if</span><span style="color:#F8F8F2;" data-v-2fbab2ea> (object.isMesh) object.castShadow </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#BD93F9;" data-v-2fbab2ea> true</span><span style="color:#F8F8F2;" data-v-2fbab2ea>;</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  });</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 创建骨骼辅助对象，用于调试和查看骨骼结构</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  skeleton </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2fbab2ea> new</span><span style="color:#BD93F9;" data-v-2fbab2ea> THREE</span><span style="color:#F8F8F2;" data-v-2fbab2ea>.</span><span style="color:#50FA7B;" data-v-2fbab2ea>SkeletonHelper</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(model);</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 设置骨骼辅助对象为不可见</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  skeleton.visible </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#BD93F9;" data-v-2fbab2ea> false</span><span style="color:#F8F8F2;" data-v-2fbab2ea>;</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 将骨骼辅助对象添加到场景中</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  scene.</span><span style="color:#50FA7B;" data-v-2fbab2ea>add</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(skeleton);</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 创建面板</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#50FA7B;" data-v-2fbab2ea>  createPanel</span><span style="color:#F8F8F2;" data-v-2fbab2ea>();</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 获取模型的动画数组</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>  const</span><span style="color:#F8F8F2;" data-v-2fbab2ea> animations </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> gltf.animations;</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 创建动画混合器</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  mixer </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2fbab2ea> new</span><span style="color:#BD93F9;" data-v-2fbab2ea> THREE</span><span style="color:#F8F8F2;" data-v-2fbab2ea>.</span><span style="color:#50FA7B;" data-v-2fbab2ea>AnimationMixer</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(model);</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 获取模型的不同动作，并将其加入动画混合器中</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  idleAction </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> mixer.</span><span style="color:#50FA7B;" data-v-2fbab2ea>clipAction</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(animations[</span><span style="color:#BD93F9;" data-v-2fbab2ea>0</span><span style="color:#F8F8F2;" data-v-2fbab2ea>]);</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  walkAction </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> mixer.</span><span style="color:#50FA7B;" data-v-2fbab2ea>clipAction</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(animations[</span><span style="color:#BD93F9;" data-v-2fbab2ea>3</span><span style="color:#F8F8F2;" data-v-2fbab2ea>]);</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  runAction </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> mixer.</span><span style="color:#50FA7B;" data-v-2fbab2ea>clipAction</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(animations[</span><span style="color:#BD93F9;" data-v-2fbab2ea>1</span><span style="color:#F8F8F2;" data-v-2fbab2ea>]);</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 将不同动作保存在数组中</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  actions </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> [idleAction, walkAction, runAction];</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 激活所有动作</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#50FA7B;" data-v-2fbab2ea>  activateAllActions</span><span style="color:#F8F8F2;" data-v-2fbab2ea>();</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 调用动画循环函数</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#50FA7B;" data-v-2fbab2ea>  animate</span><span style="color:#F8F8F2;" data-v-2fbab2ea>();</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>});</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>function</span><span style="color:#50FA7B;" data-v-2fbab2ea> activateAllActions</span><span style="color:#F8F8F2;" data-v-2fbab2ea>() {</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#50FA7B;" data-v-2fbab2ea>  setWeight</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(idleAction, settings[</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F1FA8C;" data-v-2fbab2ea>modify idle weight</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F8F8F2;" data-v-2fbab2ea>]);</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#50FA7B;" data-v-2fbab2ea>  setWeight</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(walkAction, settings[</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F1FA8C;" data-v-2fbab2ea>modify walk weight</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F8F8F2;" data-v-2fbab2ea>]);</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#50FA7B;" data-v-2fbab2ea>  setWeight</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(runAction, settings[</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F1FA8C;" data-v-2fbab2ea>modify run weight</span><span style="color:#E9F284;" data-v-2fbab2ea>&quot;</span><span style="color:#F8F8F2;" data-v-2fbab2ea>]);</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  actions.</span><span style="color:#50FA7B;" data-v-2fbab2ea>forEach</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(</span><span style="color:#FF79C6;" data-v-2fbab2ea>function</span><span style="color:#F8F8F2;" data-v-2fbab2ea> (</span><span style="color:#FFB86C;font-style:italic;" data-v-2fbab2ea>action</span><span style="color:#F8F8F2;" data-v-2fbab2ea>) {</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>    action.</span><span style="color:#50FA7B;" data-v-2fbab2ea>play</span><span style="color:#F8F8F2;" data-v-2fbab2ea>();</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  });</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>}</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>function</span><span style="color:#50FA7B;" data-v-2fbab2ea> setWeight</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(</span><span style="color:#FFB86C;font-style:italic;" data-v-2fbab2ea>action</span><span style="color:#F8F8F2;" data-v-2fbab2ea>, </span><span style="color:#FFB86C;font-style:italic;" data-v-2fbab2ea>weight</span><span style="color:#F8F8F2;" data-v-2fbab2ea>) {</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#6272A4;" data-v-2fbab2ea>  // 设置动画的权重值</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  action.enabled </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#BD93F9;" data-v-2fbab2ea> true</span><span style="color:#F8F8F2;" data-v-2fbab2ea>; </span><span style="color:#6272A4;" data-v-2fbab2ea>// 启用当前动画</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  action.</span><span style="color:#50FA7B;" data-v-2fbab2ea>setEffectiveTimeScale</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(</span><span style="color:#BD93F9;" data-v-2fbab2ea>1</span><span style="color:#F8F8F2;" data-v-2fbab2ea>); </span><span style="color:#6272A4;" data-v-2fbab2ea>// 设置动画播放速度为正常速度</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>  action.</span><span style="color:#50FA7B;" data-v-2fbab2ea>setEffectiveWeight</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(weight); </span><span style="color:#6272A4;" data-v-2fbab2ea>// 设置动画权重值</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>}</span></span>
<span class="line" data-v-2fbab2ea></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea>function</span><span style="color:#50FA7B;" data-v-2fbab2ea> animation</span><span style="color:#F8F8F2;" data-v-2fbab2ea>(){</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#FF79C6;" data-v-2fbab2ea> let</span><span style="color:#F8F8F2;" data-v-2fbab2ea> mixerUpdateDelta </span><span style="color:#FF79C6;" data-v-2fbab2ea>=</span><span style="color:#F8F8F2;" data-v-2fbab2ea> clock.</span><span style="color:#50FA7B;" data-v-2fbab2ea>getDelta</span><span style="color:#F8F8F2;" data-v-2fbab2ea>();</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea> mixer.</span><span style="color:#50FA7B;" data-v-2fbab2ea>update</span><span style="color:#F8F8F2;" data-v-2fbab2ea>( mixerUpdateDelta );</span></span>
<span class="line" data-v-2fbab2ea><span style="color:#F8F8F2;" data-v-2fbab2ea>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;" data-v-2fbab2ea><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div><div class="line-number" data-v-2fbab2ea></div></div></div>`,7)),ca("div",Va,null,512)])}const Wa=oa(Ha,[["render",Oa],["__scopeId","data-v-2fbab2ea"],["__file","threejs-bone-animation.html.vue"]]),Ga=JSON.parse('{"path":"/threejs/threejs-bone-animation.html","title":"ThreeJS中的动画","lang":"en-US","frontmatter":{"title":"ThreeJS中的动画","category":["ThreeJS"],"date":"2022-03-22T00:00:00.000Z","description":"动画类型 ThreeJS 中的动画类 AnimationMixer 使用格式：const mixer = new AnimationMixer( object : Object3D ) 功能：管理和混合场景中的动画数据。 参数说明： object：要添加动画数据的 Object3D 对象。 示例： AnimationClip 使用格式：Animatio...","head":[["meta",{"property":"og:url","content":"https://luxiag.github.io/luxiag/blog/threejs/threejs-bone-animation.html"}],["meta",{"property":"og:title","content":"ThreeJS中的动画"}],["meta",{"property":"og:description","content":"动画类型 ThreeJS 中的动画类 AnimationMixer 使用格式：const mixer = new AnimationMixer( object : Object3D ) 功能：管理和混合场景中的动画数据。 参数说明： object：要添加动画数据的 Object3D 对象。 示例： AnimationClip 使用格式：Animatio..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-02-09T14:06:21.000Z"}],["meta",{"property":"article:published_time","content":"2022-03-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-09T14:06:21.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ThreeJS中的动画\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-03-22T00:00:00.000Z\\",\\"dateModified\\":\\"2025-02-09T14:06:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"luxiag\\",\\"url\\":\\"https://luxiag.github.io/luxiag\\"}]}"]]},"headers":[{"level":2,"title":"动画类型","slug":"动画类型","link":"#动画类型","children":[]},{"level":2,"title":"ThreeJS 中的动画类","slug":"threejs-中的动画类","link":"#threejs-中的动画类","children":[]}],"git":{"createdTime":1681959670000,"updatedTime":1739109981000,"contributors":[{"name":"luxiag","email":"luxiag@qq.com","commits":6},{"name":"卢祥","email":"example@qq.com","commits":2}]},"readingTime":{"minutes":7.24,"words":2172},"filePathRelative":"threejs/threejs-bone-animation.md","localizedDate":"March 22, 2022","excerpt":"<h2>动画类型</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>动画类型</th>\\n<th>描述</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>帧动画 (Frame Animation)</td>\\n<td>将一系列图片按照顺序播放，形成动画效果，类似于传统手绘动画。</td>\\n</tr>\\n<tr>\\n<td>逐帧动画 (Sprite Animation)</td>\\n<td>通过改变精灵纹理的位置或贴图来模拟运动，常用于游戏中的人物、道具等的动画效果。</td>\\n</tr>\\n<tr>\\n<td>骨骼动画 (Skeletal Animation)</td>\\n<td>通过骨骼的动画变化来模拟角色的运动，将角色的形态分解成多个骨骼，并通过调整骨骼的变换来实现动画效果。</td>\\n</tr>\\n<tr>\\n<td>形状关键帧动画 (Morph Target Animation)</td>\\n<td>通过调整网格顶点的位置、法线和颜色等属性，来模拟物体的形变和运动，比如角色的面部表情、物体的形变等。</td>\\n</tr>\\n<tr>\\n<td>粒子动画 (Particle Animation)</td>\\n<td>通过控制一组小粒子的运动轨迹、大小、透明度等属性，来模拟各种自然现象，比如烟雾、火花、雨滴等。</td>\\n</tr>\\n<tr>\\n<td>基于物理引擎的动画 (Physics-based Animation)</td>\\n<td>通过物理引擎模拟物体的运动、碰撞、重力、弹性等物理特性，来实现更加真实的动画效果，常用于游戏中的角色、物体等。</td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}');export{Wa as comp,Ga as data};
