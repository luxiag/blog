import{_ as n,e as a,g as l,o}from"./app-BcLUFOMF.js";const p={};function e(t,s){return o(),a("div",null,s[0]||(s[0]=[l(`<p>åœ¨ .NET ä¸­ï¼ŒOptions æ˜¯ä¸€å¥— ç”¨äºç»‘å®šå’Œç®¡ç†é…ç½®çš„æ¨èåšæ³•ï¼Œæ¯”ç›´æ¥ä½¿ç”¨ IConfiguration æ›´åŠ å¼ºç±»å‹ã€å®‰å…¨ã€å¯ç»´æŠ¤ã€‚</p><ul><li><p>æŠŠé…ç½®é¡¹ç»‘å®šåˆ°å¼ºç±»å‹å¯¹è±¡ï¼ˆç±»ä¼¼ <code>Get&lt;AppSettings&gt;()</code>ï¼‰</p></li><li><p>æ”¯æŒä¾èµ–æ³¨å…¥ï¼ˆé€šè¿‡ <code>IOptions&lt;T&gt;</code>æ³¨å…¥é…ç½®ï¼‰</p></li><li><p>æ”¯æŒé…ç½®éªŒè¯ã€çƒ­æ›´æ–°ï¼ˆreload on changeï¼‰ç­‰é«˜çº§åŠŸèƒ½</p></li><li><p>è®©é…ç½®é€»è¾‘å’Œä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œæé«˜ä»£ç å¯è¯»æ€§å’Œå¯æµ‹è¯•æ€§</p></li></ul><h2 id="ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨"><span>ä½¿ç”¨</span></a></h2><p><code>appsettings.json</code></p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#8BE9FE;">  &quot;</span><span style="color:#8BE9FD;">MySettings</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#8BE9FE;">    &quot;</span><span style="color:#8BE9FD;">Title</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">Options Demo</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">    &quot;</span><span style="color:#8BE9FD;">MaxUsers</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 50</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®optionsæœåŠ¡</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> MySettings</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> string</span><span style="color:#F8F8F2;"> Title { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> int</span><span style="color:#F8F8F2;"> MaxUsers { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">builder.Services.</span><span style="color:#50FA7B;">Configure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">MySettings</span><span style="color:#F8F8F2;">&gt;(</span></span>
<span class="line"><span style="color:#F8F8F2;">    builder.Configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">MySettings</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">));</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> MyService</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    private</span><span style="color:#FF79C6;"> readonly</span><span style="color:#8BE9FD;font-style:italic;"> MySettings</span><span style="color:#F8F8F2;"> _settings;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#50FA7B;"> MyService</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IOptions</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">MySettings</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FFB86C;font-style:italic;">options</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        _settings </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> options.Value;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> void</span><span style="color:#50FA7B;"> PrintSettings</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        Console.</span><span style="color:#50FA7B;">WriteLine</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">$&quot;</span><span style="color:#F1FA8C;">Title: </span><span style="color:#FF79C6;">{</span><span style="color:#F8F8F2;">_settings</span><span style="color:#F1FA8C;">.</span><span style="color:#F8F8F2;">Title</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">, MaxUsers: </span><span style="color:#FF79C6;">{</span><span style="color:#F8F8F2;">_settings</span><span style="color:#F1FA8C;">.</span><span style="color:#F8F8F2;">MaxUsers</span><span style="color:#FF79C6;">}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="optionsè¯»å–" tabindex="-1"><a class="header-anchor" href="#optionsè¯»å–"><span>Optionsè¯»å–</span></a></h2><table><thead><tr><th>æ¥å£å</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>æ˜¯å¦æ”¯æŒçƒ­æ›´æ–°</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>IOptions&lt;T&gt;</code></td><td>å•ä¾‹ï¼ˆSingletonï¼‰</td><td>âŒ å¦</td><td>é»˜è®¤é€‰é¡¹ï¼Œé€‚åˆé…ç½®ä¸å˜çš„åœºæ™¯</td></tr><tr><td><code>IOptionsSnapshot&lt;T&gt;</code></td><td>æ¯è¯·æ±‚ä¸€æ¬¡ï¼ˆScopedï¼‰</td><td>âœ… æ˜¯</td><td>Web åº”ç”¨ä¸­ï¼Œæ¯æ¬¡è¯·æ±‚è·å–æ–°é…ç½®</td></tr><tr><td><code>IOptionsMonitor&lt;T&gt;</code></td><td>å•ä¾‹ï¼ˆSingletonï¼‰</td><td>âœ… æ˜¯</td><td>é•¿æ—¶é—´è¿è¡Œçš„æœåŠ¡ï¼ŒåŠ¨æ€ç›‘å¬é…ç½®å˜æ›´</td></tr><tr><td><code>IOptionsFactory&lt;T&gt;</code></td><td>ç”¨äºå†…éƒ¨åˆ›å»ºé…ç½®å®ä¾‹</td><td>âœ… å–å†³äºé…ç½®æº</td><td>è‡ªå®šä¹‰é…ç½®æ„é€ é€»è¾‘æ—¶ä½¿ç”¨ï¼Œä¸å¸¸ç›´æ¥æ³¨å…¥</td></tr></tbody></table><ul><li><p>âœ… é…ç½®ä¸éœ€è¦å˜æ›´ï¼šç”¨ <code>IOptions&lt;T&gt;</code></p></li><li><p>ğŸ” é…ç½®éœ€è¦æ¯è¯·æ±‚æ›´æ–°ï¼šç”¨ <code>IOptionsSnapshot&lt;T&gt;</code></p></li><li><p>ğŸ”„ é…ç½®éœ€è¦åŠ¨æ€çƒ­æ›´æ–°æˆ–ç›‘å¬å˜åŒ–ï¼šç”¨ <code>IOptionsMonitor&lt;T&gt;</code></p></li><li><p>ğŸ—ï¸ éœ€è¦æ§åˆ¶é…ç½®åˆ›å»ºé€»è¾‘ï¼ˆå¾ˆå°‘ç”¨ï¼‰ï¼šç”¨ <code>IOptionsFactory&lt;T&gt;</code></p></li></ul><h3 id="ioptions" tabindex="-1"><a class="header-anchor" href="#ioptions"><span>IOptions</span></a></h3><ul><li>è¯¥æ¥å£å¯¹è±¡å®ä¾‹ç”Ÿå‘½å‘¨æœŸä¸º Singletonï¼Œå› æ­¤èƒ½å¤Ÿå°†è¯¥æ¥å£æ³¨å…¥åˆ°ä»»ä½•ç”Ÿå‘½å‘¨æœŸçš„æœåŠ¡ä¸­</li><li>å½“è¯¥æ¥å£è¢«å®ä¾‹åŒ–åï¼Œå…¶ä¸­çš„é€‰é¡¹å€¼å°†æ°¸è¿œä¿æŒä¸å˜ï¼Œå³ä½¿åç»­ä¿®æ”¹äº†ä¸é€‰é¡¹è¿›è¡Œç»‘å®šçš„é…ç½®ï¼Œä¹Ÿæ°¸è¿œè¯»å–ä¸åˆ°ä¿®æ”¹åçš„é…ç½®å€¼</li><li>ä¸æ”¯æŒå‘½åé€‰é¡¹ï¼ˆNamed Options</li></ul><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> ValuesController</span><span style="color:#F8F8F2;"> : </span><span style="color:#8BE9FD;font-style:italic;">ControllerBase</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    private</span><span style="color:#FF79C6;"> readonly</span><span style="color:#8BE9FD;font-style:italic;"> BookOptions</span><span style="color:#F8F8F2;"> _bookOptions;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#50FA7B;"> ValuesController</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IOptions</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FFB86C;font-style:italic;">bookOptions</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#6272A4;">        // bookOptions.Value å§‹ç»ˆæ˜¯ç¨‹åºå¯åŠ¨æ—¶åŠ è½½çš„é…ç½®ï¼Œæ°¸è¿œä¸ä¼šæ”¹å˜</span></span>
<span class="line"><span style="color:#F8F8F2;">        _bookOptions </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> bookOptions.Value;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ioptionssnapshot" tabindex="-1"><a class="header-anchor" href="#ioptionssnapshot"><span>IOptionsSnapshot</span></a></h3><p>è¯¥æ¥å£è¢«æ³¨å†Œä¸º Scopedï¼Œå› æ­¤è¯¥æ¥å£æ— æ³•æ³¨å…¥åˆ° Singleton çš„æœåŠ¡ä¸­ï¼Œåªèƒ½æ³¨å…¥åˆ° Transient å’Œ Scoped çš„æœåŠ¡ä¸­ã€‚ åœ¨ä½œç”¨åŸŸä¸­ï¼Œåˆ›å»º<code>IOptionsSnapshot&lt;TOptions&gt;</code>å¯¹è±¡å®ä¾‹æ—¶ï¼Œä¼šä»é…ç½®ä¸­è¯»å–æœ€æ–°é€‰é¡¹å€¼ä½œä¸ºå¿«ç…§ï¼Œå¹¶åœ¨ä½œç”¨åŸŸä¸­å§‹ç»ˆä½¿ç”¨è¯¥å¿«ç…§ã€‚ æ”¯æŒå‘½åé€‰é¡¹</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> ValuesController</span><span style="color:#F8F8F2;"> : </span><span style="color:#8BE9FD;font-style:italic;">ControllerBase</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    private</span><span style="color:#FF79C6;"> readonly</span><span style="color:#8BE9FD;font-style:italic;"> BookOptions</span><span style="color:#F8F8F2;"> _bookOptions;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#50FA7B;"> ValuesController</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IOptionsSnapshot</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FFB86C;font-style:italic;">bookOptionsSnapshot</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#6272A4;">        // bookOptions.Value æ˜¯ Options å¯¹è±¡å®ä¾‹åˆ›å»ºæ—¶è¯»å–çš„é…ç½®å¿«ç…§</span></span>
<span class="line"><span style="color:#F8F8F2;">        _bookOptions </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> bookOptionsSnapshot.Value;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ioptionsmonitor" tabindex="-1"><a class="header-anchor" href="#ioptionsmonitor"><span>IOptionsMonitor</span></a></h3><ul><li>è¯¥æ¥å£é™¤äº†å¯ä»¥æŸ¥çœ‹TOptionsçš„å€¼ï¼Œè¿˜å¯ä»¥ç›‘æ§TOptionsé…ç½®çš„æ›´æ”¹ã€‚</li><li>è¯¥æ¥å£è¢«æ³¨å†Œä¸º Singletonï¼Œå› æ­¤èƒ½å¤Ÿå°†è¯¥æ¥å£æ³¨å…¥åˆ°ä»»ä½•ç”Ÿå‘½å‘¨æœŸçš„æœåŠ¡ä¸­</li><li>æ¯æ¬¡è¯»å–é€‰é¡¹å€¼æ—¶ï¼Œéƒ½æ˜¯ä»é…ç½®ä¸­è¯»å–æœ€æ–°é€‰é¡¹å€¼ï¼ˆå…·ä½“è¯»å–é€»è¾‘æŸ¥çœ‹ä¸‹æ–¹ä¸‰ç§æ¥å£å¯¹æ¯”æµ‹è¯•ï¼‰ã€‚</li><li>æ”¯æŒï¼š <ul><li>å‘½åé€‰é¡¹</li><li>é‡æ–°åŠ è½½é…ç½®ï¼ˆ<code>CurrentValue</code>ï¼‰ï¼Œå¹¶å½“é…ç½®å‘ç”Ÿæ›´æ”¹æ—¶ï¼Œè¿›è¡Œé€šçŸ¥ï¼ˆ<code>OnChange</code>ï¼‰</li><li>ç¼“å­˜ä¸ç¼“å­˜å¤±æ•ˆ (<code>IOptionsMonitorCache&lt;TOptions&gt;</code>)</li></ul></li></ul><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> ValuesController</span><span style="color:#F8F8F2;"> : </span><span style="color:#8BE9FD;font-style:italic;">ControllerBase</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    private</span><span style="color:#FF79C6;"> readonly</span><span style="color:#8BE9FD;font-style:italic;"> IOptionsMonitor</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt; _bookOptionsMonitor;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#50FA7B;"> ValuesController</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IOptionsMonitor</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FFB86C;font-style:italic;">bookOptionsMonitor</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#6272A4;">        // _bookOptionsMonitor.CurrentValue çš„å€¼å§‹ç»ˆæ˜¯æœ€æ–°é…ç½®çš„å€¼</span></span>
<span class="line"><span style="color:#F8F8F2;">        _bookOptionsMonitor </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> bookOptionsMonitor;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å‘½åé€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#å‘½åé€‰é¡¹"><span>å‘½åé€‰é¡¹</span></a></h2><p>å‘½åé€‰é¡¹å…è®¸æˆ‘ä»¬ä¸ºåŒä¸€ä¸ªé…ç½®é¡¹å®šä¹‰å¤šä¸ªä¸åŒçš„é€‰é¡¹å¯¹è±¡ï¼Œæ¯ä¸ªé€‰é¡¹å¯¹è±¡éƒ½æœ‰å”¯ä¸€çš„åç§°ï¼Œé€šè¿‡åç§°æ¥åŒºåˆ†ä¸åŒçš„é€‰é¡¹å¯¹è±¡ã€‚</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#6272A4;">// json</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#E9F284;">  &quot;</span><span style="color:#F1FA8C;">MvcOptions</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#E9F284;">    &quot;</span><span style="color:#F1FA8C;">Url</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">123</span><span style="color:#E9F284;">&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#E9F284;">  &quot;</span><span style="color:#F1FA8C;">WebOptions</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#E9F284;">    &quot;</span><span style="color:#F1FA8C;">Url</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 456</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> MvcOptions</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> string</span><span style="color:#F8F8F2;">? Url { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#6272A4;">//  é…ç½®URL</span></span>
<span class="line"><span style="color:#FF79C6;">static</span><span style="color:#FF79C6;"> void</span><span style="color:#50FA7B;"> TestNamed</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    var</span><span style="color:#F8F8F2;"> services </span><span style="color:#FF79C6;">=</span><span style="color:#FF79C6;"> new</span><span style="color:#8BE9FD;font-style:italic;"> ServiceCollection</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#FF79C6;">    var</span><span style="color:#F8F8F2;"> configuration </span><span style="color:#FF79C6;">=</span><span style="color:#50FA7B;"> GetConfiguration</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4;">    //name=Options.DefaultName</span></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">Configure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">MvcOptions</span><span style="color:#F8F8F2;">&gt;(configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">MvcOptions</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#6272A4;">    //name=&quot;o1&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">Configure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">MvcOptions</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">o1</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">MvcOptions</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#6272A4;">    //name=&quot;o2&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">Configure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">MvcOptions</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">o2</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">, configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">WebOptions</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    var</span><span style="color:#F8F8F2;"> container </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> services.</span><span style="color:#50FA7B;">BuildServiceProvider</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#FF79C6;">    var</span><span style="color:#F8F8F2;"> o1 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> container.</span><span style="color:#50FA7B;">GetRequiredService</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">IOptionsSnapshot</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">MvcOptions</span><span style="color:#F8F8F2;">&gt;&gt;();</span></span>
<span class="line"><span style="color:#FF79C6;">    var</span><span style="color:#F8F8F2;"> o2 </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> container.</span><span style="color:#50FA7B;">GetRequiredService</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">IOptionsMonitor</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">MvcOptions</span><span style="color:#F8F8F2;">&gt;&gt;();</span></span>
<span class="line"><span style="color:#6272A4;">    //name=&quot;o1&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    Console.</span><span style="color:#50FA7B;">WriteLine</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IOptionsSnapshot:Named:</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> +</span><span style="color:#F8F8F2;"> o1.</span><span style="color:#50FA7B;">Get</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">o1</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">).Url);</span></span>
<span class="line"><span style="color:#6272A4;">    //name=Options.DefaultName</span></span>
<span class="line"><span style="color:#F8F8F2;">    Console.</span><span style="color:#50FA7B;">WriteLine</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IOptionsSnapshot:Value:</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> +</span><span style="color:#F8F8F2;"> o1.Value.Url);</span></span>
<span class="line"><span style="color:#6272A4;">    //name=&quot;o2&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    Console.</span><span style="color:#50FA7B;">WriteLine</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IOptionsMonitor:Named:</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> +</span><span style="color:#F8F8F2;"> o2.</span><span style="color:#50FA7B;">Get</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">o2</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">).Url);</span></span>
<span class="line"><span style="color:#6272A4;">    //name=Options.DefaultName</span></span>
<span class="line"><span style="color:#F8F8F2;">    Console.</span><span style="color:#50FA7B;">WriteLine</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">IOptionsMonitor:Value:</span><span style="color:#E9F284;">&quot;</span><span style="color:#FF79C6;"> +</span><span style="color:#F8F8F2;"> o2.CurrentValue.Url);</span></span>
<span class="line"><span style="color:#FF79C6;">    var</span><span style="color:#F8F8F2;"> optionsFactory </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> sp.</span><span style="color:#50FA7B;">GetRequiredService</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">IOptionsFactory</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">MvcOptions</span><span style="color:#F8F8F2;">&gt;&gt;();</span></span>
<span class="line"><span style="color:#FF79C6;">    var</span><span style="color:#F8F8F2;"> options </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> optionsFactory.</span><span style="color:#50FA7B;">Create</span><span style="color:#F8F8F2;">(Options.DefaultName);</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤šä¸ªé…ç½®èŠ‚ç‚¹ç»‘å®šåŒä¸€å±æ€§</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#8BE9FE;">  &quot;</span><span style="color:#8BE9FD;">DateTime</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#8BE9FE;">    &quot;</span><span style="color:#8BE9FD;">Beijing</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Year</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 2021</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Month</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Day</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Hour</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">12</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Minute</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Second</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">0</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#8BE9FE;">    &quot;</span><span style="color:#8BE9FD;">Tokyo</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Year</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 2021</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Month</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Day</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Hour</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">13</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Minute</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">0</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#8BE9FE;">      &quot;</span><span style="color:#8BE9FD;">Second</span><span style="color:#8BE9FE;">&quot;</span><span style="color:#FF79C6;">:</span><span style="color:#BD93F9;">0</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> DateTimeOptions</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> const</span><span style="color:#FF79C6;"> string</span><span style="color:#F8F8F2;"> Beijing </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">Beijing</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> const</span><span style="color:#FF79C6;"> string</span><span style="color:#F8F8F2;"> Tokyo </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">Tokyo</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> int</span><span style="color:#F8F8F2;"> Year { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> int</span><span style="color:#F8F8F2;"> Month { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> int</span><span style="color:#F8F8F2;"> Day { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> int</span><span style="color:#F8F8F2;"> Hour { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> int</span><span style="color:#F8F8F2;"> Minute { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> int</span><span style="color:#F8F8F2;"> Second { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> Startup</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#50FA7B;"> Startup</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IConfiguration</span><span style="color:#FFB86C;font-style:italic;"> configuration</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        Configuration </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> configuration;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#8BE9FD;font-style:italic;"> IConfiguration</span><span style="color:#F8F8F2;"> Configuration { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> void</span><span style="color:#50FA7B;"> ConfigureServices</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IServiceCollection</span><span style="color:#FFB86C;font-style:italic;"> services</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        services.</span><span style="color:#50FA7B;">Configure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt;(Configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(BookOptions.Book));</span></span>
<span class="line"><span style="color:#F8F8F2;">        services.</span><span style="color:#50FA7B;">Configure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">DateTimeOptions</span><span style="color:#F8F8F2;">&gt;(DateTimeOptions.Beijing, Configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">$&quot;</span><span style="color:#F1FA8C;">DateTime:</span><span style="color:#FF79C6;">{</span><span style="color:#F8F8F2;">DateTimeOptions</span><span style="color:#F1FA8C;">.</span><span style="color:#F8F8F2;">Beijing</span><span style="color:#FF79C6;">}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">        services.</span><span style="color:#50FA7B;">Configure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">DateTimeOptions</span><span style="color:#F8F8F2;">&gt;(DateTimeOptions.Tokyo, Configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">$&quot;</span><span style="color:#F1FA8C;">DateTime:</span><span style="color:#FF79C6;">{</span><span style="color:#F8F8F2;">DateTimeOptions</span><span style="color:#F1FA8C;">.</span><span style="color:#F8F8F2;">Tokyo</span><span style="color:#FF79C6;">}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> ValuesController</span><span style="color:#F8F8F2;"> : </span><span style="color:#8BE9FD;font-style:italic;">ControllerBase</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    private</span><span style="color:#FF79C6;"> readonly</span><span style="color:#8BE9FD;font-style:italic;"> DateTimeOptions</span><span style="color:#F8F8F2;"> _beijingDateTimeOptions;</span></span>
<span class="line"><span style="color:#FF79C6;">    private</span><span style="color:#FF79C6;"> readonly</span><span style="color:#8BE9FD;font-style:italic;"> DateTimeOptions</span><span style="color:#F8F8F2;"> _tockyoDateTimeOptions;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#50FA7B;"> ValuesController</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IOptionsSnapshot</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">DateTimeOptions</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#FFB86C;font-style:italic;">dateTimeOptions</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        _beijingDateTimeOptions </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> dateTimeOptions.</span><span style="color:#50FA7B;">Get</span><span style="color:#F8F8F2;">(DateTimeOptions.Beijing);</span></span>
<span class="line"><span style="color:#F8F8F2;">        _tockyoDateTimeOptions </span><span style="color:#FF79C6;">=</span><span style="color:#F8F8F2;"> dateTimeOptions.</span><span style="color:#50FA7B;">Get</span><span style="color:#F8F8F2;">(DateTimeOptions.Tokyo);</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="optionséªŒè¯" tabindex="-1"><a class="header-anchor" href="#optionséªŒè¯"><span>OptionséªŒè¯</span></a></h2><h3 id="dataannotations" tabindex="-1"><a class="header-anchor" href="#dataannotations"><span>DataAnnotations</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#50FA7B;">Install-Package</span><span style="color:#F1FA8C;"> Microsoft.Extensions.Options.DataAnnotations</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"></span>
<span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> BookOptions</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> const</span><span style="color:#FF79C6;"> string</span><span style="color:#F8F8F2;"> Book </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">Book</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    [</span><span style="color:#8BE9FD;font-style:italic;">Range</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">1</span><span style="color:#F8F8F2;">,</span><span style="color:#BD93F9;">1000</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        ErrorMessage </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">å¿…é¡» {1} &lt;= {0} &lt;= {2}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)]</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> int</span><span style="color:#F8F8F2;"> Id { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    [</span><span style="color:#8BE9FD;font-style:italic;">StringLength</span><span style="color:#F8F8F2;">(</span><span style="color:#BD93F9;">10</span><span style="color:#F8F8F2;">, MinimumLength </span><span style="color:#FF79C6;">=</span><span style="color:#BD93F9;"> 1</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        ErrorMessage </span><span style="color:#FF79C6;">=</span><span style="color:#E9F284;"> &quot;</span><span style="color:#F1FA8C;">å¿…é¡» {2} &lt;= {0} Length &lt;= {1}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">)]</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> string</span><span style="color:#F8F8F2;"> Name { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#FF79C6;"> string</span><span style="color:#F8F8F2;"> Author { </span><span style="color:#FF79C6;">get</span><span style="color:#F8F8F2;">; </span><span style="color:#FF79C6;">set</span><span style="color:#F8F8F2;">; }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> void</span><span style="color:#50FA7B;"> ConfigureServices</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IServiceCollection</span><span style="color:#FFB86C;font-style:italic;"> services</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">AddOptions</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt;()</span></span>
<span class="line"><span style="color:#F8F8F2;">        .</span><span style="color:#50FA7B;">Bind</span><span style="color:#F8F8F2;">(Configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(BookOptions.Book))</span></span>
<span class="line"><span style="color:#F8F8F2;">        .</span><span style="color:#50FA7B;">ValidateDataAnnotations</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F8F8F2;">        .</span><span style="color:#50FA7B;">Validate</span><span style="color:#F8F8F2;">(</span><span style="color:#FFB86C;font-style:italic;">options</span><span style="color:#FF79C6;"> =&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        {</span></span>
<span class="line"><span style="color:#6272A4;">            // æ ¡éªŒé€šè¿‡ return true</span></span>
<span class="line"><span style="color:#6272A4;">            // æ ¡éªŒå¤±è´¥ return false</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#FF79C6;">            if</span><span style="color:#F8F8F2;"> (options.Author.</span><span style="color:#50FA7B;">Contains</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">&quot;</span><span style="color:#F1FA8C;">A</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"><span style="color:#F8F8F2;">            {</span></span>
<span class="line"><span style="color:#FF79C6;">                return</span><span style="color:#BD93F9;"> false</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">            }</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#FF79C6;">            return</span><span style="color:#BD93F9;"> true</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        });</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ivalidateoptions" tabindex="-1"><a class="header-anchor" href="#ivalidateoptions"><span>IValidateOptions</span></a></h3><p>å®ç°<code>IValidateOptions&lt;TOptions&gt;</code>æ¥å£ï¼Œå¢åŠ æ•°æ®æ ¡éªŒè§„åˆ™</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> class</span><span style="color:#8BE9FD;"> BookValidation</span><span style="color:#F8F8F2;"> : </span><span style="color:#8BE9FD;font-style:italic;">IValidateOptions</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#FF79C6;">    public</span><span style="color:#8BE9FD;font-style:italic;"> ValidateOptionsResult</span><span style="color:#50FA7B;"> Validate</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">string</span><span style="color:#FFB86C;font-style:italic;"> name</span><span style="color:#F8F8F2;">, </span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#FFB86C;font-style:italic;"> options</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#FF79C6;">        var</span><span style="color:#F8F8F2;"> failures </span><span style="color:#FF79C6;">=</span><span style="color:#FF79C6;"> new</span><span style="color:#8BE9FD;font-style:italic;"> List</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#FF79C6;">string</span><span style="color:#F8F8F2;">&gt;();</span></span>
<span class="line"><span style="color:#FF79C6;">        if</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">(options.Id </span><span style="color:#FF79C6;">&gt;=</span><span style="color:#BD93F9;"> 1</span><span style="color:#FF79C6;"> &amp;&amp;</span><span style="color:#F8F8F2;"> options.Id </span><span style="color:#FF79C6;">&lt;=</span><span style="color:#BD93F9;"> 1000</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"><span style="color:#F8F8F2;">        {</span></span>
<span class="line"><span style="color:#F8F8F2;">            failures.</span><span style="color:#50FA7B;">Add</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">$&quot;</span><span style="color:#F1FA8C;">å¿…é¡» 1 &lt;= </span><span style="color:#FF79C6;">{nameof</span><span style="color:#F1FA8C;">(</span><span style="color:#F8F8F2;">options</span><span style="color:#F1FA8C;">.</span><span style="color:#F8F8F2;">Id</span><span style="color:#F1FA8C;">)</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;"> &lt;= </span><span style="color:#FF79C6;">{</span><span style="color:#BD93F9;">1000</span><span style="color:#FF79C6;">}</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#FF79C6;">        if</span><span style="color:#F8F8F2;">(</span><span style="color:#FF79C6;">!</span><span style="color:#F8F8F2;">(options.Name.Length </span><span style="color:#FF79C6;">&gt;=</span><span style="color:#BD93F9;"> 1</span><span style="color:#FF79C6;"> &amp;&amp;</span><span style="color:#F8F8F2;"> options.Name.Length </span><span style="color:#FF79C6;">&lt;=</span><span style="color:#BD93F9;"> 10</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"><span style="color:#F8F8F2;">        {</span></span>
<span class="line"><span style="color:#F8F8F2;">            failures.</span><span style="color:#50FA7B;">Add</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">$&quot;</span><span style="color:#F1FA8C;">å¿…é¡» 1 &lt;= </span><span style="color:#FF79C6;">{nameof</span><span style="color:#F1FA8C;">(</span><span style="color:#F8F8F2;">options</span><span style="color:#F1FA8C;">.</span><span style="color:#F8F8F2;">Name</span><span style="color:#F1FA8C;">)</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;"> &lt;= 10</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">        if</span><span style="color:#F8F8F2;"> (failures.</span><span style="color:#50FA7B;">Any</span><span style="color:#F8F8F2;">())</span></span>
<span class="line"><span style="color:#F8F8F2;">        {</span></span>
<span class="line"><span style="color:#FF79C6;">            return</span><span style="color:#F8F8F2;"> ValidateOptionsResult.</span><span style="color:#50FA7B;">Fail</span><span style="color:#F8F8F2;">(failures);</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">        return</span><span style="color:#F8F8F2;"> ValidateOptionsResult.Success;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> void</span><span style="color:#50FA7B;"> ConfigureServices</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IServiceCollection</span><span style="color:#FFB86C;font-style:italic;"> services</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">Configure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt;(Configuration.</span><span style="color:#50FA7B;">GetSection</span><span style="color:#F8F8F2;">(BookOptions.Book));</span></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">TryAddEnumerable</span><span style="color:#F8F8F2;">(ServiceDescriptor.</span><span style="color:#50FA7B;">Singleton</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">IValidateOptions</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">BookOptions</span><span style="color:#F8F8F2;">&gt;, </span><span style="color:#8BE9FD;font-style:italic;">BookValidation</span><span style="color:#F8F8F2;">&gt;());</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="options-åæœŸé…ç½®" tabindex="-1"><a class="header-anchor" href="#options-åæœŸé…ç½®"><span>Options åæœŸé…ç½®</span></a></h2><p>âœ… <code>PostConfigure&lt;T&gt;()</code>ï¼šå¯¹ç‰¹å®šå‘½åé…ç½®å®ä¾‹æˆ–é»˜è®¤å®ä¾‹ï¼Œåœ¨é…ç½®ç»‘å®šä¹‹ååšâ€œåå¤„ç†â€</p><p>âœ… <code>PostConfigureAll&lt;T&gt;()</code>ï¼šå¯¹æ‰€æœ‰å‘½åå®ä¾‹éƒ½æ‰§è¡Œç›¸åŒçš„â€œåå¤„ç†â€</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="background-color:#282A36;color:#F8F8F2;"><pre class="shiki dracula vp-code"><code><span class="line"><span style="color:#FF79C6;">public</span><span style="color:#FF79C6;"> void</span><span style="color:#50FA7B;"> ConfigureServices</span><span style="color:#F8F8F2;">(</span><span style="color:#8BE9FD;font-style:italic;">IServiceCollection</span><span style="color:#FFB86C;font-style:italic;"> services</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">PostConfigure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">DateTimeOptions</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">options</span><span style="color:#FF79C6;"> =&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        Console.</span><span style="color:#50FA7B;">WriteLine</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">$&quot;</span><span style="color:#F1FA8C;">æˆ‘åªå¯¹åç§°ä¸º</span><span style="color:#FF79C6;">{</span><span style="color:#F8F8F2;">Options</span><span style="color:#F1FA8C;">.</span><span style="color:#F8F8F2;">DefaultName</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">çš„</span><span style="color:#FF79C6;">{nameof</span><span style="color:#F1FA8C;">(</span><span style="color:#F8F8F2;">DateTimeOptions</span><span style="color:#F1FA8C;">)</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">å®ä¾‹è¿›è¡ŒåæœŸé…ç½®</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">PostConfigure</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">DateTimeOptions</span><span style="color:#F8F8F2;">&gt;(DateTimeOptions.Beijing, </span><span style="color:#FFB86C;font-style:italic;">options</span><span style="color:#FF79C6;"> =&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        Console.</span><span style="color:#50FA7B;">WriteLine</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">$&quot;</span><span style="color:#F1FA8C;">æˆ‘åªå¯¹åç§°ä¸º</span><span style="color:#FF79C6;">{</span><span style="color:#F8F8F2;">DateTimeOptions</span><span style="color:#F1FA8C;">.</span><span style="color:#F8F8F2;">Beijing</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">çš„</span><span style="color:#FF79C6;">{nameof</span><span style="color:#F1FA8C;">(</span><span style="color:#F8F8F2;">DateTimeOptions</span><span style="color:#F1FA8C;">)</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">å®ä¾‹è¿›è¡ŒåæœŸé…ç½®</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    services.</span><span style="color:#50FA7B;">PostConfigureAll</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#8BE9FD;font-style:italic;">DateTimeOptions</span><span style="color:#F8F8F2;">&gt;(</span><span style="color:#FFB86C;font-style:italic;">options</span><span style="color:#FF79C6;"> =&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">        Console.</span><span style="color:#50FA7B;">WriteLine</span><span style="color:#F8F8F2;">(</span><span style="color:#E9F284;">$&quot;</span><span style="color:#F1FA8C;">æˆ‘å¯¹</span><span style="color:#FF79C6;">{nameof</span><span style="color:#F1FA8C;">(</span><span style="color:#F8F8F2;">DateTimeOptions</span><span style="color:#F1FA8C;">)</span><span style="color:#FF79C6;">}</span><span style="color:#F1FA8C;">çš„æ‰€æœ‰å®ä¾‹è¿›è¡ŒåæœŸé…ç½®</span><span style="color:#E9F284;">&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">    });</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å‚è€ƒ" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒ"><span>å‚è€ƒ</span></a></h2><ul><li><a href="https://gitee.com/soul-au/aspnetcore/blob/master/docs/04-Options.md" target="_blank" rel="noopener noreferrer">AspNetCoreä¼ä¸šçº§å¼€å‘</a></li><li><a href="https://www.cnblogs.com/xiaoxiaotank/p/15391905.html" target="_blank" rel="noopener noreferrer">ç†è§£ASP.NET Core - é€‰é¡¹(Options)</a></li></ul>`,41)]))}const i=n(p,[["render",e],["__file","options.html.vue"]]),c=JSON.parse('{"path":"/dotnet/options.html","title":"é€‰é¡¹ Options","lang":"en-US","frontmatter":{"title":"é€‰é¡¹ Options","date":"2025-04-18T00:00:00.000Z","category":["DotNet"],"description":"åœ¨ .NET ä¸­ï¼ŒOptions æ˜¯ä¸€å¥— ç”¨äºç»‘å®šå’Œç®¡ç†é…ç½®çš„æ¨èåšæ³•ï¼Œæ¯”ç›´æ¥ä½¿ç”¨ IConfiguration æ›´åŠ å¼ºç±»å‹ã€å®‰å…¨ã€å¯ç»´æŠ¤ã€‚ æŠŠé…ç½®é¡¹ç»‘å®šåˆ°å¼ºç±»å‹å¯¹è±¡ï¼ˆç±»ä¼¼ Get<AppSettings>()ï¼‰ æ”¯æŒä¾èµ–æ³¨å…¥ï¼ˆé€šè¿‡ IOptions<T>æ³¨å…¥é…ç½®ï¼‰ æ”¯æŒé…ç½®éªŒè¯ã€çƒ­æ›´æ–°ï¼ˆreload on changeï¼‰ç­‰é«˜çº§åŠŸèƒ½ è®©é…ç½®é€»è¾‘å’Œä¸šåŠ¡é€»...","head":[["meta",{"property":"og:url","content":"https://luxiag.github.io/luxiag/blog/dotnet/options.html"}],["meta",{"property":"og:title","content":"é€‰é¡¹ Options"}],["meta",{"property":"og:description","content":"åœ¨ .NET ä¸­ï¼ŒOptions æ˜¯ä¸€å¥— ç”¨äºç»‘å®šå’Œç®¡ç†é…ç½®çš„æ¨èåšæ³•ï¼Œæ¯”ç›´æ¥ä½¿ç”¨ IConfiguration æ›´åŠ å¼ºç±»å‹ã€å®‰å…¨ã€å¯ç»´æŠ¤ã€‚ æŠŠé…ç½®é¡¹ç»‘å®šåˆ°å¼ºç±»å‹å¯¹è±¡ï¼ˆç±»ä¼¼ Get<AppSettings>()ï¼‰ æ”¯æŒä¾èµ–æ³¨å…¥ï¼ˆé€šè¿‡ IOptions<T>æ³¨å…¥é…ç½®ï¼‰ æ”¯æŒé…ç½®éªŒè¯ã€çƒ­æ›´æ–°ï¼ˆreload on changeï¼‰ç­‰é«˜çº§åŠŸèƒ½ è®©é…ç½®é€»è¾‘å’Œä¸šåŠ¡é€»..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-04-23T08:18:43.000Z"}],["meta",{"property":"article:published_time","content":"2025-04-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-23T08:18:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"é€‰é¡¹ Options\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-04-18T00:00:00.000Z\\",\\"dateModified\\":\\"2025-04-23T08:18:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"luxiag\\",\\"url\\":\\"https://luxiag.github.io/luxiag\\"}]}"]]},"git":{"createdTime":1745396323000,"updatedTime":1745396323000,"contributors":[{"name":"luxiag","username":"luxiag","email":"luxiag@qq.com","commits":1,"url":"https://github.com/luxiag"}]},"readingTime":{"minutes":4.56,"words":1368},"filePathRelative":"dotnet/options.md","localizedDate":"April 18, 2025","excerpt":"<p>åœ¨ .NET ä¸­ï¼ŒOptions æ˜¯ä¸€å¥— ç”¨äºç»‘å®šå’Œç®¡ç†é…ç½®çš„æ¨èåšæ³•ï¼Œæ¯”ç›´æ¥ä½¿ç”¨ IConfiguration æ›´åŠ å¼ºç±»å‹ã€å®‰å…¨ã€å¯ç»´æŠ¤ã€‚</p>\\n<ul>\\n<li>\\n<p>æŠŠé…ç½®é¡¹ç»‘å®šåˆ°å¼ºç±»å‹å¯¹è±¡ï¼ˆç±»ä¼¼ <code>Get&lt;AppSettings&gt;()</code>ï¼‰</p>\\n</li>\\n<li>\\n<p>æ”¯æŒä¾èµ–æ³¨å…¥ï¼ˆé€šè¿‡ <code>IOptions&lt;T&gt;</code>æ³¨å…¥é…ç½®ï¼‰</p>\\n</li>\\n<li>\\n<p>æ”¯æŒé…ç½®éªŒè¯ã€çƒ­æ›´æ–°ï¼ˆreload on changeï¼‰ç­‰é«˜çº§åŠŸèƒ½</p>\\n</li>\\n<li>\\n<p>è®©é…ç½®é€»è¾‘å’Œä¸šåŠ¡é€»è¾‘åˆ†ç¦»ï¼Œæé«˜ä»£ç å¯è¯»æ€§å’Œå¯æµ‹è¯•æ€§</p>\\n</li>\\n</ul>","autoDesc":true}');export{i as comp,c as data};
