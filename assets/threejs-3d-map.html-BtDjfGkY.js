import{n as ki,e as Wn,o as po,B as go,p as ih,d as B1,V as O1,G as Ll,q as sh,r as Dl,L as z1,s as oh,t as $l,u as ch,D as U1,M as lh,b as H1,S as q1,P as Y1,O as kl,A as G1,W as X1,v as W1,w as V1,F as j1,m as Z1,x as Q1,y as K1,E as J1,z as n2,T as t2,C as e2}from"./three.module-DElcEsb7.js";import{G as r2}from"./GLTFLoader-Def6ni-K.js";import{O as Rl}from"./OrbitControls-COOjmuLA.js";import{S as Pl}from"./stats.module--VATS4Kh.js";import{_ as a2,i as Il,l as Bl,c as i2,a as s2,d as o2,o as c2}from"./app-kNiJQAdO.js";const Ms=new ki;class Ri{constructor(t){t=t||{},this.vertices={near:[new Wn,new Wn,new Wn,new Wn],far:[new Wn,new Wn,new Wn,new Wn]},t.projectionMatrix!==void 0&&this.setFromProjectionMatrix(t.projectionMatrix,t.maxFar||1e4)}setFromProjectionMatrix(t,e){const r=t.elements[11]===0;return Ms.copy(t).invert(),this.vertices.near[0].set(1,1,-1),this.vertices.near[1].set(1,-1,-1),this.vertices.near[2].set(-1,-1,-1),this.vertices.near[3].set(-1,1,-1),this.vertices.near.forEach(function(a){a.applyMatrix4(Ms)}),this.vertices.far[0].set(1,1,1),this.vertices.far[1].set(1,-1,1),this.vertices.far[2].set(-1,-1,1),this.vertices.far[3].set(-1,1,1),this.vertices.far.forEach(function(a){a.applyMatrix4(Ms);const i=Math.abs(a.z);r?a.z*=Math.min(e/i,1):a.multiplyScalar(Math.min(e/i,1))}),this.vertices}split(t,e){for(;t.length>e.length;)e.push(new Ri);e.length=t.length;for(let r=0;r<t.length;r++){const a=e[r];if(r===0)for(let i=0;i<4;i++)a.vertices.near[i].copy(this.vertices.near[i]);else for(let i=0;i<4;i++)a.vertices.near[i].lerpVectors(this.vertices.near[i],this.vertices.far[i],t[r-1]);if(r===t.length-1)for(let i=0;i<4;i++)a.vertices.far[i].copy(this.vertices.far[i]);else for(let i=0;i<4;i++)a.vertices.far[i].lerpVectors(this.vertices.near[i],this.vertices.far[i],t[r])}}toSpace(t,e){for(let r=0;r<4;r++)e.vertices.near[r].copy(this.vertices.near[r]).applyMatrix4(t),e.vertices.far[r].copy(this.vertices.far[r]).applyMatrix4(t)}}const Ol={lights_fragment_begin:`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );

vec3 geometryClearcoatNormal = vec3( 0.0 );

#ifdef USE_CLEARCOAT

	geometryClearcoatNormal = clearcoatNormal;

#endif

#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		// Iridescence F0 approximation
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif

IncidentLight directLight;

#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )

	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {

		pointLight = pointLights[ i ];

		getPointLightInfo( pointLight, geometryPosition, directLight );

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )

	SpotLight spotLight;
 	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;

	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {

		spotLight = spotLights[ i ];

		getSpotLightInfo( spotLight, geometryPosition, directLight );

  		// spot lights are ordered [shadows with maps, shadows without maps, maps without shadows, none]
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;

		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct ) && defined( USE_CSM ) && defined( CSM_CASCADES )

	DirectionalLight directionalLight;
	float linearDepth = (vViewPosition.z) / (shadowFar - cameraNear);
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif

	#if defined( USE_SHADOWMAP ) && defined( CSM_FADE )
		vec2 cascade;
		float cascadeCenter;
		float closestEdge;
		float margin;
		float csmx;
		float csmy;

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];
			getDirectionalLightInfo( directionalLight, directLight );

			#if ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
				// NOTE: Depth gets larger away from the camera.
				// cascade.x is closer, cascade.y is further
				cascade = CSM_cascades[ i ];
				cascadeCenter = ( cascade.x + cascade.y ) / 2.0;
				closestEdge = linearDepth < cascadeCenter ? cascade.x : cascade.y;
				margin = 0.25 * pow( closestEdge, 2.0 );
				csmx = cascade.x - margin / 2.0;
				csmy = cascade.y + margin / 2.0;
				if( linearDepth >= csmx && ( linearDepth < csmy || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 ) ) {

					float dist = min( linearDepth - csmx, csmy - linearDepth );
					float ratio = clamp( dist / margin, 0.0, 1.0 );

					vec3 prevColor = directLight.color;
					directionalLightShadow = directionalLightShadows[ i ];
					directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;

					bool shouldFadeLastCascade = UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 && linearDepth > cascadeCenter;
					directLight.color = mix( prevColor, directLight.color, shouldFadeLastCascade ? ratio : 1.0 );

					ReflectedLight prevLight = reflectedLight;
					RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

					bool shouldBlend = UNROLLED_LOOP_INDEX != CSM_CASCADES - 1 || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1 && linearDepth < cascadeCenter;
					float blendRatio = shouldBlend ? ratio : 1.0;

					reflectedLight.directDiffuse = mix( prevLight.directDiffuse, reflectedLight.directDiffuse, blendRatio );
					reflectedLight.directSpecular = mix( prevLight.directSpecular, reflectedLight.directSpecular, blendRatio );
					reflectedLight.indirectDiffuse = mix( prevLight.indirectDiffuse, reflectedLight.indirectDiffuse, blendRatio );
					reflectedLight.indirectSpecular = mix( prevLight.indirectSpecular, reflectedLight.indirectSpecular, blendRatio );

				}
			#endif

		}
		#pragma unroll_loop_end
	#elif defined (USE_SHADOWMAP)

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];
			getDirectionalLightInfo( directionalLight, directLight );

			#if ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )

				directionalLightShadow = directionalLightShadows[ i ];
				if(linearDepth >= CSM_cascades[UNROLLED_LOOP_INDEX].x && linearDepth < CSM_cascades[UNROLLED_LOOP_INDEX].y) directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;

				if(linearDepth >= CSM_cascades[UNROLLED_LOOP_INDEX].x && (linearDepth < CSM_cascades[UNROLLED_LOOP_INDEX].y || UNROLLED_LOOP_INDEX == CSM_CASCADES - 1)) RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

			#endif

		}
		#pragma unroll_loop_end

	#elif ( NUM_DIR_LIGHT_SHADOWS > 0 )
		// note: no loop here - all CSM lights are in fact one light only
		getDirectionalLightInfo( directionalLights[0], directLight );
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	#endif

	#if ( NUM_DIR_LIGHTS > NUM_DIR_LIGHT_SHADOWS)
		// compute the lights not casting shadows (if any)

		#pragma unroll_loop_start
		for ( int i = NUM_DIR_LIGHT_SHADOWS; i < NUM_DIR_LIGHTS; i ++ ) {

			directionalLight = directionalLights[ i ];

			getDirectionalLightInfo( directionalLight, directLight );

			RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

		}
		#pragma unroll_loop_end

	#endif

#endif


#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct ) && !defined( USE_CSM ) && !defined( CSM_CASCADES )

	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {

		directionalLight = directionalLights[ i ];

		getDirectionalLightInfo( directionalLight, directLight );

		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif

		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )

	RectAreaLight rectAreaLight;

	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {

		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );

	}
	#pragma unroll_loop_end

#endif

#if defined( RE_IndirectDiffuse )

	vec3 iblIrradiance = vec3( 0.0 );

	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );

	#if defined( USE_LIGHT_PROBES )

		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );

	#endif

	#if ( NUM_HEMI_LIGHTS > 0 )

		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {

			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );

		}
		#pragma unroll_loop_end

	#endif

#endif

#if defined( RE_IndirectSpecular )

	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );

#endif
`,lights_pars_begin:`
#if defined( USE_CSM ) && defined( CSM_CASCADES )
uniform vec2 CSM_cascades[CSM_CASCADES];
uniform float cameraNear;
uniform float shadowFar;
#endif
	`+po.lights_pars_begin},zl=new ki,Ss=new Ri,_t=new Wn,cr=new go,As=[],Cs=[],Es=new ki,Ul=new ki,l2=new Wn(0,1,0);class f2{constructor(t){this.camera=t.camera,this.parent=t.parent,this.cascades=t.cascades||3,this.maxFar=t.maxFar||1e5,this.mode=t.mode||"practical",this.shadowMapSize=t.shadowMapSize||2048,this.shadowBias=t.shadowBias||1e-6,this.lightDirection=t.lightDirection||new Wn(1,-1,1).normalize(),this.lightIntensity=t.lightIntensity||3,this.lightNear=t.lightNear||1,this.lightFar=t.lightFar||2e3,this.lightMargin=t.lightMargin||200,this.customSplitsCallback=t.customSplitsCallback,this.fade=!1,this.mainFrustum=new Ri,this.frustums=[],this.breaks=[],this.lights=[],this.shaders=new Map,this.createLights(),this.updateFrustums(),this.injectInclude()}createLights(){for(let t=0;t<this.cascades;t++){const e=new ih(16777215,this.lightIntensity);e.castShadow=!0,e.shadow.mapSize.width=this.shadowMapSize,e.shadow.mapSize.height=this.shadowMapSize,e.shadow.camera.near=this.lightNear,e.shadow.camera.far=this.lightFar,e.shadow.bias=this.shadowBias,this.parent.add(e),this.parent.add(e.target),this.lights.push(e)}}initCascades(){const t=this.camera;t.updateProjectionMatrix(),this.mainFrustum.setFromProjectionMatrix(t.projectionMatrix,this.maxFar),this.mainFrustum.split(this.breaks,this.frustums)}updateShadowBounds(){const t=this.frustums;for(let e=0;e<t.length;e++){const a=this.lights[e].shadow.camera,i=this.frustums[e],s=i.vertices.near,o=i.vertices.far,l=o[0];let c;l.distanceTo(o[2])>l.distanceTo(s[2])?c=o[2]:c=s[2];let f=l.distanceTo(c);if(this.fade){const h=this.camera,u=Math.max(h.far,this.maxFar),d=i.vertices.far[0].z/(u-h.near),g=.25*Math.pow(d,2)*(u-h.near);f+=g}a.left=-f/2,a.right=f/2,a.top=f/2,a.bottom=-f/2,a.updateProjectionMatrix()}}getBreaks(){const t=this.camera,e=Math.min(t.far,this.maxFar);switch(this.breaks.length=0,this.mode){case"uniform":r(this.cascades,t.near,e,this.breaks);break;case"logarithmic":a(this.cascades,t.near,e,this.breaks);break;case"practical":i(this.cascades,t.near,e,.5,this.breaks);break;case"custom":this.customSplitsCallback===void 0&&console.error("CSM: Custom split scheme callback not defined."),this.customSplitsCallback(this.cascades,t.near,e,this.breaks);break}function r(s,o,l,c){for(let f=1;f<s;f++)c.push((o+(l-o)*f/s)/l);c.push(1)}function a(s,o,l,c){for(let f=1;f<s;f++)c.push(o*(l/o)**(f/s)/l);c.push(1)}function i(s,o,l,c,f){As.length=0,Cs.length=0,a(s,o,l,Cs),r(s,o,l,As);for(let h=1;h<s;h++)f.push(B1.lerp(As[h-1],Cs[h-1],c));f.push(1)}}update(){const t=this.camera,e=this.frustums;Es.lookAt(new Wn,this.lightDirection,l2),Ul.copy(Es).invert();for(let r=0;r<e.length;r++){const a=this.lights[r],i=a.shadow.camera,s=(i.right-i.left)/this.shadowMapSize,o=(i.top-i.bottom)/this.shadowMapSize;zl.multiplyMatrices(Ul,t.matrixWorld),e[r].toSpace(zl,Ss);const l=Ss.vertices.near,c=Ss.vertices.far;cr.makeEmpty();for(let f=0;f<4;f++)cr.expandByPoint(l[f]),cr.expandByPoint(c[f]);cr.getCenter(_t),_t.z=cr.max.z+this.lightMargin,_t.x=Math.floor(_t.x/s)*s,_t.y=Math.floor(_t.y/o)*o,_t.applyMatrix4(Es),a.position.copy(_t),a.target.position.copy(_t),a.target.position.x+=this.lightDirection.x,a.target.position.y+=this.lightDirection.y,a.target.position.z+=this.lightDirection.z}}injectInclude(){po.lights_fragment_begin=Ol.lights_fragment_begin,po.lights_pars_begin=Ol.lights_pars_begin}setupMaterial(t){t.defines=t.defines||{},t.defines.USE_CSM=1,t.defines.CSM_CASCADES=this.cascades,this.fade&&(t.defines.CSM_FADE="");const e=[],r=this,a=this.shaders;t.onBeforeCompile=function(i){const s=Math.min(r.camera.far,r.maxFar);r.getExtendedBreaks(e),i.uniforms.CSM_cascades={value:e},i.uniforms.cameraNear={value:r.camera.near},i.uniforms.shadowFar={value:s},a.set(t,i)},a.set(t,null)}updateUniforms(){const t=Math.min(this.camera.far,this.maxFar);this.shaders.forEach(function(r,a){if(r!==null){const i=r.uniforms;this.getExtendedBreaks(i.CSM_cascades.value),i.cameraNear.value=this.camera.near,i.shadowFar.value=t}!this.fade&&"CSM_FADE"in a.defines?(delete a.defines.CSM_FADE,a.needsUpdate=!0):this.fade&&!("CSM_FADE"in a.defines)&&(a.defines.CSM_FADE="",a.needsUpdate=!0)},this)}getExtendedBreaks(t){for(;t.length<this.breaks.length;)t.push(new O1);t.length=this.breaks.length;for(let e=0;e<this.cascades;e++){const r=this.breaks[e],a=this.breaks[e-1]||0;t[e].x=a,t[e].y=r}}updateFrustums(){this.getBreaks(),this.initCascades(),this.updateShadowBounds(),this.updateUniforms()}remove(){for(let t=0;t<this.lights.length;t++)this.parent.remove(this.lights[t].target),this.parent.remove(this.lights[t])}dispose(){const t=this.shaders;t.forEach(function(e,r){delete r.onBeforeCompile,delete r.defines.USE_CSM,delete r.defines.CSM_CASCADES,delete r.defines.CSM_FADE,e!==null&&(delete e.uniforms.CSM_cascades,delete e.uniforms.cameraNear,delete e.uniforms.shadowFar),r.needsUpdate=!0}),t.clear()}}class u2 extends Ll{constructor(t){super(),this.csm=t,this.displayFrustum=!0,this.displayPlanes=!0,this.displayShadowBounds=!0;const e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new sh;a.setIndex(new Dl(e,1)),a.setAttribute("position",new Dl(r,3,!1));const i=new z1(a,new oh);this.add(i),this.frustumLines=i,this.cascadeLines=[],this.cascadePlanes=[],this.shadowLines=[]}updateVisibility(){const t=this.displayFrustum,e=this.displayPlanes,r=this.displayShadowBounds,a=this.frustumLines,i=this.cascadeLines,s=this.cascadePlanes,o=this.shadowLines;for(let l=0,c=i.length;l<c;l++){const f=i[l],h=s[l],u=o[l];f.visible=t,h.visible=t&&e,u.visible=r}a.visible=t}update(){const t=this.csm,e=t.camera,r=t.cascades,a=t.mainFrustum,i=t.frustums,s=t.lights,l=this.frustumLines.geometry.getAttribute("position"),c=this.cascadeLines,f=this.cascadePlanes,h=this.shadowLines;for(this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.updateMatrixWorld(!0);c.length>r;)this.remove(c.pop()),this.remove(f.pop()),this.remove(h.pop());for(;c.length<r;){const g=new $l(new go,16777215),m=new ch({transparent:!0,opacity:.1,depthWrite:!1,side:U1}),p=new lh(new H1,m),y=new Ll,b=new $l(new go,16776960);y.add(b),this.add(g),this.add(p),this.add(y),c.push(g),f.push(p),h.push(y)}for(let g=0;g<r;g++){const m=i[g],y=s[g].shadow.camera,b=m.vertices.far,F=c[g],v=f[g],_=h[g],w=_.children[0];F.box.min.copy(b[2]),F.box.max.copy(b[0]),F.box.max.z+=1e-4,v.position.addVectors(b[0],b[2]),v.position.multiplyScalar(.5),v.scale.subVectors(b[0],b[2]),v.scale.z=1e-4,this.remove(_),_.position.copy(y.position),_.quaternion.copy(y.quaternion),_.scale.copy(y.scale),_.updateMatrixWorld(!0),this.attach(_),w.box.min.set(y.bottom,y.left,-y.far),w.box.max.set(y.top,y.right,-y.near)}const u=a.vertices.near,d=a.vertices.far;l.setXYZ(0,d[0].x,d[0].y,d[0].z),l.setXYZ(1,d[3].x,d[3].y,d[3].z),l.setXYZ(2,d[2].x,d[2].y,d[2].z),l.setXYZ(3,d[1].x,d[1].y,d[1].z),l.setXYZ(4,u[0].x,u[0].y,u[0].z),l.setXYZ(5,u[3].x,u[3].y,u[3].z),l.setXYZ(6,u[2].x,u[2].y,u[2].z),l.setXYZ(7,u[1].x,u[1].y,u[1].z),l.needsUpdate=!0}dispose(){const t=this.frustumLines,e=this.cascadeLines,r=this.cascadePlanes,a=this.shadowLines;t.geometry.dispose(),t.material.dispose();const i=this.csm.cascades;for(let s=0;s<i;s++){const o=e[s],l=r[s],f=a[s].children[0];o.dispose(),l.geometry.dispose(),l.material.dispose(),f.dispose()}}}function fn(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function fh(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Pi(n){let t,e,r;n.length!==2?(t=fn,e=(o,l)=>fn(n(o),l),r=(o,l)=>n(o)-l):(t=n===fn||n===fh?n:h2,e=n,r=n);function a(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const h=c+f>>>1;e(o[h],l)<0?c=h+1:f=h}while(c<f)}return c}function i(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const h=c+f>>>1;e(o[h],l)<=0?c=h+1:f=h}while(c<f)}return c}function s(o,l,c=0,f=o.length){const h=a(o,l,c,f-1);return h>c&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:a,center:s,right:i}}function h2(){return 0}function Ga(n){return n===null?NaN:+n}function*d2(n,t){if(t===void 0)for(let e of n)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of n)(r=t(r,++e,n))!=null&&(r=+r)>=r&&(yield r)}}const uh=Pi(fn),Ut=uh.right,p2=uh.left,g2=Pi(Ga).center;function y2(n,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let e=n.length;if(!((e=Math.floor(e))>=0))throw new RangeError("invalid length");if(!e||!t)return n;const r=hc(t),a=n.slice();return r(n,a,0,e,1),r(a,n,0,e,1),r(n,a,0,e,1),n}const hh=dh(hc),m2=dh(v2);function dh(n){return function(t,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:i,height:s}=t;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(s!==void 0?s:a.length/i))>=0))throw new RangeError("invalid height");if(!i||!s||!e&&!r)return t;const o=e&&n(e),l=r&&n(r),c=a.slice();return o&&l?(xe(o,c,a,i,s),xe(o,a,c,i,s),xe(o,c,a,i,s),Me(l,a,c,i,s),Me(l,c,a,i,s),Me(l,a,c,i,s)):o?(xe(o,a,c,i,s),xe(o,c,a,i,s),xe(o,a,c,i,s)):l&&(Me(l,a,c,i,s),Me(l,c,a,i,s),Me(l,a,c,i,s)),t}}function xe(n,t,e,r,a){for(let i=0,s=r*a;i<s;)n(t,e,i,i+=r,1)}function Me(n,t,e,r,a){for(let i=0,s=r*a;i<r;++i)n(t,e,i,i+s,r)}function v2(n){const t=hc(n);return(e,r,a,i,s)=>{a<<=2,i<<=2,s<<=2,t(e,r,a+0,i+0,s),t(e,r,a+1,i+1,s),t(e,r,a+2,i+2,s),t(e,r,a+3,i+3,s)}}function hc(n){const t=Math.floor(n);if(t===n)return F2(n);const e=n-t,r=2*n+1;return(a,i,s,o,l)=>{if(!((o-=l)>=s))return;let c=t*i[s];const f=l*t,h=f+l;for(let u=s,d=s+f;u<d;u+=l)c+=i[Math.min(o,u)];for(let u=s,d=o;u<=d;u+=l)c+=i[Math.min(o,u+f)],a[u]=(c+e*(i[Math.max(s,u-h)]+i[Math.min(o,u+h)]))/r,c-=i[Math.max(s,u-f)]}}function F2(n){const t=2*n+1;return(e,r,a,i,s)=>{if(!((i-=s)>=a))return;let o=n*r[a];const l=s*n;for(let c=a,f=a+l;c<f;c+=s)o+=r[Math.min(i,c)];for(let c=a,f=i;c<=f;c+=s)o+=r[Math.min(i,c+l)],e[c]=o/t,o-=r[Math.max(a,c-l)]}}function Ii(n,t){let e=0;if(t===void 0)for(let r of n)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let a of n)(a=t(a,++r,n))!=null&&(a=+a)>=a&&++e}return e}function b2(n){return n.length|0}function _2(n){return!(n>0)}function w2(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function x2(n){return t=>n(...t)}function M2(...n){const t=typeof n[n.length-1]=="function"&&x2(n.pop());n=n.map(w2);const e=n.map(b2),r=n.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||e.some(_2))return i;for(;;){i.push(a.map((o,l)=>n[l][o]));let s=r;for(;++a[s]===e[s];){if(s===0)return t?i.map(t):i;a[s--]=0}}}function S2(n,t){var e=0,r=0;return Float64Array.from(n,t===void 0?a=>e+=+a||0:a=>e+=+t(a,r++,n)||0)}function ph(n,t){let e=0,r,a=0,i=0;if(t===void 0)for(let s of n)s!=null&&(s=+s)>=s&&(r=s-a,a+=r/++e,i+=r*(s-a));else{let s=-1;for(let o of n)(o=t(o,++s,n))!=null&&(o=+o)>=o&&(r=o-a,a+=r/++e,i+=r*(o-a))}if(e>1)return i/(e-1)}function gh(n,t){const e=ph(n,t);return e&&Math.sqrt(e)}function Tr(n,t){let e,r;if(t===void 0)for(const a of n)a!=null&&(e===void 0?a>=a&&(e=r=a):(e>a&&(e=a),r<a&&(r=a)));else{let a=-1;for(let i of n)(i=t(i,++a,n))!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)))}return[e,r]}class Fn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let r=0;for(let a=0;a<this._n&&a<32;a++){const i=e[a],s=t+i,o=Math.abs(t)<Math.abs(i)?t-(s-i):i-(s-t);o&&(e[r++]=o),t=s}return e[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let e=this._n,r,a,i,s=0;if(e>0){for(s=t[--e];e>0&&(r=s,a=t[--e],s=r+a,i=a-(s-r),!i););e>0&&(i<0&&t[e-1]<0||i>0&&t[e-1]>0)&&(a=i*2,r=s+a,a==r-s&&(s=r))}return s}}function A2(n,t){const e=new Fn;if(t===void 0)for(let r of n)(r=+r)&&e.add(r);else{let r=-1;for(let a of n)(a=+t(a,++r,n))&&e.add(a)}return+e}function C2(n,t){const e=new Fn;let r=-1;return Float64Array.from(n,t===void 0?a=>e.add(+a||0):a=>e.add(+t(a,++r,n)||0))}class Rr extends Map{constructor(t,e=vh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(yo(this,t))}has(t){return super.has(yo(this,t))}set(t,e){return super.set(yh(this,t),e)}delete(t){return super.delete(mh(this,t))}}class se extends Set{constructor(t,e=vh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(yo(this,t))}add(t){return super.add(yh(this,t))}delete(t){return super.delete(mh(this,t))}}function yo({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function yh({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function mh({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function vh(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Ue(n){return n}function Fh(n,...t){return rr(n,Ue,Ue,t)}function bh(n,...t){return rr(n,Array.from,Ue,t)}function _h(n,t){for(let e=1,r=t.length;e<r;++e)n=n.flatMap(a=>a.pop().map(([i,s])=>[...a,i,s]));return n}function E2(n,...t){return _h(bh(n,...t),t)}function T2(n,t,...e){return _h(xh(n,t,...e),e)}function wh(n,t,...e){return rr(n,Ue,t,e)}function xh(n,t,...e){return rr(n,Array.from,t,e)}function N2(n,...t){return rr(n,Ue,Mh,t)}function L2(n,...t){return rr(n,Array.from,Mh,t)}function Mh(n){if(n.length!==1)throw new Error("duplicate key");return n[0]}function rr(n,t,e,r){return function a(i,s){if(s>=r.length)return e(i);const o=new Rr,l=r[s++];let c=-1;for(const f of i){const h=l(f,++c,i),u=o.get(h);u?u.push(f):o.set(h,[f])}for(const[f,h]of o)o.set(f,a(h,s));return t(o)}(n,0)}function Sh(n,t){return Array.from(t,e=>n[e])}function mo(n,...t){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[e]=t;if(e&&e.length!==2||t.length>1){const r=Uint32Array.from(n,(a,i)=>i);return t.length>1?(t=t.map(a=>n.map(a)),r.sort((a,i)=>{for(const s of t){const o=He(s[a],s[i]);if(o)return o}})):(e=n.map(e),r.sort((a,i)=>He(e[a],e[i]))),Sh(n,r)}return n.sort(dc(e))}function dc(n=fn){if(n===fn)return He;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const r=n(t,e);return r||r===0?r:(n(e,e)===0)-(n(t,t)===0)}}function He(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}function D2(n,t,e){return(t.length!==2?mo(wh(n,t,e),([r,a],[i,s])=>fn(a,s)||fn(r,i)):mo(Fh(n,e),([r,a],[i,s])=>t(a,s)||fn(r,i))).map(([r])=>r)}var $2=Array.prototype,k2=$2.slice;function Ts(n){return()=>n}const R2=Math.sqrt(50),P2=Math.sqrt(10),I2=Math.sqrt(2);function Xa(n,t,e){const r=(t-n)/Math.max(0,e),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=R2?10:i>=P2?5:i>=I2?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(n*c),l=Math.round(t*c),o/c<n&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(n/c),l=Math.round(t/c),o*c<n&&++o,l*c>t&&--l),l<o&&.5<=e&&e<2?Xa(n,t,e*2):[o,l,c]}function oe(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[a,i,s]=r?Xa(t,n,e):Xa(n,t,e);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function ce(n,t,e){return t=+t,n=+n,e=+e,Xa(n,t,e)[2]}function Wa(n,t,e){t=+t,n=+n,e=+e;const r=t<n,a=r?ce(t,n,e):ce(n,t,e);return(r?-1:1)*(a<0?1/-a:a)}function pc(n,t,e){let r;for(;;){const a=ce(n,t,e);if(a===r||a===0||!isFinite(a))return[n,t];a>0?(n=Math.floor(n/a)*a,t=Math.ceil(t/a)*a):a<0&&(n=Math.ceil(n*a)/a,t=Math.floor(t*a)/a),r=a}}function gc(n){return Math.max(1,Math.ceil(Math.log(Ii(n))/Math.LN2)+1)}function Hl(){var n=Ue,t=Tr,e=gc;function r(a){Array.isArray(a)||(a=Array.from(a));var i,s=a.length,o,l,c=new Array(s);for(i=0;i<s;++i)c[i]=n(a[i],i,a);var f=t(c),h=f[0],u=f[1],d=e(c,h,u);if(!Array.isArray(d)){const F=u,v=+d;if(t===Tr&&([h,u]=pc(h,u,v)),d=oe(h,u,v),d[0]<=h&&(l=ce(h,u,v)),d[d.length-1]>=u)if(F>=u&&t===Tr){const _=ce(h,u,v);isFinite(_)&&(_>0?u=(Math.floor(u/_)+1)*_:_<0&&(u=(Math.ceil(u*-_)+1)/-_))}else d.pop()}for(var g=d.length,m=0,p=g;d[m]<=h;)++m;for(;d[p-1]>u;)--p;(m||p<g)&&(d=d.slice(m,p),g=p-m);var y=new Array(g+1),b;for(i=0;i<=g;++i)b=y[i]=[],b.x0=i>0?d[i-1]:h,b.x1=i<g?d[i]:u;if(isFinite(l)){if(l>0)for(i=0;i<s;++i)(o=c[i])!=null&&h<=o&&o<=u&&y[Math.min(g,Math.floor((o-h)/l))].push(a[i]);else if(l<0){for(i=0;i<s;++i)if((o=c[i])!=null&&h<=o&&o<=u){const F=Math.floor((h-o)*l);y[Math.min(g,F+(d[F]<=o))].push(a[i])}}}else for(i=0;i<s;++i)(o=c[i])!=null&&h<=o&&o<=u&&y[Ut(d,o,0,g)].push(a[i]);return y}return r.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ts(a),r):n},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:Ts([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(e=typeof a=="function"?a:Ts(Array.isArray(a)?k2.call(a):a),r):e},r}function Pr(n,t){let e;if(t===void 0)for(const r of n)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let a of n)(a=t(a,++r,n))!=null&&(e<a||e===void 0&&a>=a)&&(e=a)}return e}function yc(n,t){let e,r=-1,a=-1;if(t===void 0)for(const i of n)++a,i!=null&&(e<i||e===void 0&&i>=i)&&(e=i,r=a);else for(let i of n)(i=t(i,++a,n))!=null&&(e<i||e===void 0&&i>=i)&&(e=i,r=a);return r}function Va(n,t){let e;if(t===void 0)for(const r of n)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let a of n)(a=t(a,++r,n))!=null&&(e>a||e===void 0&&a>=a)&&(e=a)}return e}function mc(n,t){let e,r=-1,a=-1;if(t===void 0)for(const i of n)++a,i!=null&&(e>i||e===void 0&&i>=i)&&(e=i,r=a);else for(let i of n)(i=t(i,++a,n))!=null&&(e>i||e===void 0&&i>=i)&&(e=i,r=a);return r}function Bi(n,t,e=0,r=1/0,a){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(n.length-1,r)),!(e<=t&&t<=r))return n;for(a=a===void 0?He:dc(a);r>e;){if(r-e>600){const l=r-e+1,c=t-e+1,f=Math.log(l),h=.5*Math.exp(2*f/3),u=.5*Math.sqrt(f*h*(l-h)/l)*(c-l/2<0?-1:1),d=Math.max(e,Math.floor(t-c*h/l+u)),g=Math.min(r,Math.floor(t+(l-c)*h/l+u));Bi(n,t,d,g,a)}const i=n[t];let s=e,o=r;for(lr(n,e,t),a(n[r],i)>0&&lr(n,e,r);s<o;){for(lr(n,s,o),++s,--o;a(n[s],i)<0;)++s;for(;a(n[o],i)>0;)--o}a(n[e],i)===0?lr(n,e,o):(++o,lr(n,o,r)),o<=t&&(e=o+1),t<=o&&(r=o-1)}return n}function lr(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function Ah(n,t=fn){let e,r=!1;if(t.length===1){let a;for(const i of n){const s=t(i);(r?fn(s,a)>0:fn(s,s)===0)&&(e=i,a=s,r=!0)}}else for(const a of n)(r?t(a,e)>0:t(a,a)===0)&&(e=a,r=!0);return e}function Ir(n,t,e){if(n=Float64Array.from(d2(n,e)),!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return Va(n);if(t>=1)return Pr(n);var r,a=(r-1)*t,i=Math.floor(a),s=Pr(Bi(n,i).subarray(0,i+1)),o=Va(n.subarray(i+1));return s+(o-s)*(a-i)}}function Ch(n,t,e=Ga){if(!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,a=(r-1)*t,i=Math.floor(a),s=+e(n[i],i,n),o=+e(n[i+1],i+1,n);return s+(o-s)*(a-i)}}function Eh(n,t,e=Ga){if(!isNaN(t=+t)){if(r=Float64Array.from(n,(o,l)=>Ga(e(n[l],l,n))),t<=0)return mc(r);if(t>=1)return yc(r);var r,a=Uint32Array.from(n,(o,l)=>l),i=r.length-1,s=Math.floor(i*t);return Bi(a,s,0,i,(o,l)=>He(r[o],r[l])),s=Ah(a.subarray(0,s+1),o=>r[o]),s>=0?s:-1}}function B2(n,t,e){const r=Ii(n),a=Ir(n,.75)-Ir(n,.25);return r&&a?Math.ceil((e-t)/(2*a*Math.pow(r,-1/3))):1}function O2(n,t,e){const r=Ii(n),a=gh(n);return r&&a?Math.ceil((e-t)*Math.cbrt(r)/(3.49*a)):1}function z2(n,t){let e=0,r=0;if(t===void 0)for(let a of n)a!=null&&(a=+a)>=a&&(++e,r+=a);else{let a=-1;for(let i of n)(i=t(i,++a,n))!=null&&(i=+i)>=i&&(++e,r+=i)}if(e)return r/e}function U2(n,t){return Ir(n,.5,t)}function H2(n,t){return Eh(n,.5,t)}function*q2(n){for(const t of n)yield*t}function vc(n){return Array.from(q2(n))}function Y2(n,t){const e=new Rr;if(t===void 0)for(let i of n)i!=null&&i>=i&&e.set(i,(e.get(i)||0)+1);else{let i=-1;for(let s of n)(s=t(s,++i,n))!=null&&s>=s&&e.set(s,(e.get(s)||0)+1)}let r,a=0;for(const[i,s]of e)s>a&&(a=s,r=i);return r}function G2(n,t=X2){const e=[];let r,a=!1;for(const i of n)a&&e.push(t(r,i)),r=i,a=!0;return e}function X2(n,t){return[n,t]}function Bt(n,t,e){n=+n,t=+t,e=(a=arguments.length)<2?(t=n,n=0,1):a<3?1:+e;for(var r=-1,a=Math.max(0,Math.ceil((t-n)/e))|0,i=new Array(a);++r<a;)i[r]=n+r*e;return i}function W2(n,t=fn){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let e=Array.from(n);const r=new Float64Array(e.length);t.length!==2&&(e=e.map(t),t=fn);const a=(o,l)=>t(e[o],e[l]);let i,s;return n=Uint32Array.from(e,(o,l)=>l),n.sort(t===fn?(o,l)=>He(e[o],e[l]):dc(a)),n.forEach((o,l)=>{const c=a(o,i===void 0?o:i);c>=0?((i===void 0||c>0)&&(i=o,s=l),r[o]=s):r[o]=NaN}),r}function V2(n,t=fn){let e,r=!1;if(t.length===1){let a;for(const i of n){const s=t(i);(r?fn(s,a)<0:fn(s,s)===0)&&(e=i,a=s,r=!0)}}else for(const a of n)(r?t(a,e)<0:t(a,a)===0)&&(e=a,r=!0);return e}function Th(n,t=fn){if(t.length===1)return mc(n,t);let e,r=-1,a=-1;for(const i of n)++a,(r<0?t(i,i)===0:t(i,e)<0)&&(e=i,r=a);return r}function j2(n,t=fn){if(t.length===1)return yc(n,t);let e,r=-1,a=-1;for(const i of n)++a,(r<0?t(i,i)===0:t(i,e)>0)&&(e=i,r=a);return r}function Z2(n,t){const e=Th(n,t);return e<0?void 0:e}const Q2=Nh(Math.random);function Nh(n){return function(e,r=0,a=e.length){let i=a-(r=+r);for(;i;){const s=n()*i--|0,o=e[i+r];e[i+r]=e[s+r],e[s+r]=o}return e}}function K2(n,t){let e=0;if(t===void 0)for(let r of n)(r=+r)&&(e+=r);else{let r=-1;for(let a of n)(a=+t(a,++r,n))&&(e+=a)}return e}function Lh(n){if(!(i=n.length))return[];for(var t=-1,e=Va(n,J2),r=new Array(e);++t<e;)for(var a=-1,i,s=r[t]=new Array(i);++a<i;)s[a]=n[a][t];return r}function J2(n){return n.length}function ng(){return Lh(arguments)}function tg(n,t){if(typeof t!="function")throw new TypeError("test is not a function");let e=-1;for(const r of n)if(!t(r,++e,n))return!1;return!0}function eg(n,t){if(typeof t!="function")throw new TypeError("test is not a function");let e=-1;for(const r of n)if(t(r,++e,n))return!0;return!1}function rg(n,t){if(typeof t!="function")throw new TypeError("test is not a function");const e=[];let r=-1;for(const a of n)t(a,++r,n)&&e.push(a);return e}function ag(n,t){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(n,(e,r)=>t(e,r,n))}function ig(n,t,e){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=n[Symbol.iterator]();let a,i,s=-1;if(arguments.length<3){if({done:a,value:e}=r.next(),a)return;++s}for(;{done:a,value:i}=r.next(),!a;)e=t(e,i,++s,n);return e}function sg(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}function og(n,...t){n=new se(n);for(const e of t)for(const r of e)n.delete(r);return n}function cg(n,t){const e=t[Symbol.iterator](),r=new se;for(const a of n){if(r.has(a))return!1;let i,s;for(;({value:i,done:s}=e.next())&&!s;){if(Object.is(a,i))return!1;r.add(i)}}return!0}function lg(n,...t){n=new se(n),t=t.map(fg);n:for(const e of n)for(const r of t)if(!r.has(e)){n.delete(e);continue n}return n}function fg(n){return n instanceof se?n:new se(n)}function Dh(n,t){const e=n[Symbol.iterator](),r=new Set;for(const a of t){const i=ql(a);if(r.has(i))continue;let s,o;for(;{value:s,done:o}=e.next();){if(o)return!1;const l=ql(s);if(r.add(l),Object.is(i,l))break}}return!0}function ql(n){return n!==null&&typeof n=="object"?n.valueOf():n}function ug(n,t){return Dh(t,n)}function hg(...n){const t=new se;for(const e of n)for(const r of e)t.add(r);return t}function dg(n){return n}var $a=1,ka=2,vo=3,mr=4,Yl=1e-6;function pg(n){return"translate("+n+",0)"}function gg(n){return"translate(0,"+n+")"}function yg(n){return t=>+n(t)}function mg(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function vg(){return!this.__axis}function Oi(n,t){var e=[],r=null,a=null,i=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=n===$a||n===mr?-1:1,f=n===mr||n===ka?"x":"y",h=n===$a||n===vo?pg:gg;function u(d){var g=r??(t.ticks?t.ticks.apply(t,e):t.domain()),m=a??(t.tickFormat?t.tickFormat.apply(t,e):dg),p=Math.max(i,0)+o,y=t.range(),b=+y[0]+l,F=+y[y.length-1]+l,v=(t.bandwidth?mg:yg)(t.copy(),l),_=d.selection?d.selection():d,w=_.selectAll(".domain").data([null]),T=_.selectAll(".tick").data(g,t).order(),N=T.exit(),E=T.enter().append("g").attr("class","tick"),C=T.select("line"),M=T.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(E),C=C.merge(E.append("line").attr("stroke","currentColor").attr(f+"2",c*i)),M=M.merge(E.append("text").attr("fill","currentColor").attr(f,c*p).attr("dy",n===$a?"0em":n===vo?"0.71em":"0.32em")),d!==_&&(w=w.transition(d),T=T.transition(d),C=C.transition(d),M=M.transition(d),N=N.transition(d).attr("opacity",Yl).attr("transform",function($){return isFinite($=v($))?h($+l):this.getAttribute("transform")}),E.attr("opacity",Yl).attr("transform",function($){var L=this.parentNode.__axis;return h((L&&isFinite(L=L($))?L:v($))+l)})),N.remove(),w.attr("d",n===mr||n===ka?s?"M"+c*s+","+b+"H"+l+"V"+F+"H"+c*s:"M"+l+","+b+"V"+F:s?"M"+b+","+c*s+"V"+l+"H"+F+"V"+c*s:"M"+b+","+l+"H"+F),T.attr("opacity",1).attr("transform",function($){return h(v($)+l)}),C.attr(f+"2",c*i),M.attr(f,c*p).text(m),_.filter(vg).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===ka?"start":n===mr?"end":"middle"),_.each(function(){this.__axis=v})}return u.scale=function(d){return arguments.length?(t=d,u):t},u.ticks=function(){return e=Array.from(arguments),u},u.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),u):e.slice()},u.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),u):r&&r.slice()},u.tickFormat=function(d){return arguments.length?(a=d,u):a},u.tickSize=function(d){return arguments.length?(i=s=+d,u):i},u.tickSizeInner=function(d){return arguments.length?(i=+d,u):i},u.tickSizeOuter=function(d){return arguments.length?(s=+d,u):s},u.tickPadding=function(d){return arguments.length?(o=+d,u):o},u.offset=function(d){return arguments.length?(l=+d,u):l},u}function Fg(n){return Oi($a,n)}function bg(n){return Oi(ka,n)}function _g(n){return Oi(vo,n)}function wg(n){return Oi(mr,n)}var xg={value:()=>{}};function me(){for(var n=0,t=arguments.length,e={},r;n<t;++n){if(!(r=arguments[n]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ra(e)}function Ra(n){this._=n}function Mg(n,t){return n.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");if(a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ra.prototype=me.prototype={constructor:Ra,on:function(n,t){var e=this._,r=Mg(n+"",e),a,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((a=(n=r[i]).type)&&(a=Sg(e[a],n.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(a=(n=r[i]).type)e[a]=Gl(e[a],n.name,t);else if(t==null)for(a in e)e[a]=Gl(e[a],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Ra(n)},call:function(n,t){if((a=arguments.length-2)>0)for(var e=new Array(a),r=0,a,i;r<a;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=this._[n],r=0,a=i.length;r<a;++r)i[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],a=0,i=r.length;a<i;++a)r[a].value.apply(t,e)}};function Sg(n,t){for(var e=0,r=n.length,a;e<r;++e)if((a=n[e]).name===t)return a.value}function Gl(n,t,e){for(var r=0,a=n.length;r<a;++r)if(n[r].name===t){n[r]=xg,n=n.slice(0,r).concat(n.slice(r+1));break}return e!=null&&n.push({name:t,value:e}),n}var Fo="http://www.w3.org/1999/xhtml";const bo={svg:"http://www.w3.org/2000/svg",xhtml:Fo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jr(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),bo.hasOwnProperty(t)?{space:bo[t],local:n}:n}function Ag(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Fo&&t.documentElement.namespaceURI===Fo?t.createElement(n):t.createElementNS(e,n)}}function Cg(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function zi(n){var t=Jr(n);return(t.local?Cg:Ag)(t)}function Eg(){}function Ui(n){return n==null?Eg:function(){return this.querySelector(n)}}function Tg(n){typeof n!="function"&&(n=Ui(n));for(var t=this._groups,e=t.length,r=new Array(e),a=0;a<e;++a)for(var i=t[a],s=i.length,o=r[a]=new Array(s),l,c,f=0;f<s;++f)(l=i[f])&&(c=n.call(l,l.__data__,f,i))&&("__data__"in l&&(c.__data__=l.__data__),o[f]=c);return new On(r,this._parents)}function $h(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function Ng(){return[]}function Fc(n){return n==null?Ng:function(){return this.querySelectorAll(n)}}function Lg(n){return function(){return $h(n.apply(this,arguments))}}function Dg(n){typeof n=="function"?n=Lg(n):n=Fc(n);for(var t=this._groups,e=t.length,r=[],a=[],i=0;i<e;++i)for(var s=t[i],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(n.call(l,l.__data__,c,s)),a.push(l));return new On(r,a)}function bc(n){return function(){return this.matches(n)}}function kh(n){return function(t){return t.matches(n)}}var $g=Array.prototype.find;function kg(n){return function(){return $g.call(this.children,n)}}function Rg(){return this.firstElementChild}function Pg(n){return this.select(n==null?Rg:kg(typeof n=="function"?n:kh(n)))}var Ig=Array.prototype.filter;function Bg(){return Array.from(this.children)}function Og(n){return function(){return Ig.call(this.children,n)}}function zg(n){return this.selectAll(n==null?Bg:Og(typeof n=="function"?n:kh(n)))}function Ug(n){typeof n!="function"&&(n=bc(n));for(var t=this._groups,e=t.length,r=new Array(e),a=0;a<e;++a)for(var i=t[a],s=i.length,o=r[a]=[],l,c=0;c<s;++c)(l=i[c])&&n.call(l,l.__data__,c,i)&&o.push(l);return new On(r,this._parents)}function Rh(n){return new Array(n.length)}function Hg(){return new On(this._enter||this._groups.map(Rh),this._parents)}function ja(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}ja.prototype={constructor:ja,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function qg(n){return function(){return n}}function Yg(n,t,e,r,a,i){for(var s=0,o,l=t.length,c=i.length;s<c;++s)(o=t[s])?(o.__data__=i[s],r[s]=o):e[s]=new ja(n,i[s]);for(;s<l;++s)(o=t[s])&&(a[s]=o)}function Gg(n,t,e,r,a,i,s){var o,l,c=new Map,f=t.length,h=i.length,u=new Array(f),d;for(o=0;o<f;++o)(l=t[o])&&(u[o]=d=s.call(l,l.__data__,o,t)+"",c.has(d)?a[o]=l:c.set(d,l));for(o=0;o<h;++o)d=s.call(n,i[o],o,i)+"",(l=c.get(d))?(r[o]=l,l.__data__=i[o],c.delete(d)):e[o]=new ja(n,i[o]);for(o=0;o<f;++o)(l=t[o])&&c.get(u[o])===l&&(a[o]=l)}function Xg(n){return n.__data__}function Wg(n,t){if(!arguments.length)return Array.from(this,Xg);var e=t?Gg:Yg,r=this._parents,a=this._groups;typeof n!="function"&&(n=qg(n));for(var i=a.length,s=new Array(i),o=new Array(i),l=new Array(i),c=0;c<i;++c){var f=r[c],h=a[c],u=h.length,d=Vg(n.call(f,f&&f.__data__,c,r)),g=d.length,m=o[c]=new Array(g),p=s[c]=new Array(g),y=l[c]=new Array(u);e(f,h,m,p,y,d,t);for(var b=0,F=0,v,_;b<g;++b)if(v=m[b]){for(b>=F&&(F=b+1);!(_=p[F])&&++F<g;);v._next=_||null}}return s=new On(s,r),s._enter=o,s._exit=l,s}function Vg(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function jg(){return new On(this._exit||this._groups.map(Rh),this._parents)}function Zg(n,t,e){var r=this.enter(),a=this,i=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),t!=null&&(a=t(a),a&&(a=a.selection())),e==null?i.remove():e(i),r&&a?r.merge(a).order():a}function Qg(n){for(var t=n.selection?n.selection():n,e=this._groups,r=t._groups,a=e.length,i=r.length,s=Math.min(a,i),o=new Array(a),l=0;l<s;++l)for(var c=e[l],f=r[l],h=c.length,u=o[l]=new Array(h),d,g=0;g<h;++g)(d=c[g]||f[g])&&(u[g]=d);for(;l<a;++l)o[l]=e[l];return new On(o,this._parents)}function Kg(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r=n[t],a=r.length-1,i=r[a],s;--a>=0;)(s=r[a])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Jg(n){n||(n=ny);function t(h,u){return h&&u?n(h.__data__,u.__data__):!h-!u}for(var e=this._groups,r=e.length,a=new Array(r),i=0;i<r;++i){for(var s=e[i],o=s.length,l=a[i]=new Array(o),c,f=0;f<o;++f)(c=s[f])&&(l[f]=c);l.sort(t)}return new On(a,this._parents).order()}function ny(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function ty(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function ey(){return Array.from(this)}function ry(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],a=0,i=r.length;a<i;++a){var s=r[a];if(s)return s}return null}function ay(){let n=0;for(const t of this)++n;return n}function iy(){return!this.node()}function sy(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var a=t[e],i=0,s=a.length,o;i<s;++i)(o=a[i])&&n.call(o,o.__data__,i,a);return this}function oy(n){return function(){this.removeAttribute(n)}}function cy(n){return function(){this.removeAttributeNS(n.space,n.local)}}function ly(n,t){return function(){this.setAttribute(n,t)}}function fy(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function uy(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function hy(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function dy(n,t){var e=Jr(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((t==null?e.local?cy:oy:typeof t=="function"?e.local?hy:uy:e.local?fy:ly)(e,t))}function _c(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function py(n){return function(){this.style.removeProperty(n)}}function gy(n,t,e){return function(){this.style.setProperty(n,t,e)}}function yy(n,t,e){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function my(n,t,e){return arguments.length>1?this.each((t==null?py:typeof t=="function"?yy:gy)(n,t,e??"")):le(this.node(),n)}function le(n,t){return n.style.getPropertyValue(t)||_c(n).getComputedStyle(n,null).getPropertyValue(t)}function vy(n){return function(){delete this[n]}}function Fy(n,t){return function(){this[n]=t}}function by(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function _y(n,t){return arguments.length>1?this.each((t==null?vy:typeof t=="function"?by:Fy)(n,t)):this.node()[n]}function Ph(n){return n.trim().split(/^|\s+/)}function wc(n){return n.classList||new Ih(n)}function Ih(n){this._node=n,this._names=Ph(n.getAttribute("class")||"")}Ih.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Bh(n,t){for(var e=wc(n),r=-1,a=t.length;++r<a;)e.add(t[r])}function Oh(n,t){for(var e=wc(n),r=-1,a=t.length;++r<a;)e.remove(t[r])}function wy(n){return function(){Bh(this,n)}}function xy(n){return function(){Oh(this,n)}}function My(n,t){return function(){(t.apply(this,arguments)?Bh:Oh)(this,n)}}function Sy(n,t){var e=Ph(n+"");if(arguments.length<2){for(var r=wc(this.node()),a=-1,i=e.length;++a<i;)if(!r.contains(e[a]))return!1;return!0}return this.each((typeof t=="function"?My:t?wy:xy)(e,t))}function Ay(){this.textContent=""}function Cy(n){return function(){this.textContent=n}}function Ey(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function Ty(n){return arguments.length?this.each(n==null?Ay:(typeof n=="function"?Ey:Cy)(n)):this.node().textContent}function Ny(){this.innerHTML=""}function Ly(n){return function(){this.innerHTML=n}}function Dy(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function $y(n){return arguments.length?this.each(n==null?Ny:(typeof n=="function"?Dy:Ly)(n)):this.node().innerHTML}function ky(){this.nextSibling&&this.parentNode.appendChild(this)}function Ry(){return this.each(ky)}function Py(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Iy(){return this.each(Py)}function By(n){var t=typeof n=="function"?n:zi(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Oy(){return null}function zy(n,t){var e=typeof n=="function"?n:zi(n),r=t==null?Oy:typeof t=="function"?t:Ui(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Uy(){var n=this.parentNode;n&&n.removeChild(this)}function Hy(){return this.each(Uy)}function qy(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Yy(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Gy(n){return this.select(n?Yy:qy)}function Xy(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Wy(n){return function(t){n.call(this,t,this.__data__)}}function Vy(n){return n.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}})}function jy(n){return function(){var t=this.__on;if(t){for(var e=0,r=-1,a=t.length,i;e<a;++e)i=t[e],(!n.type||i.type===n.type)&&i.name===n.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Zy(n,t,e){return function(){var r=this.__on,a,i=Wy(t);if(r){for(var s=0,o=r.length;s<o;++s)if((a=r[s]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=e),a.value=t;return}}this.addEventListener(n.type,i,e),a={type:n.type,name:n.name,value:t,listener:i,options:e},r?r.push(a):this.__on=[a]}}function Qy(n,t,e){var r=Vy(n+""),a,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,f;l<c;++l)for(a=0,f=o[l];a<i;++a)if((s=r[a]).type===f.type&&s.name===f.name)return f.value}return}for(o=t?Zy:jy,a=0;a<i;++a)this.each(o(r[a],t,e));return this}function zh(n,t,e){var r=_c(n),a=r.CustomEvent;typeof a=="function"?a=new a(t,e):(a=r.document.createEvent("Event"),e?(a.initEvent(t,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(t,!1,!1)),n.dispatchEvent(a)}function Ky(n,t){return function(){return zh(this,n,t)}}function Jy(n,t){return function(){return zh(this,n,t.apply(this,arguments))}}function nm(n,t){return this.each((typeof t=="function"?Jy:Ky)(n,t))}function*tm(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],a=0,i=r.length,s;a<i;++a)(s=r[a])&&(yield s)}var xc=[null];function On(n,t){this._groups=n,this._parents=t}function ve(){return new On([[document.documentElement]],xc)}function em(){return this}On.prototype=ve.prototype={constructor:On,select:Tg,selectAll:Dg,selectChild:Pg,selectChildren:zg,filter:Ug,data:Wg,enter:Hg,exit:jg,join:Zg,merge:Qg,selection:em,order:Kg,sort:Jg,call:ty,nodes:ey,node:ry,size:ay,empty:iy,each:sy,attr:dy,style:my,property:_y,classed:Sy,text:Ty,html:$y,raise:Ry,lower:Iy,append:By,insert:zy,remove:Hy,clone:Gy,datum:Xy,on:Qy,dispatch:nm,[Symbol.iterator]:tm};function Nn(n){return typeof n=="string"?new On([[document.querySelector(n)]],[document.documentElement]):new On([[n]],xc)}function rm(n){return Nn(zi(n).call(document.documentElement))}var am=0;function Uh(){return new _o}function _o(){this._="@"+(++am).toString(36)}_o.prototype=Uh.prototype={constructor:_o,get:function(n){for(var t=this._;!(t in n);)if(!(n=n.parentNode))return;return n[t]},set:function(n,t){return n[this._]=t},remove:function(n){return this._ in n&&delete n[this._]},toString:function(){return this._}};function Hh(n){let t;for(;t=n.sourceEvent;)n=t;return n}function jn(n,t){if(n=Hh(n),t===void 0&&(t=n.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[n.clientX-a.left-t.clientLeft,n.clientY-a.top-t.clientTop]}}return[n.pageX,n.pageY]}function im(n,t){return n.target&&(n=Hh(n),t===void 0&&(t=n.currentTarget),n=n.touches||[n]),Array.from(n,e=>jn(e,t))}function sm(n){return typeof n=="string"?new On([document.querySelectorAll(n)],[document.documentElement]):new On([$h(n)],xc)}const om={passive:!1},Br={capture:!0,passive:!1};function Ns(n){n.stopImmediatePropagation()}function Pe(n){n.preventDefault(),n.stopImmediatePropagation()}function Hi(n){var t=n.document.documentElement,e=Nn(n).on("dragstart.drag",Pe,Br);"onselectstart"in t?e.on("selectstart.drag",Pe,Br):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function qi(n,t){var e=n.document.documentElement,r=Nn(n).on("dragstart.drag",null);t&&(r.on("click.drag",Pe,Br),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}const ha=n=>()=>n;function wo(n,{sourceEvent:t,subject:e,target:r,identifier:a,active:i,x:s,y:o,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}wo.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function cm(n){return!n.ctrlKey&&!n.button}function lm(){return this.parentNode}function fm(n,t){return t??{x:n.x,y:n.y}}function um(){return navigator.maxTouchPoints||"ontouchstart"in this}function hm(){var n=cm,t=lm,e=fm,r=um,a={},i=me("start","drag","end"),s=0,o,l,c,f,h=0;function u(v){v.on("mousedown.drag",d).filter(r).on("touchstart.drag",p).on("touchmove.drag",y,om).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(v,_){if(!(f||!n.call(this,v,_))){var w=F(this,t.call(this,v,_),v,_,"mouse");w&&(Nn(v.view).on("mousemove.drag",g,Br).on("mouseup.drag",m,Br),Hi(v.view),Ns(v),c=!1,o=v.clientX,l=v.clientY,w("start",v))}}function g(v){if(Pe(v),!c){var _=v.clientX-o,w=v.clientY-l;c=_*_+w*w>h}a.mouse("drag",v)}function m(v){Nn(v.view).on("mousemove.drag mouseup.drag",null),qi(v.view,c),Pe(v),a.mouse("end",v)}function p(v,_){if(n.call(this,v,_)){var w=v.changedTouches,T=t.call(this,v,_),N=w.length,E,C;for(E=0;E<N;++E)(C=F(this,T,v,_,w[E].identifier,w[E]))&&(Ns(v),C("start",v,w[E]))}}function y(v){var _=v.changedTouches,w=_.length,T,N;for(T=0;T<w;++T)(N=a[_[T].identifier])&&(Pe(v),N("drag",v,_[T]))}function b(v){var _=v.changedTouches,w=_.length,T,N;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),T=0;T<w;++T)(N=a[_[T].identifier])&&(Ns(v),N("end",v,_[T]))}function F(v,_,w,T,N,E){var C=i.copy(),M=jn(E||w,_),$,L,x;if((x=e.call(v,new wo("beforestart",{sourceEvent:w,target:u,identifier:N,active:s,x:M[0],y:M[1],dx:0,dy:0,dispatch:C}),T))!=null)return $=x.x-M[0]||0,L=x.y-M[1]||0,function A(S,D,R){var k=M,I;switch(S){case"start":a[N]=A,I=s++;break;case"end":delete a[N],--s;case"drag":M=jn(R||D,_),I=s;break}C.call(S,v,new wo(S,{sourceEvent:D,subject:x,target:u,identifier:N,active:I,x:M[0]+$,y:M[1]+L,dx:M[0]-k[0],dy:M[1]-k[1],dispatch:C}),T)}}return u.filter=function(v){return arguments.length?(n=typeof v=="function"?v:ha(!!v),u):n},u.container=function(v){return arguments.length?(t=typeof v=="function"?v:ha(v),u):t},u.subject=function(v){return arguments.length?(e=typeof v=="function"?v:ha(v),u):e},u.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:ha(!!v),u):r},u.on=function(){var v=i.on.apply(i,arguments);return v===i?u:v},u.clickDistance=function(v){return arguments.length?(h=(v=+v)*v,u):Math.sqrt(h)},u}function ar(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function na(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function Xt(){}var fe=.7,qe=1/fe,Ie="\\s*([+-]?\\d+)\\s*",Or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dm=/^#([0-9a-f]{3,8})$/,pm=new RegExp(`^rgb\\(${Ie},${Ie},${Ie}\\)$`),gm=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),ym=new RegExp(`^rgba\\(${Ie},${Ie},${Ie},${Or}\\)$`),mm=new RegExp(`^rgba\\(${pt},${pt},${pt},${Or}\\)$`),vm=new RegExp(`^hsl\\(${Or},${pt},${pt}\\)$`),Fm=new RegExp(`^hsla\\(${Or},${pt},${pt},${Or}\\)$`),Xl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ar(Xt,Ht,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Wl,formatHex:Wl,formatHex8:bm,formatHsl:_m,formatRgb:Vl,toString:Vl});function Wl(){return this.rgb().formatHex()}function bm(){return this.rgb().formatHex8()}function _m(){return qh(this).formatHsl()}function Vl(){return this.rgb().formatRgb()}function Ht(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=dm.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?jl(t):e===3?new bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?da(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?da(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pm.exec(n))?new bn(t[1],t[2],t[3],1):(t=gm.exec(n))?new bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ym.exec(n))?da(t[1],t[2],t[3],t[4]):(t=mm.exec(n))?da(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vm.exec(n))?Kl(t[1],t[2]/100,t[3]/100,1):(t=Fm.exec(n))?Kl(t[1],t[2]/100,t[3]/100,t[4]):Xl.hasOwnProperty(n)?jl(Xl[n]):n==="transparent"?new bn(NaN,NaN,NaN,0):null}function jl(n){return new bn(n>>16&255,n>>8&255,n&255,1)}function da(n,t,e,r){return r<=0&&(n=t=e=NaN),new bn(n,t,e,r)}function Mc(n){return n instanceof Xt||(n=Ht(n)),n?(n=n.rgb(),new bn(n.r,n.g,n.b,n.opacity)):new bn}function Ye(n,t,e,r){return arguments.length===1?Mc(n):new bn(n,t,e,r??1)}function bn(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}ar(bn,Ye,na(Xt,{brighter(n){return n=n==null?qe:Math.pow(qe,n),new bn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?fe:Math.pow(fe,n),new bn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new bn(re(this.r),re(this.g),re(this.b),Za(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zl,formatHex:Zl,formatHex8:wm,formatRgb:Ql,toString:Ql}));function Zl(){return`#${te(this.r)}${te(this.g)}${te(this.b)}`}function wm(){return`#${te(this.r)}${te(this.g)}${te(this.b)}${te((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ql(){const n=Za(this.opacity);return`${n===1?"rgb(":"rgba("}${re(this.r)}, ${re(this.g)}, ${re(this.b)}${n===1?")":`, ${n})`}`}function Za(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function re(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function te(n){return n=re(n),(n<16?"0":"")+n.toString(16)}function Kl(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new at(n,t,e,r)}function qh(n){if(n instanceof at)return new at(n.h,n.s,n.l,n.opacity);if(n instanceof Xt||(n=Ht(n)),!n)return new at;if(n instanceof at)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,a=Math.min(t,e,r),i=Math.max(t,e,r),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(e-r)/o+(e<r)*6:e===i?s=(r-t)/o+2:s=(t-e)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new at(s,o,l,n.opacity)}function Qa(n,t,e,r){return arguments.length===1?qh(n):new at(n,t,e,r??1)}function at(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}ar(at,Qa,na(Xt,{brighter(n){return n=n==null?qe:Math.pow(qe,n),new at(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?fe:Math.pow(fe,n),new at(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,a=2*e-r;return new bn(Ls(n>=240?n-240:n+120,a,r),Ls(n,a,r),Ls(n<120?n+240:n-120,a,r),this.opacity)},clamp(){return new at(Jl(this.h),pa(this.s),pa(this.l),Za(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Za(this.opacity);return`${n===1?"hsl(":"hsla("}${Jl(this.h)}, ${pa(this.s)*100}%, ${pa(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Jl(n){return n=(n||0)%360,n<0?n+360:n}function pa(n){return Math.max(0,Math.min(1,n||0))}function Ls(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const Yh=Math.PI/180,Gh=180/Math.PI,Ka=18,Xh=.96422,Wh=1,Vh=.82521,jh=4/29,Be=6/29,Zh=3*Be*Be,xm=Be*Be*Be;function Qh(n){if(n instanceof ot)return new ot(n.l,n.a,n.b,n.opacity);if(n instanceof ht)return Jh(n);n instanceof bn||(n=Mc(n));var t=Rs(n.r),e=Rs(n.g),r=Rs(n.b),a=Ds((.2225045*t+.7168786*e+.0606169*r)/Wh),i,s;return t===e&&e===r?i=s=a:(i=Ds((.4360747*t+.3850649*e+.1430804*r)/Xh),s=Ds((.0139322*t+.0971045*e+.7141733*r)/Vh)),new ot(116*a-16,500*(i-a),200*(a-s),n.opacity)}function Mm(n,t){return new ot(n,0,0,t??1)}function Ja(n,t,e,r){return arguments.length===1?Qh(n):new ot(n,t,e,r??1)}function ot(n,t,e,r){this.l=+n,this.a=+t,this.b=+e,this.opacity=+r}ar(ot,Ja,na(Xt,{brighter(n){return new ot(this.l+Ka*(n??1),this.a,this.b,this.opacity)},darker(n){return new ot(this.l-Ka*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return t=Xh*$s(t),n=Wh*$s(n),e=Vh*$s(e),new bn(ks(3.1338561*t-1.6168667*n-.4906146*e),ks(-.9787684*t+1.9161415*n+.033454*e),ks(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}}));function Ds(n){return n>xm?Math.pow(n,1/3):n/Zh+jh}function $s(n){return n>Be?n*n*n:Zh*(n-jh)}function ks(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Rs(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Kh(n){if(n instanceof ht)return new ht(n.h,n.c,n.l,n.opacity);if(n instanceof ot||(n=Qh(n)),n.a===0&&n.b===0)return new ht(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*Gh;return new ht(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function Sm(n,t,e,r){return arguments.length===1?Kh(n):new ht(e,t,n,r??1)}function ni(n,t,e,r){return arguments.length===1?Kh(n):new ht(n,t,e,r??1)}function ht(n,t,e,r){this.h=+n,this.c=+t,this.l=+e,this.opacity=+r}function Jh(n){if(isNaN(n.h))return new ot(n.l,0,0,n.opacity);var t=n.h*Yh;return new ot(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}ar(ht,ni,na(Xt,{brighter(n){return new ht(this.h,this.c,this.l+Ka*(n??1),this.opacity)},darker(n){return new ht(this.h,this.c,this.l-Ka*(n??1),this.opacity)},rgb(){return Jh(this).rgb()}}));var nd=-.14861,Sc=1.78277,Ac=-.29227,Yi=-.90649,zr=1.97294,nf=zr*Yi,tf=zr*Sc,ef=Sc*Ac-Yi*nd;function Am(n){if(n instanceof ae)return new ae(n.h,n.s,n.l,n.opacity);n instanceof bn||(n=Mc(n));var t=n.r/255,e=n.g/255,r=n.b/255,a=(ef*r+nf*t-tf*e)/(ef+nf-tf),i=r-a,s=(zr*(e-a)-Ac*i)/Yi,o=Math.sqrt(s*s+i*i)/(zr*a*(1-a)),l=o?Math.atan2(s,i)*Gh-120:NaN;return new ae(l<0?l+360:l,o,a,n.opacity)}function ct(n,t,e,r){return arguments.length===1?Am(n):new ae(n,t,e,r??1)}function ae(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}ar(ae,ct,na(Xt,{brighter(n){return n=n==null?qe:Math.pow(qe,n),new ae(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?fe:Math.pow(fe,n),new ae(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*Yh,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),a=Math.sin(n);return new bn(255*(t+e*(nd*r+Sc*a)),255*(t+e*(Ac*r+Yi*a)),255*(t+e*(zr*r)),this.opacity)}}));function td(n,t,e,r,a){var i=n*n,s=i*n;return((1-3*n+3*i-s)*t+(4-6*i+3*s)*e+(1+3*n+3*i-3*s)*r+s*a)/6}function ed(n){var t=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),a=n[r],i=n[r+1],s=r>0?n[r-1]:2*a-i,o=r<t-1?n[r+2]:2*i-a;return td((e-r/t)*t,s,a,i,o)}}function rd(n){var t=n.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*t),a=n[(r+t-1)%t],i=n[r%t],s=n[(r+1)%t],o=n[(r+2)%t];return td((e-r/t)*t,a,i,s,o)}}const Gi=n=>()=>n;function ad(n,t){return function(e){return n+e*t}}function Cm(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function Xi(n,t){var e=t-n;return e?ad(n,e>180||e<-180?e-360*Math.round(e/360):e):Gi(isNaN(n)?t:n)}function Em(n){return(n=+n)==1?_n:function(t,e){return e-t?Cm(t,e,n):Gi(isNaN(t)?e:t)}}function _n(n,t){var e=t-n;return e?ad(n,e):Gi(isNaN(n)?t:n)}const Ur=function n(t){var e=Em(t);function r(a,i){var s=e((a=Ye(a)).r,(i=Ye(i)).r),o=e(a.g,i.g),l=e(a.b,i.b),c=_n(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=l(f),a.opacity=c(f),a+""}}return r.gamma=n,r}(1);function id(n){return function(t){var e=t.length,r=new Array(e),a=new Array(e),i=new Array(e),s,o;for(s=0;s<e;++s)o=Ye(t[s]),r[s]=o.r||0,a[s]=o.g||0,i[s]=o.b||0;return r=n(r),a=n(a),i=n(i),o.opacity=1,function(l){return o.r=r(l),o.g=a(l),o.b=i(l),o+""}}}var sd=id(ed),Tm=id(rd);function Cc(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),a;return function(i){for(a=0;a<e;++a)r[a]=n[a]*(1-i)+t[a]*i;return r}}function od(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Nm(n,t){return(od(t)?Cc:cd)(n,t)}function cd(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,a=new Array(r),i=new Array(e),s;for(s=0;s<r;++s)a[s]=Wt(n[s],t[s]);for(;s<e;++s)i[s]=t[s];return function(o){for(s=0;s<r;++s)i[s]=a[s](o);return i}}function ld(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function Jn(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function fd(n,t){var e={},r={},a;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in n?e[a]=Wt(n[a],t[a]):r[a]=t[a];return function(i){for(a in e)r[a]=e[a](i);return r}}var xo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ps=new RegExp(xo.source,"g");function Lm(n){return function(){return n}}function Dm(n){return function(t){return n(t)+""}}function Ec(n,t){var e=xo.lastIndex=Ps.lastIndex=0,r,a,i,s=-1,o=[],l=[];for(n=n+"",t=t+"";(r=xo.exec(n))&&(a=Ps.exec(t));)(i=a.index)>e&&(i=t.slice(e,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Jn(r,a)})),e=Ps.lastIndex;return e<t.length&&(i=t.slice(e),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?Dm(l[0].x):Lm(t):(t=l.length,function(c){for(var f=0,h;f<t;++f)o[(h=l[f]).i]=h.x(c);return o.join("")})}function Wt(n,t){var e=typeof t,r;return t==null||e==="boolean"?Gi(t):(e==="number"?Jn:e==="string"?(r=Ht(t))?(t=r,Ur):Ec:t instanceof Ht?Ur:t instanceof Date?ld:od(t)?Cc:Array.isArray(t)?cd:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fd:Jn)(n,t)}function $m(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}}function km(n,t){var e=Xi(+n,+t);return function(r){var a=e(r);return a-360*Math.floor(a/360)}}function Wi(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var rf=180/Math.PI,Mo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ud(n,t,e,r,a,i){var s,o,l;return(s=Math.sqrt(n*n+t*t))&&(n/=s,t/=s),(l=n*e+t*r)&&(e-=n*l,r-=t*l),(o=Math.sqrt(e*e+r*r))&&(e/=o,r/=o,l/=o),n*r<t*e&&(n=-n,t=-t,l=-l,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(t,n)*rf,skewX:Math.atan(l)*rf,scaleX:s,scaleY:o}}var ga;function Rm(n){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Mo:ud(t.a,t.b,t.c,t.d,t.e,t.f)}function Pm(n){return n==null||(ga||(ga=document.createElementNS("http://www.w3.org/2000/svg","g")),ga.setAttribute("transform",n),!(n=ga.transform.baseVal.consolidate()))?Mo:(n=n.matrix,ud(n.a,n.b,n.c,n.d,n.e,n.f))}function hd(n,t,e,r){function a(c){return c.length?c.pop()+" ":""}function i(c,f,h,u,d,g){if(c!==h||f!==u){var m=d.push("translate(",null,t,null,e);g.push({i:m-4,x:Jn(c,h)},{i:m-2,x:Jn(f,u)})}else(h||u)&&d.push("translate("+h+t+u+e)}function s(c,f,h,u){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),u.push({i:h.push(a(h)+"rotate(",null,r)-2,x:Jn(c,f)})):f&&h.push(a(h)+"rotate("+f+r)}function o(c,f,h,u){c!==f?u.push({i:h.push(a(h)+"skewX(",null,r)-2,x:Jn(c,f)}):f&&h.push(a(h)+"skewX("+f+r)}function l(c,f,h,u,d,g){if(c!==h||f!==u){var m=d.push(a(d)+"scale(",null,",",null,")");g.push({i:m-4,x:Jn(c,h)},{i:m-2,x:Jn(f,u)})}else(h!==1||u!==1)&&d.push(a(d)+"scale("+h+","+u+")")}return function(c,f){var h=[],u=[];return c=n(c),f=n(f),i(c.translateX,c.translateY,f.translateX,f.translateY,h,u),s(c.rotate,f.rotate,h,u),o(c.skewX,f.skewX,h,u),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,h,u),c=f=null,function(d){for(var g=-1,m=u.length,p;++g<m;)h[(p=u[g]).i]=p.x(d);return h.join("")}}}var dd=hd(Rm,"px, ","px)","deg)"),pd=hd(Pm,", ",")",")"),Im=1e-12;function af(n){return((n=Math.exp(n))+1/n)/2}function Bm(n){return((n=Math.exp(n))-1/n)/2}function Om(n){return((n=Math.exp(2*n))-1)/(n+1)}const gd=function n(t,e,r){function a(i,s){var o=i[0],l=i[1],c=i[2],f=s[0],h=s[1],u=s[2],d=f-o,g=h-l,m=d*d+g*g,p,y;if(m<Im)y=Math.log(u/c)/t,p=function(T){return[o+T*d,l+T*g,c*Math.exp(t*T*y)]};else{var b=Math.sqrt(m),F=(u*u-c*c+r*m)/(2*c*e*b),v=(u*u-c*c-r*m)/(2*u*e*b),_=Math.log(Math.sqrt(F*F+1)-F),w=Math.log(Math.sqrt(v*v+1)-v);y=(w-_)/t,p=function(T){var N=T*y,E=af(_),C=c/(e*b)*(E*Om(t*N+_)-Bm(_));return[o+C*d,l+C*g,c*E/af(t*N+_)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return a.rho=function(i){var s=Math.max(.001,+i),o=s*s,l=o*o;return n(s,o,l)},a}(Math.SQRT2,2,4);function yd(n){return function(t,e){var r=n((t=Qa(t)).h,(e=Qa(e)).h),a=_n(t.s,e.s),i=_n(t.l,e.l),s=_n(t.opacity,e.opacity);return function(o){return t.h=r(o),t.s=a(o),t.l=i(o),t.opacity=s(o),t+""}}}const zm=yd(Xi);var Um=yd(_n);function Hm(n,t){var e=_n((n=Ja(n)).l,(t=Ja(t)).l),r=_n(n.a,t.a),a=_n(n.b,t.b),i=_n(n.opacity,t.opacity);return function(s){return n.l=e(s),n.a=r(s),n.b=a(s),n.opacity=i(s),n+""}}function md(n){return function(t,e){var r=n((t=ni(t)).h,(e=ni(e)).h),a=_n(t.c,e.c),i=_n(t.l,e.l),s=_n(t.opacity,e.opacity);return function(o){return t.h=r(o),t.c=a(o),t.l=i(o),t.opacity=s(o),t+""}}}const qm=md(Xi);var Ym=md(_n);function vd(n){return function t(e){e=+e;function r(a,i){var s=n((a=ct(a)).h,(i=ct(i)).h),o=_n(a.s,i.s),l=_n(a.l,i.l),c=_n(a.opacity,i.opacity);return function(f){return a.h=s(f),a.s=o(f),a.l=l(Math.pow(f,e)),a.opacity=c(f),a+""}}return r.gamma=t,r}(1)}const Gm=vd(Xi);var Vi=vd(_n);function Fd(n,t){t===void 0&&(t=n,n=Wt);for(var e=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);e<r;)i[e]=n(a,a=t[++e]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return i[o](s-o)}}function Xm(n,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=n(r/(t-1));return e}var Ge=0,vr=0,fr=0,bd=1e3,ti,Fr,ei=0,ue=0,ji=0,Hr=typeof performance=="object"&&performance.now?performance:Date,_d=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function ta(){return ue||(_d(Wm),ue=Hr.now()+ji)}function Wm(){ue=0}function qr(){this._call=this._time=this._next=null}qr.prototype=Zi.prototype={constructor:qr,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?ta():+e)+(t==null?0:+t),!this._next&&Fr!==this&&(Fr?Fr._next=this:ti=this,Fr=this),this._call=n,this._time=e,So()},stop:function(){this._call&&(this._call=null,this._time=1/0,So())}};function Zi(n,t,e){var r=new qr;return r.restart(n,t,e),r}function wd(){ta(),++Ge;for(var n=ti,t;n;)(t=ue-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Ge}function sf(){ue=(ei=Hr.now())+ji,Ge=vr=0;try{wd()}finally{Ge=0,jm(),ue=0}}function Vm(){var n=Hr.now(),t=n-ei;t>bd&&(ji-=t,ei=n)}function jm(){for(var n,t=ti,e,r=1/0;t;)t._call?(r>t._time&&(r=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:ti=e);Fr=n,So(r)}function So(n){if(!Ge){vr&&(vr=clearTimeout(vr));var t=n-ue;t>24?(n<1/0&&(vr=setTimeout(sf,n-Hr.now()-ji)),fr&&(fr=clearInterval(fr))):(fr||(ei=Hr.now(),fr=setInterval(Vm,bd)),Ge=1,_d(sf))}}function Ao(n,t,e){var r=new qr;return t=t==null?0:+t,r.restart(a=>{r.stop(),n(a+t)},t,e),r}function Zm(n,t,e){var r=new qr,a=t;return t==null?(r.restart(n,t,e),r):(r._restart=r.restart,r.restart=function(i,s,o){s=+s,o=o==null?ta():+o,r._restart(function l(c){c+=a,r._restart(l,a+=s,o),i(c)},s,o)},r.restart(n,t,e),r)}var Qm=me("start","end","cancel","interrupt"),Km=[],xd=0,Co=1,Eo=2,Pa=3,of=4,To=5,Ia=6;function Qi(n,t,e,r,a,i){var s=n.__transition;if(!s)n.__transition={};else if(e in s)return;Jm(n,e,{name:t,index:r,group:a,on:Qm,tween:Km,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:xd})}function Tc(n,t){var e=lt(n,t);if(e.state>xd)throw new Error("too late; already scheduled");return e}function Ft(n,t){var e=lt(n,t);if(e.state>Pa)throw new Error("too late; already running");return e}function lt(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function Jm(n,t,e){var r=n.__transition,a;r[t]=e,e.timer=Zi(i,0,e.time);function i(c){e.state=Co,e.timer.restart(s,e.delay,e.time),e.delay<=c&&s(c-e.delay)}function s(c){var f,h,u,d;if(e.state!==Co)return l();for(f in r)if(d=r[f],d.name===e.name){if(d.state===Pa)return Ao(s);d.state===of?(d.state=Ia,d.timer.stop(),d.on.call("interrupt",n,n.__data__,d.index,d.group),delete r[f]):+f<t&&(d.state=Ia,d.timer.stop(),d.on.call("cancel",n,n.__data__,d.index,d.group),delete r[f])}if(Ao(function(){e.state===Pa&&(e.state=of,e.timer.restart(o,e.delay,e.time),o(c))}),e.state=Eo,e.on.call("start",n,n.__data__,e.index,e.group),e.state===Eo){for(e.state=Pa,a=new Array(u=e.tween.length),f=0,h=-1;f<u;++f)(d=e.tween[f].value.call(n,n.__data__,e.index,e.group))&&(a[++h]=d);a.length=h+1}}function o(c){for(var f=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=To,1),h=-1,u=a.length;++h<u;)a[h].call(n,f);e.state===To&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){e.state=Ia,e.timer.stop(),delete r[t];for(var c in r)return;delete n.__transition}}function ie(n,t){var e=n.__transition,r,a,i=!0,s;if(e){t=t==null?null:t+"";for(s in e){if((r=e[s]).name!==t){i=!1;continue}a=r.state>Eo&&r.state<To,r.state=Ia,r.timer.stop(),r.on.call(a?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete e[s]}i&&delete n.__transition}}function nv(n){return this.each(function(){ie(this,n)})}function tv(n,t){var e,r;return function(){var a=Ft(this,n),i=a.tween;if(i!==e){r=e=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function ev(n,t,e){var r,a;if(typeof e!="function")throw new Error;return function(){var i=Ft(this,n),s=i.tween;if(s!==r){a=(r=s).slice();for(var o={name:t,value:e},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=o;break}l===c&&a.push(o)}i.tween=a}}function rv(n,t){var e=this._id;if(n+="",arguments.length<2){for(var r=lt(this.node(),e).tween,a=0,i=r.length,s;a<i;++a)if((s=r[a]).name===n)return s.value;return null}return this.each((t==null?tv:ev)(e,n,t))}function Nc(n,t,e){var r=n._id;return n.each(function(){var a=Ft(this,r);(a.value||(a.value={}))[t]=e.apply(this,arguments)}),function(a){return lt(a,r).value[t]}}function Md(n,t){var e;return(typeof t=="number"?Jn:t instanceof Ht?Ur:(e=Ht(t))?(t=e,Ur):Ec)(n,t)}function av(n){return function(){this.removeAttribute(n)}}function iv(n){return function(){this.removeAttributeNS(n.space,n.local)}}function sv(n,t,e){var r,a=e+"",i;return function(){var s=this.getAttribute(n);return s===a?null:s===r?i:i=t(r=s,e)}}function ov(n,t,e){var r,a=e+"",i;return function(){var s=this.getAttributeNS(n.space,n.local);return s===a?null:s===r?i:i=t(r=s,e)}}function cv(n,t,e){var r,a,i;return function(){var s,o=e(this),l;return o==null?void this.removeAttribute(n):(s=this.getAttribute(n),l=o+"",s===l?null:s===r&&l===a?i:(a=l,i=t(r=s,o)))}}function lv(n,t,e){var r,a,i;return function(){var s,o=e(this),l;return o==null?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local),l=o+"",s===l?null:s===r&&l===a?i:(a=l,i=t(r=s,o)))}}function fv(n,t){var e=Jr(n),r=e==="transform"?pd:Md;return this.attrTween(n,typeof t=="function"?(e.local?lv:cv)(e,r,Nc(this,"attr."+n,t)):t==null?(e.local?iv:av)(e):(e.local?ov:sv)(e,r,t))}function uv(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function hv(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function dv(n,t){var e,r;function a(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&hv(n,i)),e}return a._value=t,a}function pv(n,t){var e,r;function a(){var i=t.apply(this,arguments);return i!==r&&(e=(r=i)&&uv(n,i)),e}return a._value=t,a}function gv(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var r=Jr(n);return this.tween(e,(r.local?dv:pv)(r,t))}function yv(n,t){return function(){Tc(this,n).delay=+t.apply(this,arguments)}}function mv(n,t){return t=+t,function(){Tc(this,n).delay=t}}function vv(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?yv:mv)(t,n)):lt(this.node(),t).delay}function Fv(n,t){return function(){Ft(this,n).duration=+t.apply(this,arguments)}}function bv(n,t){return t=+t,function(){Ft(this,n).duration=t}}function _v(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?Fv:bv)(t,n)):lt(this.node(),t).duration}function wv(n,t){if(typeof t!="function")throw new Error;return function(){Ft(this,n).ease=t}}function xv(n){var t=this._id;return arguments.length?this.each(wv(t,n)):lt(this.node(),t).ease}function Mv(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;Ft(this,n).ease=e}}function Sv(n){if(typeof n!="function")throw new Error;return this.each(Mv(this._id,n))}function Av(n){typeof n!="function"&&(n=bc(n));for(var t=this._groups,e=t.length,r=new Array(e),a=0;a<e;++a)for(var i=t[a],s=i.length,o=r[a]=[],l,c=0;c<s;++c)(l=i[c])&&n.call(l,l.__data__,c,i)&&o.push(l);return new gt(r,this._parents,this._name,this._id)}function Cv(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,r=t.length,a=e.length,i=Math.min(r,a),s=new Array(r),o=0;o<i;++o)for(var l=t[o],c=e[o],f=l.length,h=s[o]=new Array(f),u,d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;o<r;++o)s[o]=t[o];return new gt(s,this._parents,this._name,this._id)}function Ev(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function Tv(n,t,e){var r,a,i=Ev(t)?Tc:Ft;return function(){var s=i(this,n),o=s.on;o!==r&&(a=(r=o).copy()).on(t,e),s.on=a}}function Nv(n,t){var e=this._id;return arguments.length<2?lt(this.node(),e).on.on(n):this.each(Tv(e,n,t))}function Lv(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function Dv(){return this.on("end.remove",Lv(this._id))}function $v(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Ui(n));for(var r=this._groups,a=r.length,i=new Array(a),s=0;s<a;++s)for(var o=r[s],l=o.length,c=i[s]=new Array(l),f,h,u=0;u<l;++u)(f=o[u])&&(h=n.call(f,f.__data__,u,o))&&("__data__"in f&&(h.__data__=f.__data__),c[u]=h,Qi(c[u],t,e,u,c,lt(f,e)));return new gt(i,this._parents,t,e)}function kv(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Fc(n));for(var r=this._groups,a=r.length,i=[],s=[],o=0;o<a;++o)for(var l=r[o],c=l.length,f,h=0;h<c;++h)if(f=l[h]){for(var u=n.call(f,f.__data__,h,l),d,g=lt(f,e),m=0,p=u.length;m<p;++m)(d=u[m])&&Qi(d,t,e,m,u,g);i.push(u),s.push(f)}return new gt(i,s,t,e)}var Rv=ve.prototype.constructor;function Pv(){return new Rv(this._groups,this._parents)}function Iv(n,t){var e,r,a;return function(){var i=le(this,n),s=(this.style.removeProperty(n),le(this,n));return i===s?null:i===e&&s===r?a:a=t(e=i,r=s)}}function Sd(n){return function(){this.style.removeProperty(n)}}function Bv(n,t,e){var r,a=e+"",i;return function(){var s=le(this,n);return s===a?null:s===r?i:i=t(r=s,e)}}function Ov(n,t,e){var r,a,i;return function(){var s=le(this,n),o=e(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(n),le(this,n))),s===l?null:s===r&&l===a?i:(a=l,i=t(r=s,o))}}function zv(n,t){var e,r,a,i="style."+t,s="end."+i,o;return function(){var l=Ft(this,n),c=l.on,f=l.value[i]==null?o||(o=Sd(t)):void 0;(c!==e||a!==f)&&(r=(e=c).copy()).on(s,a=f),l.on=r}}function Uv(n,t,e){var r=(n+="")=="transform"?dd:Md;return t==null?this.styleTween(n,Iv(n,r)).on("end.style."+n,Sd(n)):typeof t=="function"?this.styleTween(n,Ov(n,r,Nc(this,"style."+n,t))).each(zv(this._id,n)):this.styleTween(n,Bv(n,r,t),e).on("end.style."+n,null)}function Hv(n,t,e){return function(r){this.style.setProperty(n,t.call(this,r),e)}}function qv(n,t,e){var r,a;function i(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&Hv(n,s,e)),r}return i._value=t,i}function Yv(n,t,e){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,qv(n,t,e??""))}function Gv(n){return function(){this.textContent=n}}function Xv(n){return function(){var t=n(this);this.textContent=t??""}}function Wv(n){return this.tween("text",typeof n=="function"?Xv(Nc(this,"text",n)):Gv(n==null?"":n+""))}function Vv(n){return function(t){this.textContent=n.call(this,t)}}function jv(n){var t,e;function r(){var a=n.apply(this,arguments);return a!==e&&(t=(e=a)&&Vv(a)),t}return r._value=n,r}function Zv(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,jv(n))}function Qv(){for(var n=this._name,t=this._id,e=Cd(),r=this._groups,a=r.length,i=0;i<a;++i)for(var s=r[i],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var f=lt(l,t);Qi(l,n,e,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new gt(r,this._parents,n,e)}function Kv(){var n,t,e=this,r=e._id,a=e.size();return new Promise(function(i,s){var o={value:s},l={value:function(){--a===0&&i()}};e.each(function(){var c=Ft(this,r),f=c.on;f!==n&&(t=(n=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),a===0&&i()})}var Jv=0;function gt(n,t,e,r){this._groups=n,this._parents=t,this._name=e,this._id=r}function Ad(n){return ve().transition(n)}function Cd(){return++Jv}var wt=ve.prototype;gt.prototype=Ad.prototype={constructor:gt,select:$v,selectAll:kv,selectChild:wt.selectChild,selectChildren:wt.selectChildren,filter:Av,merge:Cv,selection:Pv,transition:Qv,call:wt.call,nodes:wt.nodes,node:wt.node,size:wt.size,empty:wt.empty,each:wt.each,on:Nv,attr:fv,attrTween:gv,style:Uv,styleTween:Yv,text:Wv,textTween:Zv,remove:Dv,tween:rv,delay:vv,duration:_v,ease:xv,easeVarying:Sv,end:Kv,[Symbol.iterator]:wt[Symbol.iterator]};const n8=n=>+n;function t8(n){return n*n}function e8(n){return n*(2-n)}function cf(n){return((n*=2)<=1?n*n:--n*(2-n)+1)/2}function r8(n){return n*n*n}function a8(n){return--n*n*n+1}function No(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Lc=3,i8=function n(t){t=+t;function e(r){return Math.pow(r,t)}return e.exponent=n,e}(Lc),s8=function n(t){t=+t;function e(r){return 1-Math.pow(1-r,t)}return e.exponent=n,e}(Lc),lf=function n(t){t=+t;function e(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return e.exponent=n,e}(Lc),Ed=Math.PI,Td=Ed/2;function o8(n){return+n==1?1:1-Math.cos(n*Td)}function c8(n){return Math.sin(n*Td)}function ff(n){return(1-Math.cos(Ed*n))/2}function qt(n){return(Math.pow(2,-10*n)-.0009765625)*1.0009775171065494}function l8(n){return qt(1-+n)}function f8(n){return 1-qt(n)}function uf(n){return((n*=2)<=1?qt(1-n):2-qt(n-1))/2}function u8(n){return 1-Math.sqrt(1-n*n)}function h8(n){return Math.sqrt(1- --n*n)}function hf(n){return((n*=2)<=1?1-Math.sqrt(1-n*n):Math.sqrt(1-(n-=2)*n)+1)/2}var Lo=4/11,d8=6/11,p8=8/11,g8=3/4,y8=9/11,m8=10/11,v8=15/16,F8=21/22,b8=63/64,ya=1/Lo/Lo;function _8(n){return 1-Yr(1-n)}function Yr(n){return(n=+n)<Lo?ya*n*n:n<p8?ya*(n-=d8)*n+g8:n<m8?ya*(n-=y8)*n+v8:ya*(n-=F8)*n+b8}function w8(n){return((n*=2)<=1?1-Yr(1-n):Yr(n-1)+1)/2}var Dc=1.70158,x8=function n(t){t=+t;function e(r){return(r=+r)*r*(t*(r-1)+r)}return e.overshoot=n,e}(Dc),M8=function n(t){t=+t;function e(r){return--r*r*((r+1)*t+r)+1}return e.overshoot=n,e}(Dc),df=function n(t){t=+t;function e(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return e.overshoot=n,e}(Dc),Xe=2*Math.PI,$c=1,kc=.3,S8=function n(t,e){var r=Math.asin(1/(t=Math.max(1,t)))*(e/=Xe);function a(i){return t*qt(- --i)*Math.sin((r-i)/e)}return a.amplitude=function(i){return n(i,e*Xe)},a.period=function(i){return n(t,i)},a}($c,kc),pf=function n(t,e){var r=Math.asin(1/(t=Math.max(1,t)))*(e/=Xe);function a(i){return 1-t*qt(i=+i)*Math.sin((i+r)/e)}return a.amplitude=function(i){return n(i,e*Xe)},a.period=function(i){return n(t,i)},a}($c,kc),A8=function n(t,e){var r=Math.asin(1/(t=Math.max(1,t)))*(e/=Xe);function a(i){return((i=i*2-1)<0?t*qt(-i)*Math.sin((r-i)/e):2-t*qt(i)*Math.sin((r+i)/e))/2}return a.amplitude=function(i){return n(i,e*Xe)},a.period=function(i){return n(t,i)},a}($c,kc),C8={time:null,delay:0,duration:250,ease:No};function E8(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function T8(n){var t,e;n instanceof gt?(t=n._id,n=n._name):(t=Cd(),(e=C8).time=ta(),n=n==null?null:n+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var s=r[i],o=s.length,l,c=0;c<o;++c)(l=s[c])&&Qi(l,n,t,c,s,e||E8(l,t));return new gt(r,this._parents,n,t)}ve.prototype.interrupt=nv;ve.prototype.transition=T8;var N8=[null];function L8(n,t){var e=n.__transition,r,a;if(e){t=t==null?null:t+"";for(a in e)if((r=e[a]).state>Co&&r.name===t)return new gt([[n]],N8,t,+a)}return null}const Is=n=>()=>n;function D8(n,{sourceEvent:t,target:e,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function $8(n){n.stopImmediatePropagation()}function Bs(n){n.preventDefault(),n.stopImmediatePropagation()}var gf={name:"drag"},Os={name:"space"},Se={name:"handle"},Ae={name:"center"};const{abs:yf,max:Sn,min:An}=Math;function mf(n){return[+n[0],+n[1]]}function Do(n){return[mf(n[0]),mf(n[1])]}var Ba={name:"x",handles:["w","e"].map(Gr),input:function(n,t){return n==null?null:[[+n[0],t[0][1]],[+n[1],t[1][1]]]},output:function(n){return n&&[n[0][0],n[1][0]]}},Oa={name:"y",handles:["n","s"].map(Gr),input:function(n,t){return n==null?null:[[t[0][0],+n[0]],[t[1][0],+n[1]]]},output:function(n){return n&&[n[0][1],n[1][1]]}},k8={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Gr),input:function(n){return n==null?null:Do(n)},output:function(n){return n}},xt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},vf={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ff={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},R8={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},P8={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Gr(n){return{type:n}}function I8(n){return!n.ctrlKey&&!n.button}function B8(){var n=this.ownerSVGElement||this;return n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]}function O8(){return navigator.maxTouchPoints||"ontouchstart"in this}function zs(n){for(;!n.__brush;)if(!(n=n.parentNode))return;return n.__brush}function z8(n){return n[0][0]===n[1][0]||n[0][1]===n[1][1]}function U8(n){var t=n.__brush;return t?t.dim.output(t.selection):null}function H8(){return Rc(Ba)}function q8(){return Rc(Oa)}function Y8(){return Rc(k8)}function Rc(n){var t=B8,e=I8,r=O8,a=!0,i=me("start","brush","end"),s=6,o;function l(p){var y=p.property("__brush",m).selectAll(".overlay").data([Gr("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",xt.overlay).merge(y).each(function(){var F=zs(this).extent;Nn(this).attr("x",F[0][0]).attr("y",F[0][1]).attr("width",F[1][0]-F[0][0]).attr("height",F[1][1]-F[0][1])}),p.selectAll(".selection").data([Gr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",xt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var b=p.selectAll(".handle").data(n.handles,function(F){return F.type});b.exit().remove(),b.enter().append("rect").attr("class",function(F){return"handle handle--"+F.type}).attr("cursor",function(F){return xt[F.type]}),p.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",u).filter(r).on("touchstart.brush",u).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,y,b){p.tween?p.on("start.brush",function(F){f(this,arguments).beforestart().start(F)}).on("interrupt.brush end.brush",function(F){f(this,arguments).end(F)}).tween("brush",function(){var F=this,v=F.__brush,_=f(F,arguments),w=v.selection,T=n.input(typeof y=="function"?y.apply(this,arguments):y,v.extent),N=Wt(w,T);function E(C){v.selection=C===1&&T===null?null:N(C),c.call(F),_.brush()}return w!==null&&T!==null?E:E(1)}):p.each(function(){var F=this,v=arguments,_=F.__brush,w=n.input(typeof y=="function"?y.apply(F,v):y,_.extent),T=f(F,v).beforestart();ie(F),_.selection=w===null?null:w,c.call(F),T.start(b).brush(b).end(b)})},l.clear=function(p,y){l.move(p,null,y)};function c(){var p=Nn(this),y=zs(this).selection;y?(p.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(b){return b.type[b.type.length-1]==="e"?y[1][0]-s/2:y[0][0]-s/2}).attr("y",function(b){return b.type[0]==="s"?y[1][1]-s/2:y[0][1]-s/2}).attr("width",function(b){return b.type==="n"||b.type==="s"?y[1][0]-y[0][0]+s:s}).attr("height",function(b){return b.type==="e"||b.type==="w"?y[1][1]-y[0][1]+s:s})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(p,y,b){var F=p.__brush.emitter;return F&&(!b||!F.clean)?F:new h(p,y,b)}function h(p,y,b){this.that=p,this.args=y,this.state=p.__brush,this.active=0,this.clean=b}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,y){return this.starting?(this.starting=!1,this.emit("start",p,y)):this.emit("brush",p),this},brush:function(p,y){return this.emit("brush",p,y),this},end:function(p,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,y)),this},emit:function(p,y,b){var F=Nn(this.that).datum();i.call(p,this.that,new D8(p,{sourceEvent:y,target:l,selection:n.output(this.state.selection),mode:b,dispatch:i}),F)}};function u(p){if(o&&!p.touches||!e.apply(this,arguments))return;var y=this,b=p.target.__data__.type,F=(a&&p.metaKey?b="overlay":b)==="selection"?gf:a&&p.altKey?Ae:Se,v=n===Oa?null:R8[b],_=n===Ba?null:P8[b],w=zs(y),T=w.extent,N=w.selection,E=T[0][0],C,M,$=T[0][1],L,x,A=T[1][0],S,D,R=T[1][1],k,I,z=0,H=0,en,J=v&&_&&a&&p.shiftKey,K,yn,nn=Array.from(p.touches||[p],G=>{const hn=G.identifier;return G=jn(G,y),G.point0=G.slice(),G.identifier=hn,G});ie(y);var gn=f(y,arguments,!0).beforestart();if(b==="overlay"){N&&(en=!0);const G=[nn[0],nn[1]||nn[0]];w.selection=N=[[C=n===Oa?E:An(G[0][0],G[1][0]),L=n===Ba?$:An(G[0][1],G[1][1])],[S=n===Oa?A:Sn(G[0][0],G[1][0]),k=n===Ba?R:Sn(G[0][1],G[1][1])]],nn.length>1&&un(p)}else C=N[0][0],L=N[0][1],S=N[1][0],k=N[1][1];M=C,x=L,D=S,I=k;var B=Nn(y).attr("pointer-events","none"),X=B.selectAll(".overlay").attr("cursor",xt[b]);if(p.touches)gn.moved=P,gn.ended=rn;else{var j=Nn(p.view).on("mousemove.brush",P,!0).on("mouseup.brush",rn,!0);a&&j.on("keydown.brush",Ln,!0).on("keyup.brush",Dn,!0),Hi(p.view)}c.call(y),gn.start(p,F.name);function P(G){for(const hn of G.changedTouches||[G])for(const or of nn)or.identifier===hn.identifier&&(or.cur=jn(hn,y));if(J&&!K&&!yn&&nn.length===1){const hn=nn[0];yf(hn.cur[0]-hn[0])>yf(hn.cur[1]-hn[1])?yn=!0:K=!0}for(const hn of nn)hn.cur&&(hn[0]=hn.cur[0],hn[1]=hn.cur[1]);en=!0,Bs(G),un(G)}function un(G){const hn=nn[0],or=hn.point0;var Rt;switch(z=hn[0]-or[0],H=hn[1]-or[1],F){case Os:case gf:{v&&(z=Sn(E-C,An(A-S,z)),M=C+z,D=S+z),_&&(H=Sn($-L,An(R-k,H)),x=L+H,I=k+H);break}case Se:{nn[1]?(v&&(M=Sn(E,An(A,nn[0][0])),D=Sn(E,An(A,nn[1][0])),v=1),_&&(x=Sn($,An(R,nn[0][1])),I=Sn($,An(R,nn[1][1])),_=1)):(v<0?(z=Sn(E-C,An(A-C,z)),M=C+z,D=S):v>0&&(z=Sn(E-S,An(A-S,z)),M=C,D=S+z),_<0?(H=Sn($-L,An(R-L,H)),x=L+H,I=k):_>0&&(H=Sn($-k,An(R-k,H)),x=L,I=k+H));break}case Ae:{v&&(M=Sn(E,An(A,C-z*v)),D=Sn(E,An(A,S+z*v))),_&&(x=Sn($,An(R,L-H*_)),I=Sn($,An(R,k+H*_)));break}}D<M&&(v*=-1,Rt=C,C=S,S=Rt,Rt=M,M=D,D=Rt,b in vf&&X.attr("cursor",xt[b=vf[b]])),I<x&&(_*=-1,Rt=L,L=k,k=Rt,Rt=x,x=I,I=Rt,b in Ff&&X.attr("cursor",xt[b=Ff[b]])),w.selection&&(N=w.selection),K&&(M=N[0][0],D=N[1][0]),yn&&(x=N[0][1],I=N[1][1]),(N[0][0]!==M||N[0][1]!==x||N[1][0]!==D||N[1][1]!==I)&&(w.selection=[[M,x],[D,I]],c.call(y),gn.brush(G,F.name))}function rn(G){if($8(G),G.touches){if(G.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else qi(G.view,en),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),X.attr("cursor",xt.overlay),w.selection&&(N=w.selection),z8(N)&&(w.selection=null,c.call(y)),gn.end(G,F.name)}function Ln(G){switch(G.keyCode){case 16:{J=v&&_;break}case 18:{F===Se&&(v&&(S=D-z*v,C=M+z*v),_&&(k=I-H*_,L=x+H*_),F=Ae,un(G));break}case 32:{(F===Se||F===Ae)&&(v<0?S=D-z:v>0&&(C=M-z),_<0?k=I-H:_>0&&(L=x-H),F=Os,X.attr("cursor",xt.selection),un(G));break}default:return}Bs(G)}function Dn(G){switch(G.keyCode){case 16:{J&&(K=yn=J=!1,un(G));break}case 18:{F===Ae&&(v<0?S=D:v>0&&(C=M),_<0?k=I:_>0&&(L=x),F=Se,un(G));break}case 32:{F===Os&&(G.altKey?(v&&(S=D-z*v,C=M+z*v),_&&(k=I-H*_,L=x+H*_),F=Ae):(v<0?S=D:v>0&&(C=M),_<0?k=I:_>0&&(L=x),F=Se),X.attr("cursor",xt[b]),un(G));break}default:return}Bs(G)}}function d(p){f(this,arguments).moved(p)}function g(p){f(this,arguments).ended(p)}function m(){var p=this.__brush||{selection:null};return p.extent=Do(t.apply(this,arguments)),p.dim=n,p}return l.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Is(Do(p)),l):t},l.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Is(!!p),l):e},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Is(!!p),l):r},l.handleSize=function(p){return arguments.length?(s=+p,l):s},l.keyModifiers=function(p){return arguments.length?(a=!!p,l):a},l.on=function(){var p=i.on.apply(i,arguments);return p===i?l:p},l}var bf=Math.abs,Ce=Math.cos,Ee=Math.sin,Nd=Math.PI,ma=Nd/2,_f=Nd*2,wf=Math.max,Us=1e-12;function Hs(n,t){return Array.from({length:t-n},(e,r)=>n+r)}function G8(n){return function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)}}function X8(){return Pc(!1,!1)}function W8(){return Pc(!1,!0)}function V8(){return Pc(!0,!1)}function Pc(n,t){var e=0,r=null,a=null,i=null;function s(o){var l=o.length,c=new Array(l),f=Hs(0,l),h=new Array(l*l),u=new Array(l),d=0,g;o=Float64Array.from({length:l*l},t?(m,p)=>o[p%l][p/l|0]:(m,p)=>o[p/l|0][p%l]);for(let m=0;m<l;++m){let p=0;for(let y=0;y<l;++y)p+=o[m*l+y]+n*o[y*l+m];d+=c[m]=p}d=wf(0,_f-e*l)/d,g=d?e:_f/l;{let m=0;r&&f.sort((p,y)=>r(c[p],c[y]));for(const p of f){const y=m;if(n){const b=Hs(~l+1,l).filter(F=>F<0?o[~F*l+p]:o[p*l+F]);a&&b.sort((F,v)=>a(F<0?-o[~F*l+p]:o[p*l+F],v<0?-o[~v*l+p]:o[p*l+v]));for(const F of b)if(F<0){const v=h[~F*l+p]||(h[~F*l+p]={source:null,target:null});v.target={index:p,startAngle:m,endAngle:m+=o[~F*l+p]*d,value:o[~F*l+p]}}else{const v=h[p*l+F]||(h[p*l+F]={source:null,target:null});v.source={index:p,startAngle:m,endAngle:m+=o[p*l+F]*d,value:o[p*l+F]}}u[p]={index:p,startAngle:y,endAngle:m,value:c[p]}}else{const b=Hs(0,l).filter(F=>o[p*l+F]||o[F*l+p]);a&&b.sort((F,v)=>a(o[p*l+F],o[p*l+v]));for(const F of b){let v;if(p<F?(v=h[p*l+F]||(h[p*l+F]={source:null,target:null}),v.source={index:p,startAngle:m,endAngle:m+=o[p*l+F]*d,value:o[p*l+F]}):(v=h[F*l+p]||(h[F*l+p]={source:null,target:null}),v.target={index:p,startAngle:m,endAngle:m+=o[p*l+F]*d,value:o[p*l+F]},p===F&&(v.source=v.target)),v.source&&v.target&&v.source.value<v.target.value){const _=v.source;v.source=v.target,v.target=_}}u[p]={index:p,startAngle:y,endAngle:m,value:c[p]}}m+=g}}return h=Object.values(h),h.groups=u,i?h.sort(i):h}return s.padAngle=function(o){return arguments.length?(e=wf(0,o),s):e},s.sortGroups=function(o){return arguments.length?(r=o,s):r},s.sortSubgroups=function(o){return arguments.length?(a=o,s):a},s.sortChords=function(o){return arguments.length?(o==null?i=null:(i=G8(o))._=o,s):i&&i._},s}const $o=Math.PI,ko=2*$o,Kt=1e-6,j8=ko-Kt;function Ld(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Z8(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return Ld;const e=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*e)/e+r[a]}}let ea=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ld:Z8(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,a){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,e,r,a,i,s){this._append`C${+t},${+e},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,e,r,a,i){if(t=+t,e=+e,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=r-t,c=a-e,f=s-t,h=o-e,u=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(u>Kt)if(!(Math.abs(h*l-c*f)>Kt)||!i)this._append`L${this._x1=t},${this._y1=e}`;else{let d=r-s,g=a-o,m=l*l+c*c,p=d*d+g*g,y=Math.sqrt(m),b=Math.sqrt(u),F=i*Math.tan(($o-Math.acos((m+u-p)/(2*y*b)))/2),v=F/b,_=F/y;Math.abs(v-1)>Kt&&this._append`L${t+v*f},${e+v*h}`,this._append`A${i},${i},0,0,${+(h*d>f*g)},${this._x1=t+_*l},${this._y1=e+_*c}`}}arc(t,e,r,a,i,s){if(t=+t,e=+e,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(a),l=r*Math.sin(a),c=t+o,f=e+l,h=1^s,u=s?a-i:i-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Kt||Math.abs(this._y1-f)>Kt)&&this._append`L${c},${f}`,r&&(u<0&&(u=u%ko+ko),u>j8?this._append`A${r},${r},0,1,${h},${t-o},${e-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=f}`:u>Kt&&this._append`A${r},${r},0,${+(u>=$o)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=e+r*Math.sin(i)}`)}rect(t,e,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};function Ic(){return new ea}Ic.prototype=ea.prototype;function Q8(n=3){return new ea(+n)}var K8=Array.prototype.slice;function Zt(n){return function(){return n}}function J8(n){return n.source}function n9(n){return n.target}function xf(n){return n.radius}function t9(n){return n.startAngle}function e9(n){return n.endAngle}function r9(){return 0}function a9(){return 10}function Dd(n){var t=J8,e=n9,r=xf,a=xf,i=t9,s=e9,o=r9,l=null;function c(){var f,h=t.apply(this,arguments),u=e.apply(this,arguments),d=o.apply(this,arguments)/2,g=K8.call(arguments),m=+r.apply(this,(g[0]=h,g)),p=i.apply(this,g)-ma,y=s.apply(this,g)-ma,b=+a.apply(this,(g[0]=u,g)),F=i.apply(this,g)-ma,v=s.apply(this,g)-ma;if(l||(l=f=Ic()),d>Us&&(bf(y-p)>d*2+Us?y>p?(p+=d,y-=d):(p-=d,y+=d):p=y=(p+y)/2,bf(v-F)>d*2+Us?v>F?(F+=d,v-=d):(F-=d,v+=d):F=v=(F+v)/2),l.moveTo(m*Ce(p),m*Ee(p)),l.arc(0,0,m,p,y),p!==F||y!==v)if(n){var _=+n.apply(this,arguments),w=b-_,T=(F+v)/2;l.quadraticCurveTo(0,0,w*Ce(F),w*Ee(F)),l.lineTo(b*Ce(T),b*Ee(T)),l.lineTo(w*Ce(v),w*Ee(v))}else l.quadraticCurveTo(0,0,b*Ce(F),b*Ee(F)),l.arc(0,0,b,F,v);if(l.quadraticCurveTo(0,0,m*Ce(p),m*Ee(p)),l.closePath(),f)return l=null,f+""||null}return n&&(c.headRadius=function(f){return arguments.length?(n=typeof f=="function"?f:Zt(+f),c):n}),c.radius=function(f){return arguments.length?(r=a=typeof f=="function"?f:Zt(+f),c):r},c.sourceRadius=function(f){return arguments.length?(r=typeof f=="function"?f:Zt(+f),c):r},c.targetRadius=function(f){return arguments.length?(a=typeof f=="function"?f:Zt(+f),c):a},c.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:Zt(+f),c):i},c.endAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Zt(+f),c):s},c.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Zt(+f),c):o},c.source=function(f){return arguments.length?(t=f,c):t},c.target=function(f){return arguments.length?(e=f,c):e},c.context=function(f){return arguments.length?(l=f??null,c):l},c}function i9(){return Dd()}function s9(){return Dd(a9)}var o9=Array.prototype,$d=o9.slice;function c9(n,t){return n-t}function l9(n){for(var t=0,e=n.length,r=n[e-1][1]*n[0][0]-n[e-1][0]*n[0][1];++t<e;)r+=n[t-1][1]*n[t][0]-n[t-1][0]*n[t][1];return r}const Pt=n=>()=>n;function f9(n,t){for(var e=-1,r=t.length,a;++e<r;)if(a=u9(n,t[e]))return a;return 0}function u9(n,t){for(var e=t[0],r=t[1],a=-1,i=0,s=n.length,o=s-1;i<s;o=i++){var l=n[i],c=l[0],f=l[1],h=n[o],u=h[0],d=h[1];if(h9(l,h,t))return 0;f>r!=d>r&&e<(u-c)*(r-f)/(d-f)+c&&(a=-a)}return a}function h9(n,t,e){var r;return d9(n,t,e)&&p9(n[r=+(n[0]===t[0])],e[r],t[r])}function d9(n,t,e){return(t[0]-n[0])*(e[1]-n[1])===(e[0]-n[0])*(t[1]-n[1])}function p9(n,t,e){return n<=t&&t<=e||e<=t&&t<=n}function g9(){}var Mt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ro(){var n=1,t=1,e=gc,r=l;function a(c){var f=e(c);if(Array.isArray(f))f=f.slice().sort(c9);else{const h=Tr(c,y9);for(f=oe(...pc(h[0],h[1],f),f);f[f.length-1]>=h[1];)f.pop();for(;f[1]<h[0];)f.shift()}return f.map(h=>i(c,h))}function i(c,f){const h=f==null?NaN:+f;if(isNaN(h))throw new Error(`invalid value: ${f}`);var u=[],d=[];return s(c,h,function(g){r(g,c,h),l9(g)>0?u.push([g]):d.push(g)}),d.forEach(function(g){for(var m=0,p=u.length,y;m<p;++m)if(f9((y=u[m])[0],g)!==-1){y.push(g);return}}),{type:"MultiPolygon",value:f,coordinates:u}}function s(c,f,h){var u=new Array,d=new Array,g,m,p,y,b,F;for(g=m=-1,y=Qt(c[0],f),Mt[y<<1].forEach(v);++g<n-1;)p=y,y=Qt(c[g+1],f),Mt[p|y<<1].forEach(v);for(Mt[y<<0].forEach(v);++m<t-1;){for(g=-1,y=Qt(c[m*n+n],f),b=Qt(c[m*n],f),Mt[y<<1|b<<2].forEach(v);++g<n-1;)p=y,y=Qt(c[m*n+n+g+1],f),F=b,b=Qt(c[m*n+g+1],f),Mt[p|y<<1|b<<2|F<<3].forEach(v);Mt[y|b<<3].forEach(v)}for(g=-1,b=c[m*n]>=f,Mt[b<<2].forEach(v);++g<n-1;)F=b,b=Qt(c[m*n+g+1],f),Mt[b<<2|F<<3].forEach(v);Mt[b<<3].forEach(v);function v(_){var w=[_[0][0]+g,_[0][1]+m],T=[_[1][0]+g,_[1][1]+m],N=o(w),E=o(T),C,M;(C=d[N])?(M=u[E])?(delete d[C.end],delete u[M.start],C===M?(C.ring.push(T),h(C.ring)):u[C.start]=d[M.end]={start:C.start,end:M.end,ring:C.ring.concat(M.ring)}):(delete d[C.end],C.ring.push(T),d[C.end=E]=C):(C=u[E])?(M=d[N])?(delete u[C.start],delete d[M.end],C===M?(C.ring.push(T),h(C.ring)):u[M.start]=d[C.end]={start:M.start,end:C.end,ring:M.ring.concat(C.ring)}):(delete u[C.start],C.ring.unshift(w),u[C.start=N]=C):u[N]=d[E]={start:N,end:E,ring:[w,T]}}}function o(c){return c[0]*2+c[1]*(n+1)*4}function l(c,f,h){c.forEach(function(u){var d=u[0],g=u[1],m=d|0,p=g|0,y=qs(f[p*n+m]);d>0&&d<n&&m===d&&(u[0]=Mf(d,qs(f[p*n+m-1]),y,h)),g>0&&g<t&&p===g&&(u[1]=Mf(g,qs(f[(p-1)*n+m]),y,h))})}return a.contour=i,a.size=function(c){if(!arguments.length)return[n,t];var f=Math.floor(c[0]),h=Math.floor(c[1]);if(!(f>=0&&h>=0))throw new Error("invalid size");return n=f,t=h,a},a.thresholds=function(c){return arguments.length?(e=typeof c=="function"?c:Array.isArray(c)?Pt($d.call(c)):Pt(c),a):e},a.smooth=function(c){return arguments.length?(r=c?l:g9,a):r===l},a}function y9(n){return isFinite(n)?n:NaN}function Qt(n,t){return n==null?!1:+n>=t}function qs(n){return n==null||isNaN(n=+n)?-1/0:n}function Mf(n,t,e,r){const a=r-t,i=e-t,s=isFinite(a)||isFinite(i)?a/i:Math.sign(a)/Math.sign(i);return isNaN(s)?n:n+s-.5}function m9(n){return n[0]}function v9(n){return n[1]}function F9(){return 1}function b9(){var n=m9,t=v9,e=F9,r=960,a=500,i=20,s=2,o=i*3,l=r+o*2>>s,c=a+o*2>>s,f=Pt(20);function h(b){var F=new Float32Array(l*c),v=Math.pow(2,-s),_=-1;for(const L of b){var w=(n(L,++_,b)+o)*v,T=(t(L,_,b)+o)*v,N=+e(L,_,b);if(N&&w>=0&&w<l&&T>=0&&T<c){var E=Math.floor(w),C=Math.floor(T),M=w-E-.5,$=T-C-.5;F[E+C*l]+=(1-M)*(1-$)*N,F[E+1+C*l]+=M*(1-$)*N,F[E+1+(C+1)*l]+=M*$*N,F[E+(C+1)*l]+=(1-M)*$*N}}return hh({data:F,width:l,height:c},i*v),F}function u(b){var F=h(b),v=f(F),_=Math.pow(2,2*s);return Array.isArray(v)||(v=oe(Number.MIN_VALUE,Pr(F)/_,v)),Ro().size([l,c]).thresholds(v.map(w=>w*_))(F).map((w,T)=>(w.value=+v[T],d(w)))}u.contours=function(b){var F=h(b),v=Ro().size([l,c]),_=Math.pow(2,2*s),w=T=>{T=+T;var N=d(v.contour(F,T*_));return N.value=T,N};return Object.defineProperty(w,"max",{get:()=>Pr(F)/_}),w};function d(b){return b.coordinates.forEach(g),b}function g(b){b.forEach(m)}function m(b){b.forEach(p)}function p(b){b[0]=b[0]*Math.pow(2,s)-o,b[1]=b[1]*Math.pow(2,s)-o}function y(){return o=i*3,l=r+o*2>>s,c=a+o*2>>s,u}return u.x=function(b){return arguments.length?(n=typeof b=="function"?b:Pt(+b),u):n},u.y=function(b){return arguments.length?(t=typeof b=="function"?b:Pt(+b),u):t},u.weight=function(b){return arguments.length?(e=typeof b=="function"?b:Pt(+b),u):e},u.size=function(b){if(!arguments.length)return[r,a];var F=+b[0],v=+b[1];if(!(F>=0&&v>=0))throw new Error("invalid size");return r=F,a=v,y()},u.cellSize=function(b){if(!arguments.length)return 1<<s;if(!((b=+b)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(b)/Math.LN2),y()},u.thresholds=function(b){return arguments.length?(f=typeof b=="function"?b:Array.isArray(b)?Pt($d.call(b)):Pt(b),u):f},u.bandwidth=function(b){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((b=+b)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*b*b+1)-1)/2,y()},u}const Lt=11102230246251565e-32,Cn=134217729,_9=(3+8*Lt)*Lt;function Ys(n,t,e,r,a){let i,s,o,l,c=t[0],f=r[0],h=0,u=0;f>c==f>-c?(i=c,c=t[++h]):(i=f,f=r[++u]);let d=0;if(h<n&&u<e)for(f>c==f>-c?(s=c+i,o=i-(s-c),c=t[++h]):(s=f+i,o=i-(s-f),f=r[++u]),i=s,o!==0&&(a[d++]=o);h<n&&u<e;)f>c==f>-c?(s=i+c,l=s-i,o=i-(s-l)+(c-l),c=t[++h]):(s=i+f,l=s-i,o=i-(s-l)+(f-l),f=r[++u]),i=s,o!==0&&(a[d++]=o);for(;h<n;)s=i+c,l=s-i,o=i-(s-l)+(c-l),c=t[++h],i=s,o!==0&&(a[d++]=o);for(;u<e;)s=i+f,l=s-i,o=i-(s-l)+(f-l),f=r[++u],i=s,o!==0&&(a[d++]=o);return(i!==0||d===0)&&(a[d++]=i),d}function w9(n,t){let e=t[0];for(let r=1;r<n;r++)e+=t[r];return e}function ra(n){return new Float64Array(n)}const x9=(3+16*Lt)*Lt,M9=(2+12*Lt)*Lt,S9=(9+64*Lt)*Lt*Lt,Te=ra(4),Sf=ra(8),Af=ra(12),Cf=ra(16),$n=ra(4);function A9(n,t,e,r,a,i,s){let o,l,c,f,h,u,d,g,m,p,y,b,F,v,_,w,T,N;const E=n-a,C=e-a,M=t-i,$=r-i;v=E*$,u=Cn*E,d=u-(u-E),g=E-d,u=Cn*$,m=u-(u-$),p=$-m,_=g*p-(v-d*m-g*m-d*p),w=M*C,u=Cn*M,d=u-(u-M),g=M-d,u=Cn*C,m=u-(u-C),p=C-m,T=g*p-(w-d*m-g*m-d*p),y=_-T,h=_-y,Te[0]=_-(y+h)+(h-T),b=v+y,h=b-v,F=v-(b-h)+(y-h),y=F-w,h=F-y,Te[1]=F-(y+h)+(h-w),N=b+y,h=N-b,Te[2]=b-(N-h)+(y-h),Te[3]=N;let L=w9(4,Te),x=M9*s;if(L>=x||-L>=x||(h=n-E,o=n-(E+h)+(h-a),h=e-C,c=e-(C+h)+(h-a),h=t-M,l=t-(M+h)+(h-i),h=r-$,f=r-($+h)+(h-i),o===0&&l===0&&c===0&&f===0)||(x=S9*s+_9*Math.abs(L),L+=E*f+$*o-(M*c+C*l),L>=x||-L>=x))return L;v=o*$,u=Cn*o,d=u-(u-o),g=o-d,u=Cn*$,m=u-(u-$),p=$-m,_=g*p-(v-d*m-g*m-d*p),w=l*C,u=Cn*l,d=u-(u-l),g=l-d,u=Cn*C,m=u-(u-C),p=C-m,T=g*p-(w-d*m-g*m-d*p),y=_-T,h=_-y,$n[0]=_-(y+h)+(h-T),b=v+y,h=b-v,F=v-(b-h)+(y-h),y=F-w,h=F-y,$n[1]=F-(y+h)+(h-w),N=b+y,h=N-b,$n[2]=b-(N-h)+(y-h),$n[3]=N;const A=Ys(4,Te,4,$n,Sf);v=E*f,u=Cn*E,d=u-(u-E),g=E-d,u=Cn*f,m=u-(u-f),p=f-m,_=g*p-(v-d*m-g*m-d*p),w=M*c,u=Cn*M,d=u-(u-M),g=M-d,u=Cn*c,m=u-(u-c),p=c-m,T=g*p-(w-d*m-g*m-d*p),y=_-T,h=_-y,$n[0]=_-(y+h)+(h-T),b=v+y,h=b-v,F=v-(b-h)+(y-h),y=F-w,h=F-y,$n[1]=F-(y+h)+(h-w),N=b+y,h=N-b,$n[2]=b-(N-h)+(y-h),$n[3]=N;const S=Ys(A,Sf,4,$n,Af);v=o*f,u=Cn*o,d=u-(u-o),g=o-d,u=Cn*f,m=u-(u-f),p=f-m,_=g*p-(v-d*m-g*m-d*p),w=l*c,u=Cn*l,d=u-(u-l),g=l-d,u=Cn*c,m=u-(u-c),p=c-m,T=g*p-(w-d*m-g*m-d*p),y=_-T,h=_-y,$n[0]=_-(y+h)+(h-T),b=v+y,h=b-v,F=v-(b-h)+(y-h),y=F-w,h=F-y,$n[1]=F-(y+h)+(h-w),N=b+y,h=N-b,$n[2]=b-(N-h)+(y-h),$n[3]=N;const D=Ys(S,Af,4,$n,Cf);return Cf[D-1]}function va(n,t,e,r,a,i){const s=(t-i)*(e-a),o=(n-a)*(r-i),l=s-o,c=Math.abs(s+o);return Math.abs(l)>=x9*c?l:-A9(n,t,e,r,a,i,c)}const Ef=Math.pow(2,-52),Fa=new Uint32Array(512);class ri{static from(t,e=L9,r=D9){const a=t.length,i=new Float64Array(a*2);for(let s=0;s<a;s++){const o=t[s];i[2*s]=e(o),i[2*s+1]=r(o)}return new ri(i)}constructor(t){const e=t.length>>1;if(e>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:r,_hullTri:a,_hullHash:i}=this,s=t.length>>1;let o=1/0,l=1/0,c=-1/0,f=-1/0;for(let E=0;E<s;E++){const C=t[2*E],M=t[2*E+1];C<o&&(o=C),M<l&&(l=M),C>c&&(c=C),M>f&&(f=M),this._ids[E]=E}const h=(o+c)/2,u=(l+f)/2;let d,g,m;for(let E=0,C=1/0;E<s;E++){const M=Gs(h,u,t[2*E],t[2*E+1]);M<C&&(d=E,C=M)}const p=t[2*d],y=t[2*d+1];for(let E=0,C=1/0;E<s;E++){if(E===d)continue;const M=Gs(p,y,t[2*E],t[2*E+1]);M<C&&M>0&&(g=E,C=M)}let b=t[2*g],F=t[2*g+1],v=1/0;for(let E=0;E<s;E++){if(E===d||E===g)continue;const C=T9(p,y,b,F,t[2*E],t[2*E+1]);C<v&&(m=E,v=C)}let _=t[2*m],w=t[2*m+1];if(v===1/0){for(let M=0;M<s;M++)this._dists[M]=t[2*M]-t[0]||t[2*M+1]-t[1];ke(this._ids,this._dists,0,s-1);const E=new Uint32Array(s);let C=0;for(let M=0,$=-1/0;M<s;M++){const L=this._ids[M],x=this._dists[L];x>$&&(E[C++]=L,$=x)}this.hull=E.subarray(0,C),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(va(p,y,b,F,_,w)<0){const E=g,C=b,M=F;g=m,b=_,F=w,m=E,_=C,w=M}const T=N9(p,y,b,F,_,w);this._cx=T.x,this._cy=T.y;for(let E=0;E<s;E++)this._dists[E]=Gs(t[2*E],t[2*E+1],T.x,T.y);ke(this._ids,this._dists,0,s-1),this._hullStart=d;let N=3;r[d]=e[m]=g,r[g]=e[d]=m,r[m]=e[g]=d,a[d]=0,a[g]=1,a[m]=2,i.fill(-1),i[this._hashKey(p,y)]=d,i[this._hashKey(b,F)]=g,i[this._hashKey(_,w)]=m,this.trianglesLen=0,this._addTriangle(d,g,m,-1,-1,-1);for(let E=0,C,M;E<this._ids.length;E++){const $=this._ids[E],L=t[2*$],x=t[2*$+1];if(E>0&&Math.abs(L-C)<=Ef&&Math.abs(x-M)<=Ef||(C=L,M=x,$===d||$===g||$===m))continue;let A=0;for(let I=0,z=this._hashKey(L,x);I<this._hashSize&&(A=i[(z+I)%this._hashSize],!(A!==-1&&A!==r[A]));I++);A=e[A];let S=A,D;for(;D=r[S],va(L,x,t[2*S],t[2*S+1],t[2*D],t[2*D+1])>=0;)if(S=D,S===A){S=-1;break}if(S===-1)continue;let R=this._addTriangle(S,$,r[S],-1,-1,a[S]);a[$]=this._legalize(R+2),a[S]=R,N++;let k=r[S];for(;D=r[k],va(L,x,t[2*k],t[2*k+1],t[2*D],t[2*D+1])<0;)R=this._addTriangle(k,$,D,a[$],-1,a[k]),a[$]=this._legalize(R+2),r[k]=k,N--,k=D;if(S===A)for(;D=e[S],va(L,x,t[2*D],t[2*D+1],t[2*S],t[2*S+1])<0;)R=this._addTriangle(D,$,S,-1,a[S],a[D]),this._legalize(R+2),a[D]=R,r[S]=S,N--,S=D;this._hullStart=e[$]=S,r[S]=e[k]=$,r[$]=k,i[this._hashKey(L,x)]=$,i[this._hashKey(t[2*S],t[2*S+1])]=S}this.hull=new Uint32Array(N);for(let E=0,C=this._hullStart;E<N;E++)this.hull[E]=C,C=r[C];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(C9(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:r,coords:a}=this;let i=0,s=0;for(;;){const o=r[t],l=t-t%3;if(s=l+(t+2)%3,o===-1){if(i===0)break;t=Fa[--i];continue}const c=o-o%3,f=l+(t+1)%3,h=c+(o+2)%3,u=e[s],d=e[t],g=e[f],m=e[h];if(E9(a[2*u],a[2*u+1],a[2*d],a[2*d+1],a[2*g],a[2*g+1],a[2*m],a[2*m+1])){e[t]=m,e[o]=u;const y=r[h];if(y===-1){let F=this._hullStart;do{if(this._hullTri[F]===h){this._hullTri[F]=t;break}F=this._hullPrev[F]}while(F!==this._hullStart)}this._link(t,y),this._link(o,r[s]),this._link(s,h);const b=c+(o+1)%3;i<Fa.length&&(Fa[i++]=b)}else{if(i===0)break;t=Fa[--i]}}return s}_link(t,e){this._halfedges[t]=e,e!==-1&&(this._halfedges[e]=t)}_addTriangle(t,e,r,a,i,s){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=e,this._triangles[o+2]=r,this._link(o,a),this._link(o+1,i),this._link(o+2,s),this.trianglesLen+=3,o}}function C9(n,t){const e=n/(Math.abs(n)+Math.abs(t));return(t>0?3-e:1+e)/4}function Gs(n,t,e,r){const a=n-e,i=t-r;return a*a+i*i}function E9(n,t,e,r,a,i,s,o){const l=n-s,c=t-o,f=e-s,h=r-o,u=a-s,d=i-o,g=l*l+c*c,m=f*f+h*h,p=u*u+d*d;return l*(h*p-m*d)-c*(f*p-m*u)+g*(f*d-h*u)<0}function T9(n,t,e,r,a,i){const s=e-n,o=r-t,l=a-n,c=i-t,f=s*s+o*o,h=l*l+c*c,u=.5/(s*c-o*l),d=(c*f-o*h)*u,g=(s*h-l*f)*u;return d*d+g*g}function N9(n,t,e,r,a,i){const s=e-n,o=r-t,l=a-n,c=i-t,f=s*s+o*o,h=l*l+c*c,u=.5/(s*c-o*l),d=n+(c*f-o*h)*u,g=t+(s*h-l*f)*u;return{x:d,y:g}}function ke(n,t,e,r){if(r-e<=20)for(let a=e+1;a<=r;a++){const i=n[a],s=t[i];let o=a-1;for(;o>=e&&t[n[o]]>s;)n[o+1]=n[o--];n[o+1]=i}else{const a=e+r>>1;let i=e+1,s=r;ur(n,a,i),t[n[e]]>t[n[r]]&&ur(n,e,r),t[n[i]]>t[n[r]]&&ur(n,i,r),t[n[e]]>t[n[i]]&&ur(n,e,i);const o=n[i],l=t[o];for(;;){do i++;while(t[n[i]]<l);do s--;while(t[n[s]]>l);if(s<i)break;ur(n,i,s)}n[e+1]=n[s],n[s]=o,r-i+1>=s-e?(ke(n,t,i,r),ke(n,t,e,s-1)):(ke(n,t,e,s-1),ke(n,t,i,r))}}function ur(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function L9(n){return n[0]}function D9(n){return n[1]}const Tf=1e-6;class ee{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,r){t=+t,e=+e,r=+r;const a=t+r,i=e;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${a},${i}`:(Math.abs(this._x1-a)>Tf||Math.abs(this._y1-i)>Tf)&&(this._+="L"+a+","+i),r&&(this._+=`A${r},${r},0,1,1,${t-r},${e}A${r},${r},0,1,1,${this._x1=a},${this._y1=i}`)}rect(t,e,r,a){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+r}v${+a}h${-r}Z`}value(){return this._||null}}class Po{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class kd{constructor(t,[e,r,a,i]=[0,0,960,500]){if(!((a=+a)>=(e=+e))||!((i=+i)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=a,this.xmin=e,this.ymax=i,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:r},vectors:a}=this;let i,s;const o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,p=0,y=r.length,b,F;m<y;m+=3,p+=2){const v=r[m]*2,_=r[m+1]*2,w=r[m+2]*2,T=t[v],N=t[v+1],E=t[_],C=t[_+1],M=t[w],$=t[w+1],L=E-T,x=C-N,A=M-T,S=$-N,D=(L*S-x*A)*2;if(Math.abs(D)<1e-9){if(i===void 0){i=s=0;for(const k of e)i+=t[k*2],s+=t[k*2+1];i/=e.length,s/=e.length}const R=1e9*Math.sign((i-T)*S-(s-N)*A);b=(T+M)/2-R*S,F=(N+$)/2+R*A}else{const R=1/D,k=L*L+x*x,I=A*A+S*S;b=T+(S*k-x*I)*R,F=N+(L*I-A*k)*R}o[p]=b,o[p+1]=F}let l=e[e.length-1],c,f=l*4,h,u=t[2*l],d,g=t[2*l+1];a.fill(0);for(let m=0;m<e.length;++m)l=e[m],c=f,h=u,d=g,f=l*4,u=t[2*l],g=t[2*l+1],a[c+2]=a[f]=d-g,a[c+3]=a[f+1]=u-h}render(t){const e=t==null?t=new ee:void 0,{delaunay:{halfedges:r,inedges:a,hull:i},circumcenters:s,vectors:o}=this;if(i.length<=1)return null;for(let f=0,h=r.length;f<h;++f){const u=r[f];if(u<f)continue;const d=Math.floor(f/3)*2,g=Math.floor(u/3)*2,m=s[d],p=s[d+1],y=s[g],b=s[g+1];this._renderSegment(m,p,y,b,t)}let l,c=i[i.length-1];for(let f=0;f<i.length;++f){l=c,c=i[f];const h=Math.floor(a[c]/3)*2,u=s[h],d=s[h+1],g=l*4,m=this._project(u,d,o[g+2],o[g+3]);m&&this._renderSegment(u,d,m[0],m[1],t)}return e&&e.value()}renderBounds(t){const e=t==null?t=new ee:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const r=e==null?e=new ee:void 0,a=this._clip(t);if(a===null||!a.length)return;e.moveTo(a[0],a[1]);let i=a.length;for(;a[0]===a[i-2]&&a[1]===a[i-1]&&i>1;)i-=2;for(let s=2;s<i;s+=2)(a[s]!==a[s-2]||a[s+1]!==a[s-1])&&e.lineTo(a[s],a[s+1]);return e.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,r=t.length/2;e<r;++e){const a=this.cellPolygon(e);a&&(a.index=e,yield a)}}cellPolygon(t){const e=new Po;return this.renderCell(t,e),e.value()}_renderSegment(t,e,r,a,i){let s;const o=this._regioncode(t,e),l=this._regioncode(r,a);o===0&&l===0?(i.moveTo(t,e),i.lineTo(r,a)):(s=this._clipSegment(t,e,r,a,o,l))&&(i.moveTo(s[0],s[1]),i.lineTo(s[2],s[3]))}contains(t,e,r){return e=+e,e!==e||(r=+r,r!==r)?!1:this.delaunay._step(t,e,r)===t}*neighbors(t){const e=this._clip(t);if(e)for(const r of this.delaunay.neighbors(t)){const a=this._clip(r);if(a){n:for(let i=0,s=e.length;i<s;i+=2)for(let o=0,l=a.length;o<l;o+=2)if(e[i]===a[o]&&e[i+1]===a[o+1]&&e[(i+2)%s]===a[(o+l-2)%l]&&e[(i+3)%s]===a[(o+l-1)%l]){yield r;break n}}}}_cell(t){const{circumcenters:e,delaunay:{inedges:r,halfedges:a,triangles:i}}=this,s=r[t];if(s===-1)return null;const o=[];let l=s;do{const c=Math.floor(l/3);if(o.push(e[c*2],e[c*2+1]),l=l%3===2?l-2:l+1,i[l]!==t)break;l=a[l]}while(l!==s&&l!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(e===null)return null;const{vectors:r}=this,a=t*4;return this._simplify(r[a]||r[a+1]?this._clipInfinite(t,e,r[a],r[a+1],r[a+2],r[a+3]):this._clipFinite(t,e))}_clipFinite(t,e){const r=e.length;let a=null,i,s,o=e[r-2],l=e[r-1],c,f=this._regioncode(o,l),h,u=0;for(let d=0;d<r;d+=2)if(i=o,s=l,o=e[d],l=e[d+1],c=f,f=this._regioncode(o,l),c===0&&f===0)h=u,u=0,a?a.push(o,l):a=[o,l];else{let g,m,p,y,b;if(c===0){if((g=this._clipSegment(i,s,o,l,c,f))===null)continue;[m,p,y,b]=g}else{if((g=this._clipSegment(o,l,i,s,f,c))===null)continue;[y,b,m,p]=g,h=u,u=this._edgecode(m,p),h&&u&&this._edge(t,h,u,a,a.length),a?a.push(m,p):a=[m,p]}h=u,u=this._edgecode(y,b),h&&u&&this._edge(t,h,u,a,a.length),a?a.push(y,b):a=[y,b]}if(a)h=u,u=this._edgecode(a[0],a[1]),h&&u&&this._edge(t,h,u,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,e,r,a,i,s){const o=i<s;for(o&&([t,e,r,a,i,s]=[r,a,t,e,s,i]);;){if(i===0&&s===0)return o?[r,a,t,e]:[t,e,r,a];if(i&s)return null;let l,c,f=i||s;f&8?(l=t+(r-t)*(this.ymax-e)/(a-e),c=this.ymax):f&4?(l=t+(r-t)*(this.ymin-e)/(a-e),c=this.ymin):f&2?(c=e+(a-e)*(this.xmax-t)/(r-t),l=this.xmax):(c=e+(a-e)*(this.xmin-t)/(r-t),l=this.xmin),i?(t=l,e=c,i=this._regioncode(t,e)):(r=l,a=c,s=this._regioncode(r,a))}}_clipInfinite(t,e,r,a,i,s){let o=Array.from(e),l;if((l=this._project(o[0],o[1],r,a))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],i,s))&&o.push(l[0],l[1]),o=this._clipFinite(t,o))for(let c=0,f=o.length,h,u=this._edgecode(o[f-2],o[f-1]);c<f;c+=2)h=u,u=this._edgecode(o[c],o[c+1]),h&&u&&(c=this._edge(t,h,u,o,c),f=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,e,r,a,i){for(;e!==r;){let s,o;switch(e){case 5:e=4;continue;case 4:e=6,s=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,s=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,s=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,s=this.xmin,o=this.ymin;break}(a[i]!==s||a[i+1]!==o)&&this.contains(t,s,o)&&(a.splice(i,0,s,o),i+=2)}return i}_project(t,e,r,a){let i=1/0,s,o,l;if(a<0){if(e<=this.ymin)return null;(s=(this.ymin-e)/a)<i&&(l=this.ymin,o=t+(i=s)*r)}else if(a>0){if(e>=this.ymax)return null;(s=(this.ymax-e)/a)<i&&(l=this.ymax,o=t+(i=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<i&&(o=this.xmax,l=e+(i=s)*a)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<i&&(o=this.xmin,l=e+(i=s)*a)}return[o,l]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const r=(e+2)%t.length,a=(e+4)%t.length;(t[e]===t[r]&&t[r]===t[a]||t[e+1]===t[r+1]&&t[r+1]===t[a+1])&&(t.splice(r,2),e-=2)}t.length||(t=null)}return t}}const $9=2*Math.PI,Ne=Math.pow;function k9(n){return n[0]}function R9(n){return n[1]}function P9(n){const{triangles:t,coords:e}=n;for(let r=0;r<t.length;r+=3){const a=2*t[r],i=2*t[r+1],s=2*t[r+2];if((e[s]-e[a])*(e[i+1]-e[a+1])-(e[i]-e[a])*(e[s+1]-e[a+1])>1e-10)return!1}return!0}function I9(n,t,e){return[n+Math.sin(n+t)*e,t+Math.cos(n-t)*e]}class Bc{static from(t,e=k9,r=R9,a){return new Bc("length"in t?B9(t,e,r,a):Float64Array.from(O9(t,e,r,a)))}constructor(t){this._delaunator=new ri(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&P9(t)){this.collinear=Int32Array.from({length:e.length/2},(u,d)=>d).sort((u,d)=>e[2*u]-e[2*d]||e[2*u+1]-e[2*d+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],f=[e[2*l],e[2*l+1],e[2*c],e[2*c+1]],h=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let u=0,d=e.length/2;u<d;++u){const g=I9(e[2*u],e[2*u+1],h);e[2*u]=g[0],e[2*u+1]=g[1]}this._delaunator=new ri(e)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,a=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const f=i[l%3===2?l-2:l+1];(r[l]===-1||s[f]===-1)&&(s[f]=l)}for(let l=0,c=a.length;l<c;++l)o[a[l]]=l;a.length<=2&&a.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=a[0],s[a[0]]=1,a.length===2&&(s[a[1]]=0,this.triangles[1]=a[1],this.triangles[2]=a[1]))}voronoi(t){return new kd(this,t)}*neighbors(t){const{inedges:e,hull:r,_hullIndex:a,halfedges:i,triangles:s,collinear:o}=this;if(o){const h=o.indexOf(t);h>0&&(yield o[h-1]),h<o.length-1&&(yield o[h+1]);return}const l=e[t];if(l===-1)return;let c=l,f=-1;do{if(yield f=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=i[c],c===-1){const h=r[(a[t]+1)%r.length];h!==f&&(yield h);return}}while(c!==l)}find(t,e,r=0){if(t=+t,t!==t||(e=+e,e!==e))return-1;const a=r;let i;for(;(i=this._step(r,t,e))>=0&&i!==r&&i!==a;)r=i;return i}_step(t,e,r){const{inedges:a,hull:i,_hullIndex:s,halfedges:o,triangles:l,points:c}=this;if(a[t]===-1||!c.length)return(t+1)%(c.length>>1);let f=t,h=Ne(e-c[t*2],2)+Ne(r-c[t*2+1],2);const u=a[t];let d=u;do{let g=l[d];const m=Ne(e-c[g*2],2)+Ne(r-c[g*2+1],2);if(m<h&&(h=m,f=g),d=d%3===2?d-2:d+1,l[d]!==t)break;if(d=o[d],d===-1){if(d=i[(s[t]+1)%i.length],d!==g&&Ne(e-c[d*2],2)+Ne(r-c[d*2+1],2)<h)return d;break}}while(d!==u);return f}render(t){const e=t==null?t=new ee:void 0,{points:r,halfedges:a,triangles:i}=this;for(let s=0,o=a.length;s<o;++s){const l=a[s];if(l<s)continue;const c=i[s]*2,f=i[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[f],r[f+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){e===void 0&&(!t||typeof t.moveTo!="function")&&(e=t,t=null),e=e==null?2:+e;const r=t==null?t=new ee:void 0,{points:a}=this;for(let i=0,s=a.length;i<s;i+=2){const o=a[i],l=a[i+1];t.moveTo(o+e,l),t.arc(o,l,e,0,$9)}return r&&r.value()}renderHull(t){const e=t==null?t=new ee:void 0,{hull:r,points:a}=this,i=r[0]*2,s=r.length;t.moveTo(a[i],a[i+1]);for(let o=1;o<s;++o){const l=2*r[o];t.lineTo(a[l],a[l+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Po;return this.renderHull(t),t.value()}renderTriangle(t,e){const r=e==null?e=new ee:void 0,{points:a,triangles:i}=this,s=i[t*=3]*2,o=i[t+1]*2,l=i[t+2]*2;return e.moveTo(a[s],a[s+1]),e.lineTo(a[o],a[o+1]),e.lineTo(a[l],a[l+1]),e.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,r=t.length/3;e<r;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Po;return this.renderTriangle(t,e),e.value()}}function B9(n,t,e,r){const a=n.length,i=new Float64Array(a*2);for(let s=0;s<a;++s){const o=n[s];i[s*2]=t.call(r,o,s,n),i[s*2+1]=e.call(r,o,s,n)}return i}function*O9(n,t,e,r){let a=0;for(const i of n)yield t.call(r,i,a,n),yield e.call(r,i,a,n),++a}var Nf={},Xs={},Ws=34,hr=10,Vs=13;function Rd(n){return new Function("d","return {"+n.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function z9(n,t){var e=Rd(n);return function(r,a){return t(e(r),a,n)}}function Lf(n){var t=Object.create(null),e=[];return n.forEach(function(r){for(var a in r)a in t||e.push(t[a]=a)}),e}function Yn(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function U9(n){return n<0?"-"+Yn(-n,6):n>9999?"+"+Yn(n,6):Yn(n,4)}function H9(n){var t=n.getUTCHours(),e=n.getUTCMinutes(),r=n.getUTCSeconds(),a=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":U9(n.getUTCFullYear())+"-"+Yn(n.getUTCMonth()+1,2)+"-"+Yn(n.getUTCDate(),2)+(a?"T"+Yn(t,2)+":"+Yn(e,2)+":"+Yn(r,2)+"."+Yn(a,3)+"Z":r?"T"+Yn(t,2)+":"+Yn(e,2)+":"+Yn(r,2)+"Z":e||t?"T"+Yn(t,2)+":"+Yn(e,2)+"Z":"")}function Ki(n){var t=new RegExp('["'+n+`
\r]`),e=n.charCodeAt(0);function r(h,u){var d,g,m=a(h,function(p,y){if(d)return d(p,y-1);g=p,d=u?z9(p,u):Rd(p)});return m.columns=g||[],m}function a(h,u){var d=[],g=h.length,m=0,p=0,y,b=g<=0,F=!1;h.charCodeAt(g-1)===hr&&--g,h.charCodeAt(g-1)===Vs&&--g;function v(){if(b)return Xs;if(F)return F=!1,Nf;var w,T=m,N;if(h.charCodeAt(T)===Ws){for(;m++<g&&h.charCodeAt(m)!==Ws||h.charCodeAt(++m)===Ws;);return(w=m)>=g?b=!0:(N=h.charCodeAt(m++))===hr?F=!0:N===Vs&&(F=!0,h.charCodeAt(m)===hr&&++m),h.slice(T+1,w-1).replace(/""/g,'"')}for(;m<g;){if((N=h.charCodeAt(w=m++))===hr)F=!0;else if(N===Vs)F=!0,h.charCodeAt(m)===hr&&++m;else if(N!==e)continue;return h.slice(T,w)}return b=!0,h.slice(T,g)}for(;(y=v())!==Xs;){for(var _=[];y!==Nf&&y!==Xs;)_.push(y),y=v();u&&(_=u(_,p++))==null||d.push(_)}return d}function i(h,u){return h.map(function(d){return u.map(function(g){return f(d[g])}).join(n)})}function s(h,u){return u==null&&(u=Lf(h)),[u.map(f).join(n)].concat(i(h,u)).join(`
`)}function o(h,u){return u==null&&(u=Lf(h)),i(h,u).join(`
`)}function l(h){return h.map(c).join(`
`)}function c(h){return h.map(f).join(n)}function f(h){return h==null?"":h instanceof Date?H9(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:a,format:s,formatBody:o,formatRows:l,formatRow:c,formatValue:f}}var Fe=Ki(","),Pd=Fe.parse,q9=Fe.parseRows,Y9=Fe.format,G9=Fe.formatBody,X9=Fe.formatRows,W9=Fe.formatRow,V9=Fe.formatValue,be=Ki("	"),Id=be.parse,j9=be.parseRows,Z9=be.format,Q9=be.formatBody,K9=be.formatRows,J9=be.formatRow,nF=be.formatValue;function tF(n){for(var t in n){var e=n[t].trim(),r,a;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(r=+e))e=r;else if(a=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))eF&&a[4]&&!a[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;n[t]=e}return n}const eF=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function rF(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.blob()}function aF(n,t){return fetch(n,t).then(rF)}function iF(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.arrayBuffer()}function sF(n,t){return fetch(n,t).then(iF)}function oF(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);return n.text()}function Ji(n,t){return fetch(n,t).then(oF)}function Bd(n){return function(t,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),Ji(t,e).then(function(a){return n(a,r)})}}function cF(n,t,e,r){arguments.length===3&&typeof e=="function"&&(r=e,e=void 0);var a=Ki(n);return Ji(t,e).then(function(i){return a.parse(i,r)})}var lF=Bd(Pd),fF=Bd(Id);function uF(n,t){return new Promise(function(e,r){var a=new Image;for(var i in t)a[i]=t[i];a.onerror=r,a.onload=function(){e(a)},a.src=n})}function hF(n){if(!n.ok)throw new Error(n.status+" "+n.statusText);if(!(n.status===204||n.status===205))return n.json()}function dF(n,t){return fetch(n,t).then(hF)}function Oc(n){return(t,e)=>Ji(t,e).then(r=>new DOMParser().parseFromString(r,n))}const pF=Oc("application/xml");var gF=Oc("text/html"),yF=Oc("image/svg+xml");function mF(n,t){var e,r=1;n==null&&(n=0),t==null&&(t=0);function a(){var i,s=e.length,o,l=0,c=0;for(i=0;i<s;++i)o=e[i],l+=o.x,c+=o.y;for(l=(l/s-n)*r,c=(c/s-t)*r,i=0;i<s;++i)o=e[i],o.x-=l,o.y-=c}return a.initialize=function(i){e=i},a.x=function(i){return arguments.length?(n=+i,a):n},a.y=function(i){return arguments.length?(t=+i,a):t},a.strength=function(i){return arguments.length?(r=+i,a):r},a}function vF(n){const t=+this._x.call(null,n),e=+this._y.call(null,n);return Od(this.cover(t,e),t,e,n)}function Od(n,t,e,r){if(isNaN(t)||isNaN(e))return n;var a,i=n._root,s={data:r},o=n._x0,l=n._y0,c=n._x1,f=n._y1,h,u,d,g,m,p,y,b;if(!i)return n._root=s,n;for(;i.length;)if((m=t>=(h=(o+c)/2))?o=h:c=h,(p=e>=(u=(l+f)/2))?l=u:f=u,a=i,!(i=i[y=p<<1|m]))return a[y]=s,n;if(d=+n._x.call(null,i.data),g=+n._y.call(null,i.data),t===d&&e===g)return s.next=i,a?a[y]=s:n._root=s,n;do a=a?a[y]=new Array(4):n._root=new Array(4),(m=t>=(h=(o+c)/2))?o=h:c=h,(p=e>=(u=(l+f)/2))?l=u:f=u;while((y=p<<1|m)===(b=(g>=u)<<1|d>=h));return a[b]=i,a[y]=s,n}function FF(n){var t,e,r=n.length,a,i,s=new Array(r),o=new Array(r),l=1/0,c=1/0,f=-1/0,h=-1/0;for(e=0;e<r;++e)isNaN(a=+this._x.call(null,t=n[e]))||isNaN(i=+this._y.call(null,t))||(s[e]=a,o[e]=i,a<l&&(l=a),a>f&&(f=a),i<c&&(c=i),i>h&&(h=i));if(l>f||c>h)return this;for(this.cover(l,c).cover(f,h),e=0;e<r;++e)Od(this,s[e],o[e],n[e]);return this}function bF(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(e))a=(e=Math.floor(n))+1,i=(r=Math.floor(t))+1;else{for(var s=a-e||1,o=this._root,l,c;e>n||n>=a||r>t||t>=i;)switch(c=(t<r)<<1|n<e,l=new Array(4),l[c]=o,o=l,s*=2,c){case 0:a=e+s,i=r+s;break;case 1:e=a-s,i=r+s;break;case 2:a=e+s,r=i-s;break;case 3:e=a-s,r=i-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._y0=r,this._x1=a,this._y1=i,this}function _F(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function wF(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function In(n,t,e,r,a){this.node=n,this.x0=t,this.y0=e,this.x1=r,this.y1=a}function xF(n,t,e){var r,a=this._x0,i=this._y0,s,o,l,c,f=this._x1,h=this._y1,u=[],d=this._root,g,m;for(d&&u.push(new In(d,a,i,f,h)),e==null?e=1/0:(a=n-e,i=t-e,f=n+e,h=t+e,e*=e);g=u.pop();)if(!(!(d=g.node)||(s=g.x0)>f||(o=g.y0)>h||(l=g.x1)<a||(c=g.y1)<i))if(d.length){var p=(s+l)/2,y=(o+c)/2;u.push(new In(d[3],p,y,l,c),new In(d[2],s,y,p,c),new In(d[1],p,o,l,y),new In(d[0],s,o,p,y)),(m=(t>=y)<<1|n>=p)&&(g=u[u.length-1],u[u.length-1]=u[u.length-1-m],u[u.length-1-m]=g)}else{var b=n-+this._x.call(null,d.data),F=t-+this._y.call(null,d.data),v=b*b+F*F;if(v<e){var _=Math.sqrt(e=v);a=n-_,i=t-_,f=n+_,h=t+_,r=d.data}}return r}function MF(n){if(isNaN(f=+this._x.call(null,n))||isNaN(h=+this._y.call(null,n)))return this;var t,e=this._root,r,a,i,s=this._x0,o=this._y0,l=this._x1,c=this._y1,f,h,u,d,g,m,p,y;if(!e)return this;if(e.length)for(;;){if((g=f>=(u=(s+l)/2))?s=u:l=u,(m=h>=(d=(o+c)/2))?o=d:c=d,t=e,!(e=e[p=m<<1|g]))return this;if(!e.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(r=t,y=p)}for(;e.data!==n;)if(a=e,!(e=e.next))return this;return(i=e.next)&&delete e.next,a?(i?a.next=i:delete a.next,this):t?(i?t[p]=i:delete t[p],(e=t[0]||t[1]||t[2]||t[3])&&e===(t[3]||t[2]||t[1]||t[0])&&!e.length&&(r?r[y]=e:this._root=e),this):(this._root=i,this)}function SF(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function AF(){return this._root}function CF(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function EF(n){var t=[],e,r=this._root,a,i,s,o,l;for(r&&t.push(new In(r,this._x0,this._y0,this._x1,this._y1));e=t.pop();)if(!n(r=e.node,i=e.x0,s=e.y0,o=e.x1,l=e.y1)&&r.length){var c=(i+o)/2,f=(s+l)/2;(a=r[3])&&t.push(new In(a,c,f,o,l)),(a=r[2])&&t.push(new In(a,i,f,c,l)),(a=r[1])&&t.push(new In(a,c,s,o,f)),(a=r[0])&&t.push(new In(a,i,s,c,f))}return this}function TF(n){var t=[],e=[],r;for(this._root&&t.push(new In(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var a=r.node;if(a.length){var i,s=r.x0,o=r.y0,l=r.x1,c=r.y1,f=(s+l)/2,h=(o+c)/2;(i=a[0])&&t.push(new In(i,s,o,f,h)),(i=a[1])&&t.push(new In(i,f,o,l,h)),(i=a[2])&&t.push(new In(i,s,h,f,c)),(i=a[3])&&t.push(new In(i,f,h,l,c))}e.push(r)}for(;r=e.pop();)n(r.node,r.x0,r.y0,r.x1,r.y1);return this}function NF(n){return n[0]}function LF(n){return arguments.length?(this._x=n,this):this._x}function DF(n){return n[1]}function $F(n){return arguments.length?(this._y=n,this):this._y}function ns(n,t,e){var r=new zc(t??NF,e??DF,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function zc(n,t,e,r,a,i){this._x=n,this._y=t,this._x0=e,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function Df(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var qn=ns.prototype=zc.prototype;qn.copy=function(){var n=new zc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,e,r;if(!t)return n;if(!t.length)return n._root=Df(t),n;for(e=[{source:t,target:n._root=new Array(4)}];t=e.pop();)for(var a=0;a<4;++a)(r=t.source[a])&&(r.length?e.push({source:r,target:t.target[a]=new Array(4)}):t.target[a]=Df(r));return n};qn.add=vF;qn.addAll=FF;qn.cover=bF;qn.data=_F;qn.extent=wF;qn.find=xF;qn.remove=MF;qn.removeAll=SF;qn.root=AF;qn.size=CF;qn.visit=EF;qn.visitAfter=TF;qn.x=LF;qn.y=$F;function vn(n){return function(){return n}}function Ot(n){return(n()-.5)*1e-6}function kF(n){return n.x+n.vx}function RF(n){return n.y+n.vy}function PF(n){var t,e,r,a=1,i=1;typeof n!="function"&&(n=vn(n==null?1:+n));function s(){for(var c,f=t.length,h,u,d,g,m,p,y=0;y<i;++y)for(h=ns(t,kF,RF).visitAfter(o),c=0;c<f;++c)u=t[c],m=e[u.index],p=m*m,d=u.x+u.vx,g=u.y+u.vy,h.visit(b);function b(F,v,_,w,T){var N=F.data,E=F.r,C=m+E;if(N){if(N.index>u.index){var M=d-N.x-N.vx,$=g-N.y-N.vy,L=M*M+$*$;L<C*C&&(M===0&&(M=Ot(r),L+=M*M),$===0&&($=Ot(r),L+=$*$),L=(C-(L=Math.sqrt(L)))/L*a,u.vx+=(M*=L)*(C=(E*=E)/(p+E)),u.vy+=($*=L)*C,N.vx-=M*(C=1-C),N.vy-=$*C)}return}return v>d+C||w<d-C||_>g+C||T<g-C}}function o(c){if(c.data)return c.r=e[c.data.index];for(var f=c.r=0;f<4;++f)c[f]&&c[f].r>c.r&&(c.r=c[f].r)}function l(){if(t){var c,f=t.length,h;for(e=new Array(f),c=0;c<f;++c)h=t[c],e[h.index]=+n(h,c,t)}}return s.initialize=function(c,f){t=c,r=f,l()},s.iterations=function(c){return arguments.length?(i=+c,s):i},s.strength=function(c){return arguments.length?(a=+c,s):a},s.radius=function(c){return arguments.length?(n=typeof c=="function"?c:vn(+c),l(),s):n},s}function IF(n){return n.index}function $f(n,t){var e=n.get(t);if(!e)throw new Error("node not found: "+t);return e}function BF(n){var t=IF,e=h,r,a=vn(30),i,s,o,l,c,f=1;n==null&&(n=[]);function h(p){return 1/Math.min(o[p.source.index],o[p.target.index])}function u(p){for(var y=0,b=n.length;y<f;++y)for(var F=0,v,_,w,T,N,E,C;F<b;++F)v=n[F],_=v.source,w=v.target,T=w.x+w.vx-_.x-_.vx||Ot(c),N=w.y+w.vy-_.y-_.vy||Ot(c),E=Math.sqrt(T*T+N*N),E=(E-i[F])/E*p*r[F],T*=E,N*=E,w.vx-=T*(C=l[F]),w.vy-=N*C,_.vx+=T*(C=1-C),_.vy+=N*C}function d(){if(s){var p,y=s.length,b=n.length,F=new Map(s.map((_,w)=>[t(_,w,s),_])),v;for(p=0,o=new Array(y);p<b;++p)v=n[p],v.index=p,typeof v.source!="object"&&(v.source=$f(F,v.source)),typeof v.target!="object"&&(v.target=$f(F,v.target)),o[v.source.index]=(o[v.source.index]||0)+1,o[v.target.index]=(o[v.target.index]||0)+1;for(p=0,l=new Array(b);p<b;++p)v=n[p],l[p]=o[v.source.index]/(o[v.source.index]+o[v.target.index]);r=new Array(b),g(),i=new Array(b),m()}}function g(){if(s)for(var p=0,y=n.length;p<y;++p)r[p]=+e(n[p],p,n)}function m(){if(s)for(var p=0,y=n.length;p<y;++p)i[p]=+a(n[p],p,n)}return u.initialize=function(p,y){s=p,c=y,d()},u.links=function(p){return arguments.length?(n=p,d(),u):n},u.id=function(p){return arguments.length?(t=p,u):t},u.iterations=function(p){return arguments.length?(f=+p,u):f},u.strength=function(p){return arguments.length?(e=typeof p=="function"?p:vn(+p),g(),u):e},u.distance=function(p){return arguments.length?(a=typeof p=="function"?p:vn(+p),m(),u):a},u}const OF=1664525,zF=1013904223,kf=4294967296;function UF(){let n=1;return()=>(n=(OF*n+zF)%kf)/kf}function HF(n){return n.x}function qF(n){return n.y}var YF=10,GF=Math.PI*(3-Math.sqrt(5));function XF(n){var t,e=1,r=.001,a=1-Math.pow(r,1/300),i=0,s=.6,o=new Map,l=Zi(h),c=me("tick","end"),f=UF();n==null&&(n=[]);function h(){u(),c.call("tick",t),e<r&&(l.stop(),c.call("end",t))}function u(m){var p,y=n.length,b;m===void 0&&(m=1);for(var F=0;F<m;++F)for(e+=(i-e)*a,o.forEach(function(v){v(e)}),p=0;p<y;++p)b=n[p],b.fx==null?b.x+=b.vx*=s:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=s:(b.y=b.fy,b.vy=0);return t}function d(){for(var m=0,p=n.length,y;m<p;++m){if(y=n[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var b=YF*Math.sqrt(.5+m),F=m*GF;y.x=b*Math.cos(F),y.y=b*Math.sin(F)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function g(m){return m.initialize&&m.initialize(n,f),m}return d(),t={tick:u,restart:function(){return l.restart(h),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(n=m,d(),o.forEach(g),t):n},alpha:function(m){return arguments.length?(e=+m,t):e},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(a=+m,t):+a},alphaTarget:function(m){return arguments.length?(i=+m,t):i},velocityDecay:function(m){return arguments.length?(s=1-m,t):1-s},randomSource:function(m){return arguments.length?(f=m,o.forEach(g),t):f},force:function(m,p){return arguments.length>1?(p==null?o.delete(m):o.set(m,g(p)),t):o.get(m)},find:function(m,p,y){var b=0,F=n.length,v,_,w,T,N;for(y==null?y=1/0:y*=y,b=0;b<F;++b)T=n[b],v=m-T.x,_=p-T.y,w=v*v+_*_,w<y&&(N=T,y=w);return N},on:function(m,p){return arguments.length>1?(c.on(m,p),t):c.on(m)}}}function WF(){var n,t,e,r,a=vn(-30),i,s=1,o=1/0,l=.81;function c(d){var g,m=n.length,p=ns(n,HF,qF).visitAfter(h);for(r=d,g=0;g<m;++g)t=n[g],p.visit(u)}function f(){if(n){var d,g=n.length,m;for(i=new Array(g),d=0;d<g;++d)m=n[d],i[m.index]=+a(m,d,n)}}function h(d){var g=0,m,p,y=0,b,F,v;if(d.length){for(b=F=v=0;v<4;++v)(m=d[v])&&(p=Math.abs(m.value))&&(g+=m.value,y+=p,b+=p*m.x,F+=p*m.y);d.x=b/y,d.y=F/y}else{m=d,m.x=m.data.x,m.y=m.data.y;do g+=i[m.data.index];while(m=m.next)}d.value=g}function u(d,g,m,p){if(!d.value)return!0;var y=d.x-t.x,b=d.y-t.y,F=p-g,v=y*y+b*b;if(F*F/l<v)return v<o&&(y===0&&(y=Ot(e),v+=y*y),b===0&&(b=Ot(e),v+=b*b),v<s&&(v=Math.sqrt(s*v)),t.vx+=y*d.value*r/v,t.vy+=b*d.value*r/v),!0;if(d.length||v>=o)return;(d.data!==t||d.next)&&(y===0&&(y=Ot(e),v+=y*y),b===0&&(b=Ot(e),v+=b*b),v<s&&(v=Math.sqrt(s*v)));do d.data!==t&&(F=i[d.data.index]*r/v,t.vx+=y*F,t.vy+=b*F);while(d=d.next)}return c.initialize=function(d,g){n=d,e=g,f()},c.strength=function(d){return arguments.length?(a=typeof d=="function"?d:vn(+d),f(),c):a},c.distanceMin=function(d){return arguments.length?(s=d*d,c):Math.sqrt(s)},c.distanceMax=function(d){return arguments.length?(o=d*d,c):Math.sqrt(o)},c.theta=function(d){return arguments.length?(l=d*d,c):Math.sqrt(l)},c}function VF(n,t,e){var r,a=vn(.1),i,s;typeof n!="function"&&(n=vn(+n)),t==null&&(t=0),e==null&&(e=0);function o(c){for(var f=0,h=r.length;f<h;++f){var u=r[f],d=u.x-t||1e-6,g=u.y-e||1e-6,m=Math.sqrt(d*d+g*g),p=(s[f]-m)*i[f]*c/m;u.vx+=d*p,u.vy+=g*p}}function l(){if(r){var c,f=r.length;for(i=new Array(f),s=new Array(f),c=0;c<f;++c)s[c]=+n(r[c],c,r),i[c]=isNaN(s[c])?0:+a(r[c],c,r)}}return o.initialize=function(c){r=c,l()},o.strength=function(c){return arguments.length?(a=typeof c=="function"?c:vn(+c),l(),o):a},o.radius=function(c){return arguments.length?(n=typeof c=="function"?c:vn(+c),l(),o):n},o.x=function(c){return arguments.length?(t=+c,o):t},o.y=function(c){return arguments.length?(e=+c,o):e},o}function jF(n){var t=vn(.1),e,r,a;typeof n!="function"&&(n=vn(n==null?0:+n));function i(o){for(var l=0,c=e.length,f;l<c;++l)f=e[l],f.vx+=(a[l]-f.x)*r[l]*o}function s(){if(e){var o,l=e.length;for(r=new Array(l),a=new Array(l),o=0;o<l;++o)r[o]=isNaN(a[o]=+n(e[o],o,e))?0:+t(e[o],o,e)}}return i.initialize=function(o){e=o,s()},i.strength=function(o){return arguments.length?(t=typeof o=="function"?o:vn(+o),s(),i):t},i.x=function(o){return arguments.length?(n=typeof o=="function"?o:vn(+o),s(),i):n},i}function ZF(n){var t=vn(.1),e,r,a;typeof n!="function"&&(n=vn(n==null?0:+n));function i(o){for(var l=0,c=e.length,f;l<c;++l)f=e[l],f.vy+=(a[l]-f.y)*r[l]*o}function s(){if(e){var o,l=e.length;for(r=new Array(l),a=new Array(l),o=0;o<l;++o)r[o]=isNaN(a[o]=+n(e[o],o,e))?0:+t(e[o],o,e)}}return i.initialize=function(o){e=o,s()},i.strength=function(o){return arguments.length?(t=typeof o=="function"?o:vn(+o),s(),i):t},i.y=function(o){return arguments.length?(n=typeof o=="function"?o:vn(+o),s(),i):n},i}function QF(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function ai(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function We(n){return n=ai(Math.abs(n)),n?n[1]:NaN}function KF(n,t){return function(e,r){for(var a=e.length,i=[],s=0,o=n[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=n[s=(s+1)%n.length];return i.reverse().join(t)}}function JF(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var nb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ve(n){if(!(t=nb.exec(n)))throw new Error("invalid format: "+n);var t;return new ts({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ve.prototype=ts.prototype;function ts(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}ts.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tb(n){n:for(var t=n.length,e=1,r=-1,a;e<t;++e)switch(n[e]){case".":r=a=e;break;case"0":r===0&&(r=e),a=e;break;default:if(!+n[e])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(a+1):n}var zd;function eb(n,t){var e=ai(n,t);if(!e)return n+"";var r=e[0],a=e[1],i=a-(zd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ai(n,Math.max(0,t+i-1))[0]}function Rf(n,t){var e=ai(n,t);if(!e)return n+"";var r=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Pf={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:QF,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Rf(n*100,t),r:Rf,s:eb,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function If(n){return n}var Bf=Array.prototype.map,Of=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ud(n){var t=n.grouping===void 0||n.thousands===void 0?If:KF(Bf.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",i=n.numerals===void 0?If:JF(Bf.call(n.numerals,String)),s=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"−":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(h){h=Ve(h);var u=h.fill,d=h.align,g=h.sign,m=h.symbol,p=h.zero,y=h.width,b=h.comma,F=h.precision,v=h.trim,_=h.type;_==="n"?(b=!0,_="g"):Pf[_]||(F===void 0&&(F=12),v=!0,_="g"),(p||u==="0"&&d==="=")&&(p=!0,u="0",d="=");var w=m==="$"?e:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T=m==="$"?r:/[%p]/.test(_)?s:"",N=Pf[_],E=/[defgprs%]/.test(_);F=F===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function C(M){var $=w,L=T,x,A,S;if(_==="c")L=N(M)+L,M="";else{M=+M;var D=M<0||1/M<0;if(M=isNaN(M)?l:N(Math.abs(M),F),v&&(M=tb(M)),D&&+M==0&&g!=="+"&&(D=!1),$=(D?g==="("?g:o:g==="-"||g==="("?"":g)+$,L=(_==="s"?Of[8+zd/3]:"")+L+(D&&g==="("?")":""),E){for(x=-1,A=M.length;++x<A;)if(S=M.charCodeAt(x),48>S||S>57){L=(S===46?a+M.slice(x+1):M.slice(x))+L,M=M.slice(0,x);break}}}b&&!p&&(M=t(M,1/0));var R=$.length+M.length+L.length,k=R<y?new Array(y-R+1).join(u):"";switch(b&&p&&(M=t(k+M,k.length?y-L.length:1/0),k=""),d){case"<":M=$+M+L+k;break;case"=":M=$+k+M+L;break;case"^":M=k.slice(0,R=k.length>>1)+$+M+L+k.slice(R);break;default:M=k+$+M+L;break}return i(M)}return C.toString=function(){return h+""},C}function f(h,u){var d=c((h=Ve(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(We(u)/3)))*3,m=Math.pow(10,-g),p=Of[8+g/3];return function(y){return d(m*y)+p}}return{format:c,formatPrefix:f}}var ba,es,Uc;Hd({thousands:",",grouping:[3],currency:["$",""]});function Hd(n){return ba=Ud(n),es=ba.format,Uc=ba.formatPrefix,ba}function qd(n){return Math.max(0,-We(Math.abs(n)))}function Yd(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(We(t)/3)))*3-We(Math.abs(n)))}function Gd(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,We(t)-We(n))+1}var q=1e-6,Xr=1e-12,Z=Math.PI,pn=Z/2,ii=Z/4,zn=Z*2,an=180/Z,Y=Z/180,Q=Math.abs,ir=Math.atan,Un=Math.atan2,U=Math.cos,_a=Math.ceil,Xd=Math.exp,Io=Math.hypot,si=Math.log,js=Math.pow,O=Math.sin,tt=Math.sign||function(n){return n>0?1:n<0?-1:0},wn=Math.sqrt,Hc=Math.tan;function Wd(n){return n>1?0:n<-1?Z:Math.acos(n)}function Hn(n){return n>1?pn:n<-1?-pn:Math.asin(n)}function zf(n){return(n=O(n/2))*n}function ln(){}function oi(n,t){n&&Hf.hasOwnProperty(n.type)&&Hf[n.type](n,t)}var Uf={Feature:function(n,t){oi(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,a=e.length;++r<a;)oi(e[r].geometry,t)}},Hf={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,a=e.length;++r<a;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Bo(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,a=e.length;++r<a;)Bo(e[r],t,0)},Polygon:function(n,t){qf(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,a=e.length;++r<a;)qf(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,a=e.length;++r<a;)oi(e[r],t)}};function Bo(n,t,e){var r=-1,a=n.length-e,i;for(t.lineStart();++r<a;)i=n[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function qf(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Bo(n[e],t,1);t.polygonEnd()}function it(n,t){n&&Uf.hasOwnProperty(n.type)?Uf[n.type](n,t):oi(n,t)}var ci=new Fn,li=new Fn,Vd,jd,Oo,zo,Uo,yt={point:ln,lineStart:ln,lineEnd:ln,polygonStart:function(){ci=new Fn,yt.lineStart=rb,yt.lineEnd=ab},polygonEnd:function(){var n=+ci;li.add(n<0?zn+n:n),this.lineStart=this.lineEnd=this.point=ln},sphere:function(){li.add(zn)}};function rb(){yt.point=ib}function ab(){Zd(Vd,jd)}function ib(n,t){yt.point=Zd,Vd=n,jd=t,n*=Y,t*=Y,Oo=n,zo=U(t=t/2+ii),Uo=O(t)}function Zd(n,t){n*=Y,t*=Y,t=t/2+ii;var e=n-Oo,r=e>=0?1:-1,a=r*e,i=U(t),s=O(t),o=Uo*s,l=zo*i+o*U(a),c=o*r*O(a);ci.add(Un(c,l)),Oo=n,zo=i,Uo=s}function sb(n){return li=new Fn,it(n,yt),li*2}function fi(n){return[Un(n[1],n[0]),Hn(n[2])]}function he(n){var t=n[0],e=n[1],r=U(e);return[r*U(t),r*O(t),O(e)]}function wa(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function je(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Zs(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xa(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ui(n){var t=wn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var cn,Xn,dn,Zn,Jt,Qd,Kd,Oe,Nr,It,Dt,At={point:Ho,lineStart:Yf,lineEnd:Gf,polygonStart:function(){At.point=np,At.lineStart=ob,At.lineEnd=cb,Nr=new Fn,yt.polygonStart()},polygonEnd:function(){yt.polygonEnd(),At.point=Ho,At.lineStart=Yf,At.lineEnd=Gf,ci<0?(cn=-(dn=180),Xn=-(Zn=90)):Nr>q?Zn=90:Nr<-q&&(Xn=-90),Dt[0]=cn,Dt[1]=dn},sphere:function(){cn=-(dn=180),Xn=-(Zn=90)}};function Ho(n,t){It.push(Dt=[cn=n,dn=n]),t<Xn&&(Xn=t),t>Zn&&(Zn=t)}function Jd(n,t){var e=he([n*Y,t*Y]);if(Oe){var r=je(Oe,e),a=[r[1],-r[0],0],i=je(a,r);ui(i),i=fi(i);var s=n-Jt,o=s>0?1:-1,l=i[0]*an*o,c,f=Q(s)>180;f^(o*Jt<l&&l<o*n)?(c=i[1]*an,c>Zn&&(Zn=c)):(l=(l+360)%360-180,f^(o*Jt<l&&l<o*n)?(c=-i[1]*an,c<Xn&&(Xn=c)):(t<Xn&&(Xn=t),t>Zn&&(Zn=t))),f?n<Jt?Vn(cn,n)>Vn(cn,dn)&&(dn=n):Vn(n,dn)>Vn(cn,dn)&&(cn=n):dn>=cn?(n<cn&&(cn=n),n>dn&&(dn=n)):n>Jt?Vn(cn,n)>Vn(cn,dn)&&(dn=n):Vn(n,dn)>Vn(cn,dn)&&(cn=n)}else It.push(Dt=[cn=n,dn=n]);t<Xn&&(Xn=t),t>Zn&&(Zn=t),Oe=e,Jt=n}function Yf(){At.point=Jd}function Gf(){Dt[0]=cn,Dt[1]=dn,At.point=Ho,Oe=null}function np(n,t){if(Oe){var e=n-Jt;Nr.add(Q(e)>180?e+(e>0?360:-360):e)}else Qd=n,Kd=t;yt.point(n,t),Jd(n,t)}function ob(){yt.lineStart()}function cb(){np(Qd,Kd),yt.lineEnd(),Q(Nr)>q&&(cn=-(dn=180)),Dt[0]=cn,Dt[1]=dn,Oe=null}function Vn(n,t){return(t-=n)<0?t+360:t}function lb(n,t){return n[0]-t[0]}function Xf(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function fb(n){var t,e,r,a,i,s,o;if(Zn=dn=-(cn=Xn=1/0),It=[],it(n,At),e=It.length){for(It.sort(lb),t=1,r=It[0],i=[r];t<e;++t)a=It[t],Xf(r,a[0])||Xf(r,a[1])?(Vn(r[0],a[1])>Vn(r[0],r[1])&&(r[1]=a[1]),Vn(a[0],r[1])>Vn(r[0],r[1])&&(r[0]=a[0])):i.push(r=a);for(s=-1/0,e=i.length-1,t=0,r=i[e];t<=e;r=a,++t)a=i[t],(o=Vn(r[1],a[0]))>s&&(s=o,cn=a[0],dn=r[1])}return It=Dt=null,cn===1/0||Xn===1/0?[[NaN,NaN],[NaN,NaN]]:[[cn,Xn],[dn,Zn]]}var br,hi,di,pi,gi,yi,mi,vi,qo,Yo,Go,tp,ep,kn,Rn,Pn,st={sphere:ln,point:qc,lineStart:Wf,lineEnd:Vf,polygonStart:function(){st.lineStart=db,st.lineEnd=pb},polygonEnd:function(){st.lineStart=Wf,st.lineEnd=Vf}};function qc(n,t){n*=Y,t*=Y;var e=U(t);aa(e*U(n),e*O(n),O(t))}function aa(n,t,e){++br,di+=(n-di)/br,pi+=(t-pi)/br,gi+=(e-gi)/br}function Wf(){st.point=ub}function ub(n,t){n*=Y,t*=Y;var e=U(t);kn=e*U(n),Rn=e*O(n),Pn=O(t),st.point=hb,aa(kn,Rn,Pn)}function hb(n,t){n*=Y,t*=Y;var e=U(t),r=e*U(n),a=e*O(n),i=O(t),s=Un(wn((s=Rn*i-Pn*a)*s+(s=Pn*r-kn*i)*s+(s=kn*a-Rn*r)*s),kn*r+Rn*a+Pn*i);hi+=s,yi+=s*(kn+(kn=r)),mi+=s*(Rn+(Rn=a)),vi+=s*(Pn+(Pn=i)),aa(kn,Rn,Pn)}function Vf(){st.point=qc}function db(){st.point=gb}function pb(){rp(tp,ep),st.point=qc}function gb(n,t){tp=n,ep=t,n*=Y,t*=Y,st.point=rp;var e=U(t);kn=e*U(n),Rn=e*O(n),Pn=O(t),aa(kn,Rn,Pn)}function rp(n,t){n*=Y,t*=Y;var e=U(t),r=e*U(n),a=e*O(n),i=O(t),s=Rn*i-Pn*a,o=Pn*r-kn*i,l=kn*a-Rn*r,c=Io(s,o,l),f=Hn(c),h=c&&-f/c;qo.add(h*s),Yo.add(h*o),Go.add(h*l),hi+=f,yi+=f*(kn+(kn=r)),mi+=f*(Rn+(Rn=a)),vi+=f*(Pn+(Pn=i)),aa(kn,Rn,Pn)}function yb(n){br=hi=di=pi=gi=yi=mi=vi=0,qo=new Fn,Yo=new Fn,Go=new Fn,it(n,st);var t=+qo,e=+Yo,r=+Go,a=Io(t,e,r);return a<Xr&&(t=yi,e=mi,r=vi,hi<q&&(t=di,e=pi,r=gi),a=Io(t,e,r),a<Xr)?[NaN,NaN]:[Un(e,t)*an,Hn(r/a)*an]}function Le(n){return function(){return n}}function Xo(n,t){function e(r,a){return r=n(r,a),t(r[0],r[1])}return n.invert&&t.invert&&(e.invert=function(r,a){return r=t.invert(r,a),r&&n.invert(r[0],r[1])}),e}function Wo(n,t){return Q(n)>Z&&(n-=Math.round(n/zn)*zn),[n,t]}Wo.invert=Wo;function Yc(n,t,e){return(n%=zn)?t||e?Xo(Zf(n),Qf(t,e)):Zf(n):t||e?Qf(t,e):Wo}function jf(n){return function(t,e){return t+=n,Q(t)>Z&&(t-=Math.round(t/zn)*zn),[t,e]}}function Zf(n){var t=jf(n);return t.invert=jf(-n),t}function Qf(n,t){var e=U(n),r=O(n),a=U(t),i=O(t);function s(o,l){var c=U(l),f=U(o)*c,h=O(o)*c,u=O(l),d=u*e+f*r;return[Un(h*a-d*i,f*e-u*r),Hn(d*a+h*i)]}return s.invert=function(o,l){var c=U(l),f=U(o)*c,h=O(o)*c,u=O(l),d=u*a-h*i;return[Un(h*a+u*i,f*e+d*r),Hn(d*e-f*r)]},s}function ap(n){n=Yc(n[0]*Y,n[1]*Y,n.length>2?n[2]*Y:0);function t(e){return e=n(e[0]*Y,e[1]*Y),e[0]*=an,e[1]*=an,e}return t.invert=function(e){return e=n.invert(e[0]*Y,e[1]*Y),e[0]*=an,e[1]*=an,e},t}function ip(n,t,e,r,a,i){if(e){var s=U(t),o=O(t),l=r*e;a==null?(a=t+r*zn,i=t-l/2):(a=Kf(s,a),i=Kf(s,i),(r>0?a<i:a>i)&&(a+=r*zn));for(var c,f=a;r>0?f>i:f<i;f-=l)c=fi([s,-o*U(f),-o*O(f)]),n.point(c[0],c[1])}}function Kf(n,t){t=he(t),t[0]-=n,ui(t);var e=Wd(-t[1]);return((-t[2]<0?-e:e)+zn-q)%zn}function mb(){var n=Le([0,0]),t=Le(90),e=Le(2),r,a,i={point:s};function s(l,c){r.push(l=a(l,c)),l[0]*=an,l[1]*=an}function o(){var l=n.apply(this,arguments),c=t.apply(this,arguments)*Y,f=e.apply(this,arguments)*Y;return r=[],a=Yc(-l[0]*Y,-l[1]*Y,0).invert,ip(i,c,f,1),l={type:"Polygon",coordinates:[r]},r=a=null,l}return o.center=function(l){return arguments.length?(n=typeof l=="function"?l:Le([+l[0],+l[1]]),o):n},o.radius=function(l){return arguments.length?(t=typeof l=="function"?l:Le(+l),o):t},o.precision=function(l){return arguments.length?(e=typeof l=="function"?l:Le(+l),o):e},o}function sp(){var n=[],t;return{point:function(e,r,a){t.push([e,r,a])},lineStart:function(){n.push(t=[])},lineEnd:ln,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function za(n,t){return Q(n[0]-t[0])<q&&Q(n[1]-t[1])<q}function Ma(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function op(n,t,e,r,a){var i=[],s=[],o,l;if(n.forEach(function(g){if(!((m=g.length-1)<=0)){var m,p=g[0],y=g[m],b;if(za(p,y)){if(!p[2]&&!y[2]){for(a.lineStart(),o=0;o<m;++o)a.point((p=g[o])[0],p[1]);a.lineEnd();return}y[0]+=2*q}i.push(b=new Ma(p,g,null,!0)),s.push(b.o=new Ma(p,null,b,!1)),i.push(b=new Ma(y,g,null,!1)),s.push(b.o=new Ma(y,null,b,!0))}}),!!i.length){for(s.sort(t),Jf(i),Jf(s),o=0,l=s.length;o<l;++o)s[o].e=e=!e;for(var c=i[0],f,h;;){for(var u=c,d=!0;u.v;)if((u=u.n)===c)return;f=u.z,a.lineStart();do{if(u.v=u.o.v=!0,u.e){if(d)for(o=0,l=f.length;o<l;++o)a.point((h=f[o])[0],h[1]);else r(u.x,u.n.x,1,a);u=u.n}else{if(d)for(f=u.p.z,o=f.length-1;o>=0;--o)a.point((h=f[o])[0],h[1]);else r(u.x,u.p.x,-1,a);u=u.p}u=u.o,f=u.z,d=!d}while(!u.v);a.lineEnd()}}}function Jf(n){if(t=n.length){for(var t,e=0,r=n[0],a;++e<t;)r.n=a=n[e],a.p=r,r=a;r.n=a=n[0],a.p=r}}function Qs(n){return Q(n[0])<=Z?n[0]:tt(n[0])*((Q(n[0])+Z)%zn-Z)}function cp(n,t){var e=Qs(t),r=t[1],a=O(r),i=[O(e),-U(e),0],s=0,o=0,l=new Fn;a===1?r=pn+q:a===-1&&(r=-pn-q);for(var c=0,f=n.length;c<f;++c)if(u=(h=n[c]).length)for(var h,u,d=h[u-1],g=Qs(d),m=d[1]/2+ii,p=O(m),y=U(m),b=0;b<u;++b,g=v,p=w,y=T,d=F){var F=h[b],v=Qs(F),_=F[1]/2+ii,w=O(_),T=U(_),N=v-g,E=N>=0?1:-1,C=E*N,M=C>Z,$=p*w;if(l.add(Un($*E*O(C),y*T+$*U(C))),s+=M?N+E*zn:N,M^g>=e^v>=e){var L=je(he(d),he(F));ui(L);var x=je(i,L);ui(x);var A=(M^N>=0?-1:1)*Hn(x[2]);(r>A||r===A&&(L[0]||L[1]))&&(o+=M^N>=0?1:-1)}}return(s<-q||s<q&&l<-Xr)^o&1}function lp(n,t,e,r){return function(a){var i=t(a),s=sp(),o=t(s),l=!1,c,f,h,u={point:d,lineStart:m,lineEnd:p,polygonStart:function(){u.point=y,u.lineStart=b,u.lineEnd=F,f=[],c=[]},polygonEnd:function(){u.point=d,u.lineStart=m,u.lineEnd=p,f=vc(f);var v=cp(c,r);f.length?(l||(a.polygonStart(),l=!0),op(f,Fb,v,e,a)):v&&(l||(a.polygonStart(),l=!0),a.lineStart(),e(null,null,1,a),a.lineEnd()),l&&(a.polygonEnd(),l=!1),f=c=null},sphere:function(){a.polygonStart(),a.lineStart(),e(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function d(v,_){n(v,_)&&a.point(v,_)}function g(v,_){i.point(v,_)}function m(){u.point=g,i.lineStart()}function p(){u.point=d,i.lineEnd()}function y(v,_){h.push([v,_]),o.point(v,_)}function b(){o.lineStart(),h=[]}function F(){y(h[0][0],h[0][1]),o.lineEnd();var v=o.clean(),_=s.result(),w,T=_.length,N,E,C;if(h.pop(),c.push(h),h=null,!!T){if(v&1){if(E=_[0],(N=E.length-1)>0){for(l||(a.polygonStart(),l=!0),a.lineStart(),w=0;w<N;++w)a.point((C=E[w])[0],C[1]);a.lineEnd()}return}T>1&&v&2&&_.push(_.pop().concat(_.shift())),f.push(_.filter(vb))}}return u}}function vb(n){return n.length>1}function Fb(n,t){return((n=n.x)[0]<0?n[1]-pn-q:pn-n[1])-((t=t.x)[0]<0?t[1]-pn-q:pn-t[1])}const Vo=lp(function(){return!0},bb,wb,[-Z,-pn]);function bb(n){var t=NaN,e=NaN,r=NaN,a;return{lineStart:function(){n.lineStart(),a=1},point:function(i,s){var o=i>0?Z:-Z,l=Q(i-t);Q(l-Z)<q?(n.point(t,e=(e+s)/2>0?pn:-pn),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(o,e),n.point(i,e),a=0):r!==o&&l>=Z&&(Q(t-r)<q&&(t-=r*q),Q(i-o)<q&&(i-=o*q),e=_b(t,e,i,s),n.point(r,e),n.lineEnd(),n.lineStart(),n.point(o,e),a=0),n.point(t=i,e=s),r=o},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-a}}}function _b(n,t,e,r){var a,i,s=O(n-e);return Q(s)>q?ir((O(t)*(i=U(r))*O(e)-O(r)*(a=U(t))*O(n))/(a*i*s)):(t+r)/2}function wb(n,t,e,r){var a;if(n==null)a=e*pn,r.point(-Z,a),r.point(0,a),r.point(Z,a),r.point(Z,0),r.point(Z,-a),r.point(0,-a),r.point(-Z,-a),r.point(-Z,0),r.point(-Z,a);else if(Q(n[0]-t[0])>q){var i=n[0]<t[0]?Z:-Z;a=e*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])}function fp(n){var t=U(n),e=2*Y,r=t>0,a=Q(t)>q;function i(f,h,u,d){ip(d,n,e,u,f,h)}function s(f,h){return U(f)*U(h)>t}function o(f){var h,u,d,g,m;return{lineStart:function(){g=d=!1,m=1},point:function(p,y){var b=[p,y],F,v=s(p,y),_=r?v?0:c(p,y):v?c(p+(p<0?Z:-Z),y):0;if(!h&&(g=d=v)&&f.lineStart(),v!==d&&(F=l(h,b),(!F||za(h,F)||za(b,F))&&(b[2]=1)),v!==d)m=0,v?(f.lineStart(),F=l(b,h),f.point(F[0],F[1])):(F=l(h,b),f.point(F[0],F[1],2),f.lineEnd()),h=F;else if(a&&h&&r^v){var w;!(_&u)&&(w=l(b,h,!0))&&(m=0,r?(f.lineStart(),f.point(w[0][0],w[0][1]),f.point(w[1][0],w[1][1]),f.lineEnd()):(f.point(w[1][0],w[1][1]),f.lineEnd(),f.lineStart(),f.point(w[0][0],w[0][1],3)))}v&&(!h||!za(h,b))&&f.point(b[0],b[1]),h=b,d=v,u=_},lineEnd:function(){d&&f.lineEnd(),h=null},clean:function(){return m|(g&&d)<<1}}}function l(f,h,u){var d=he(f),g=he(h),m=[1,0,0],p=je(d,g),y=wa(p,p),b=p[0],F=y-b*b;if(!F)return!u&&f;var v=t*y/F,_=-t*b/F,w=je(m,p),T=xa(m,v),N=xa(p,_);Zs(T,N);var E=w,C=wa(T,E),M=wa(E,E),$=C*C-M*(wa(T,T)-1);if(!($<0)){var L=wn($),x=xa(E,(-C-L)/M);if(Zs(x,T),x=fi(x),!u)return x;var A=f[0],S=h[0],D=f[1],R=h[1],k;S<A&&(k=A,A=S,S=k);var I=S-A,z=Q(I-Z)<q,H=z||I<q;if(!z&&R<D&&(k=D,D=R,R=k),H?z?D+R>0^x[1]<(Q(x[0]-A)<q?D:R):D<=x[1]&&x[1]<=R:I>Z^(A<=x[0]&&x[0]<=S)){var en=xa(E,(-C+L)/M);return Zs(en,T),[x,fi(en)]}}}function c(f,h){var u=r?n:Z-n,d=0;return f<-u?d|=1:f>u&&(d|=2),h<-u?d|=4:h>u&&(d|=8),d}return lp(s,o,i,r?[0,-n]:[-Z,n-Z])}function xb(n,t,e,r,a,i){var s=n[0],o=n[1],l=t[0],c=t[1],f=0,h=1,u=l-s,d=c-o,g;if(g=e-s,!(!u&&g>0)){if(g/=u,u<0){if(g<f)return;g<h&&(h=g)}else if(u>0){if(g>h)return;g>f&&(f=g)}if(g=a-s,!(!u&&g<0)){if(g/=u,u<0){if(g>h)return;g>f&&(f=g)}else if(u>0){if(g<f)return;g<h&&(h=g)}if(g=r-o,!(!d&&g>0)){if(g/=d,d<0){if(g<f)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>f&&(f=g)}if(g=i-o,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<h&&(h=g)}return f>0&&(n[0]=s+f*u,n[1]=o+f*d),h<1&&(t[0]=s+h*u,t[1]=o+h*d),!0}}}}}var _r=1e9,Sa=-_r;function rs(n,t,e,r){function a(c,f){return n<=c&&c<=e&&t<=f&&f<=r}function i(c,f,h,u){var d=0,g=0;if(c==null||(d=s(c,h))!==(g=s(f,h))||l(c,f)<0^h>0)do u.point(d===0||d===3?n:e,d>1?r:t);while((d=(d+h+4)%4)!==g);else u.point(f[0],f[1])}function s(c,f){return Q(c[0]-n)<q?f>0?0:3:Q(c[0]-e)<q?f>0?2:1:Q(c[1]-t)<q?f>0?1:0:f>0?3:2}function o(c,f){return l(c.x,f.x)}function l(c,f){var h=s(c,1),u=s(f,1);return h!==u?h-u:h===0?f[1]-c[1]:h===1?c[0]-f[0]:h===2?c[1]-f[1]:f[0]-c[0]}return function(c){var f=c,h=sp(),u,d,g,m,p,y,b,F,v,_,w,T={point:N,lineStart:$,lineEnd:L,polygonStart:C,polygonEnd:M};function N(A,S){a(A,S)&&f.point(A,S)}function E(){for(var A=0,S=0,D=d.length;S<D;++S)for(var R=d[S],k=1,I=R.length,z=R[0],H,en,J=z[0],K=z[1];k<I;++k)H=J,en=K,z=R[k],J=z[0],K=z[1],en<=r?K>r&&(J-H)*(r-en)>(K-en)*(n-H)&&++A:K<=r&&(J-H)*(r-en)<(K-en)*(n-H)&&--A;return A}function C(){f=h,u=[],d=[],w=!0}function M(){var A=E(),S=w&&A,D=(u=vc(u)).length;(S||D)&&(c.polygonStart(),S&&(c.lineStart(),i(null,null,1,c),c.lineEnd()),D&&op(u,o,A,i,c),c.polygonEnd()),f=c,u=d=g=null}function $(){T.point=x,d&&d.push(g=[]),_=!0,v=!1,b=F=NaN}function L(){u&&(x(m,p),y&&v&&h.rejoin(),u.push(h.result())),T.point=N,v&&f.lineEnd()}function x(A,S){var D=a(A,S);if(d&&g.push([A,S]),_)m=A,p=S,y=D,_=!1,D&&(f.lineStart(),f.point(A,S));else if(D&&v)f.point(A,S);else{var R=[b=Math.max(Sa,Math.min(_r,b)),F=Math.max(Sa,Math.min(_r,F))],k=[A=Math.max(Sa,Math.min(_r,A)),S=Math.max(Sa,Math.min(_r,S))];xb(R,k,n,t,e,r)?(v||(f.lineStart(),f.point(R[0],R[1])),f.point(k[0],k[1]),D||f.lineEnd(),w=!1):D&&(f.lineStart(),f.point(A,S),w=!1)}b=A,F=S,v=D}return T}}function Mb(){var n=0,t=0,e=960,r=500,a,i,s;return s={stream:function(o){return a&&i===o?a:a=rs(n,t,e,r)(i=o)},extent:function(o){return arguments.length?(n=+o[0][0],t=+o[0][1],e=+o[1][0],r=+o[1][1],a=i=null,s):[[n,t],[e,r]]}}}var jo,Zo,Ua,Ha,Ze={sphere:ln,point:ln,lineStart:Sb,lineEnd:ln,polygonStart:ln,polygonEnd:ln};function Sb(){Ze.point=Cb,Ze.lineEnd=Ab}function Ab(){Ze.point=Ze.lineEnd=ln}function Cb(n,t){n*=Y,t*=Y,Zo=n,Ua=O(t),Ha=U(t),Ze.point=Eb}function Eb(n,t){n*=Y,t*=Y;var e=O(t),r=U(t),a=Q(n-Zo),i=U(a),s=O(a),o=r*s,l=Ha*e-Ua*r*i,c=Ua*e+Ha*r*i;jo.add(Un(wn(o*o+l*l),c)),Zo=n,Ua=e,Ha=r}function up(n){return jo=new Fn,it(n,Ze),+jo}var Qo=[null,null],Tb={type:"LineString",coordinates:Qo};function Fi(n,t){return Qo[0]=n,Qo[1]=t,up(Tb)}var nu={Feature:function(n,t){return bi(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,a=e.length;++r<a;)if(bi(e[r].geometry,t))return!0;return!1}},tu={Sphere:function(){return!0},Point:function(n,t){return eu(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,a=e.length;++r<a;)if(eu(e[r],t))return!0;return!1},LineString:function(n,t){return ru(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,a=e.length;++r<a;)if(ru(e[r],t))return!0;return!1},Polygon:function(n,t){return au(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,a=e.length;++r<a;)if(au(e[r],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,a=e.length;++r<a;)if(bi(e[r],t))return!0;return!1}};function bi(n,t){return n&&tu.hasOwnProperty(n.type)?tu[n.type](n,t):!1}function eu(n,t){return Fi(n,t)===0}function ru(n,t){for(var e,r,a,i=0,s=n.length;i<s;i++){if(r=Fi(n[i],t),r===0||i>0&&(a=Fi(n[i],n[i-1]),a>0&&e<=a&&r<=a&&(e+r-a)*(1-Math.pow((e-r)/a,2))<Xr*a))return!0;e=r}return!1}function au(n,t){return!!cp(n.map(Nb),hp(t))}function Nb(n){return n=n.map(hp),n.pop(),n}function hp(n){return[n[0]*Y,n[1]*Y]}function Lb(n,t){return(n&&nu.hasOwnProperty(n.type)?nu[n.type]:bi)(n,t)}function iu(n,t,e){var r=Bt(n,t-q,e).concat(t);return function(a){return r.map(function(i){return[a,i]})}}function su(n,t,e){var r=Bt(n,t-q,e).concat(t);return function(a){return r.map(function(i){return[i,a]})}}function dp(){var n,t,e,r,a,i,s,o,l=10,c=l,f=90,h=360,u,d,g,m,p=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return Bt(_a(r/f)*f,e,f).map(g).concat(Bt(_a(o/h)*h,s,h).map(m)).concat(Bt(_a(t/l)*l,n,l).filter(function(F){return Q(F%f)>q}).map(u)).concat(Bt(_a(i/c)*c,a,c).filter(function(F){return Q(F%h)>q}).map(d))}return y.lines=function(){return b().map(function(F){return{type:"LineString",coordinates:F}})},y.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(m(s).slice(1),g(e).reverse().slice(1),m(o).reverse().slice(1))]}},y.extent=function(F){return arguments.length?y.extentMajor(F).extentMinor(F):y.extentMinor()},y.extentMajor=function(F){return arguments.length?(r=+F[0][0],e=+F[1][0],o=+F[0][1],s=+F[1][1],r>e&&(F=r,r=e,e=F),o>s&&(F=o,o=s,s=F),y.precision(p)):[[r,o],[e,s]]},y.extentMinor=function(F){return arguments.length?(t=+F[0][0],n=+F[1][0],i=+F[0][1],a=+F[1][1],t>n&&(F=t,t=n,n=F),i>a&&(F=i,i=a,a=F),y.precision(p)):[[t,i],[n,a]]},y.step=function(F){return arguments.length?y.stepMajor(F).stepMinor(F):y.stepMinor()},y.stepMajor=function(F){return arguments.length?(f=+F[0],h=+F[1],y):[f,h]},y.stepMinor=function(F){return arguments.length?(l=+F[0],c=+F[1],y):[l,c]},y.precision=function(F){return arguments.length?(p=+F,u=iu(i,a,90),d=su(t,n,p),g=iu(o,s,90),m=su(r,e,p),y):p},y.extentMajor([[-180,-90+q],[180,90-q]]).extentMinor([[-180,-80-q],[180,80+q]])}function Db(){return dp()()}function $b(n,t){var e=n[0]*Y,r=n[1]*Y,a=t[0]*Y,i=t[1]*Y,s=U(r),o=O(r),l=U(i),c=O(i),f=s*U(e),h=s*O(e),u=l*U(a),d=l*O(a),g=2*Hn(wn(zf(i-r)+s*l*zf(a-e))),m=O(g),p=g?function(y){var b=O(y*=g)/m,F=O(g-y)/m,v=F*f+b*u,_=F*h+b*d,w=F*o+b*c;return[Un(_,v)*an,Un(w,wn(v*v+_*_))*an]}:function(){return[e*an,r*an]};return p.distance=g,p}const Wr=n=>n;var Ks=new Fn,Ko=new Fn,pp,gp,Jo,nc,Ct={point:ln,lineStart:ln,lineEnd:ln,polygonStart:function(){Ct.lineStart=kb,Ct.lineEnd=Pb},polygonEnd:function(){Ct.lineStart=Ct.lineEnd=Ct.point=ln,Ks.add(Q(Ko)),Ko=new Fn},result:function(){var n=Ks/2;return Ks=new Fn,n}};function kb(){Ct.point=Rb}function Rb(n,t){Ct.point=yp,pp=Jo=n,gp=nc=t}function yp(n,t){Ko.add(nc*n-Jo*t),Jo=n,nc=t}function Pb(){yp(pp,gp)}var Qe=1/0,_i=Qe,Vr=-Qe,wi=Vr,xi={point:Ib,lineStart:ln,lineEnd:ln,polygonStart:ln,polygonEnd:ln,result:function(){var n=[[Qe,_i],[Vr,wi]];return Vr=wi=-(_i=Qe=1/0),n}};function Ib(n,t){n<Qe&&(Qe=n),n>Vr&&(Vr=n),t<_i&&(_i=t),t>wi&&(wi=t)}var tc=0,ec=0,wr=0,Mi=0,Si=0,Re=0,rc=0,ac=0,xr=0,mp,vp,ft,ut,nt={point:de,lineStart:ou,lineEnd:cu,polygonStart:function(){nt.lineStart=zb,nt.lineEnd=Ub},polygonEnd:function(){nt.point=de,nt.lineStart=ou,nt.lineEnd=cu},result:function(){var n=xr?[rc/xr,ac/xr]:Re?[Mi/Re,Si/Re]:wr?[tc/wr,ec/wr]:[NaN,NaN];return tc=ec=wr=Mi=Si=Re=rc=ac=xr=0,n}};function de(n,t){tc+=n,ec+=t,++wr}function ou(){nt.point=Bb}function Bb(n,t){nt.point=Ob,de(ft=n,ut=t)}function Ob(n,t){var e=n-ft,r=t-ut,a=wn(e*e+r*r);Mi+=a*(ft+n)/2,Si+=a*(ut+t)/2,Re+=a,de(ft=n,ut=t)}function cu(){nt.point=de}function zb(){nt.point=Hb}function Ub(){Fp(mp,vp)}function Hb(n,t){nt.point=Fp,de(mp=ft=n,vp=ut=t)}function Fp(n,t){var e=n-ft,r=t-ut,a=wn(e*e+r*r);Mi+=a*(ft+n)/2,Si+=a*(ut+t)/2,Re+=a,a=ut*n-ft*t,rc+=a*(ft+n),ac+=a*(ut+t),xr+=a*3,de(ft=n,ut=t)}function bp(n){this._context=n}bp.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,zn);break}}},result:ln};var ic=new Fn,Js,_p,wp,Mr,Sr,jr={point:ln,lineStart:function(){jr.point=qb},lineEnd:function(){Js&&xp(_p,wp),jr.point=ln},polygonStart:function(){Js=!0},polygonEnd:function(){Js=null},result:function(){var n=+ic;return ic=new Fn,n}};function qb(n,t){jr.point=xp,_p=Mr=n,wp=Sr=t}function xp(n,t){Mr-=n,Sr-=t,ic.add(wn(Mr*Mr+Sr*Sr)),Mr=n,Sr=t}let lu,Ai,fu,uu;class hu{constructor(t){this._append=t==null?Mp:Yb(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==fu||this._append!==Ai){const r=this._radius,a=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,fu=r,Ai=this._append,uu=this._,this._=a}this._+=uu;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Mp(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function Yb(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Mp;if(t!==lu){const e=10**t;lu=t,Ai=function(a){let i=1;this._+=a[0];for(const s=a.length;i<s;++i)this._+=Math.round(arguments[i]*e)/e+a[i]}}return Ai}function Gb(n,t){let e=3,r=4.5,a,i;function s(o){return o&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),it(o,a(i))),i.result()}return s.area=function(o){return it(o,a(Ct)),Ct.result()},s.measure=function(o){return it(o,a(jr)),jr.result()},s.bounds=function(o){return it(o,a(xi)),xi.result()},s.centroid=function(o){return it(o,a(nt)),nt.result()},s.projection=function(o){return arguments.length?(a=o==null?(n=null,Wr):(n=o).stream,s):n},s.context=function(o){return arguments.length?(i=o==null?(t=null,new hu(e)):new bp(t=o),typeof r!="function"&&i.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(i.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return e;if(o==null)e=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);e=l}return t===null&&(i=new hu(e)),s},s.projection(n).digits(e).context(t)}function Xb(n){return{stream:ia(n)}}function ia(n){return function(t){var e=new sc;for(var r in n)e[r]=n[r];return e.stream=t,e}}function sc(){}sc.prototype={constructor:sc,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Gc(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),r!=null&&n.clipExtent(null),it(e,n.stream(xi)),t(xi.result()),r!=null&&n.clipExtent(r),n}function as(n,t,e){return Gc(n,function(r){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],s=Math.min(a/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),o=+t[0][0]+(a-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(i-s*(r[1][1]+r[0][1]))/2;n.scale(150*s).translate([o,l])},e)}function Xc(n,t,e){return as(n,[[0,0],t],e)}function Wc(n,t,e){return Gc(n,function(r){var a=+t,i=a/(r[1][0]-r[0][0]),s=(a-i*(r[1][0]+r[0][0]))/2,o=-i*r[0][1];n.scale(150*i).translate([s,o])},e)}function Vc(n,t,e){return Gc(n,function(r){var a=+t,i=a/(r[1][1]-r[0][1]),s=-i*r[0][0],o=(a-i*(r[1][1]+r[0][1]))/2;n.scale(150*i).translate([s,o])},e)}var du=16,Wb=U(30*Y);function pu(n,t){return+t?jb(n,t):Vb(n)}function Vb(n){return ia({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function jb(n,t){function e(r,a,i,s,o,l,c,f,h,u,d,g,m,p){var y=c-r,b=f-a,F=y*y+b*b;if(F>4*t&&m--){var v=s+u,_=o+d,w=l+g,T=wn(v*v+_*_+w*w),N=Hn(w/=T),E=Q(Q(w)-1)<q||Q(i-h)<q?(i+h)/2:Un(_,v),C=n(E,N),M=C[0],$=C[1],L=M-r,x=$-a,A=b*L-y*x;(A*A/F>t||Q((y*L+b*x)/F-.5)>.3||s*u+o*d+l*g<Wb)&&(e(r,a,i,s,o,l,M,$,E,v/=T,_/=T,w,m,p),p.point(M,$),e(M,$,E,v,_,w,c,f,h,u,d,g,m,p))}}return function(r){var a,i,s,o,l,c,f,h,u,d,g,m,p={point:y,lineStart:b,lineEnd:v,polygonStart:function(){r.polygonStart(),p.lineStart=_},polygonEnd:function(){r.polygonEnd(),p.lineStart=b}};function y(N,E){N=n(N,E),r.point(N[0],N[1])}function b(){h=NaN,p.point=F,r.lineStart()}function F(N,E){var C=he([N,E]),M=n(N,E);e(h,u,f,d,g,m,h=M[0],u=M[1],f=N,d=C[0],g=C[1],m=C[2],du,r),r.point(h,u)}function v(){p.point=y,r.lineEnd()}function _(){b(),p.point=w,p.lineEnd=T}function w(N,E){F(a=N,E),i=h,s=u,o=d,l=g,c=m,p.point=F}function T(){e(h,u,f,d,g,m,i,s,a,o,l,c,du,r),p.lineEnd=v,v()}return p}}var Zb=ia({point:function(n,t){this.stream.point(n*Y,t*Y)}});function Qb(n){return ia({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}function Kb(n,t,e,r,a){function i(s,o){return s*=r,o*=a,[t+n*s,e-n*o]}return i.invert=function(s,o){return[(s-t)/n*r,(e-o)/n*a]},i}function gu(n,t,e,r,a,i){if(!i)return Kb(n,t,e,r,a);var s=U(i),o=O(i),l=s*n,c=o*n,f=s/n,h=o/n,u=(o*e-s*t)/n,d=(o*t+s*e)/n;function g(m,p){return m*=r,p*=a,[l*m-c*p+t,e-c*m-l*p]}return g.invert=function(m,p){return[r*(f*m-h*p+u),a*(d-h*m-f*p)]},g}function bt(n){return jc(function(){return n})()}function jc(n){var t,e=150,r=480,a=250,i=0,s=0,o=0,l=0,c=0,f,h=0,u=1,d=1,g=null,m=Vo,p=null,y,b,F,v=Wr,_=.5,w,T,N,E,C;function M(A){return N(A[0]*Y,A[1]*Y)}function $(A){return A=N.invert(A[0],A[1]),A&&[A[0]*an,A[1]*an]}M.stream=function(A){return E&&C===A?E:E=Zb(Qb(f)(m(w(v(C=A)))))},M.preclip=function(A){return arguments.length?(m=A,g=void 0,x()):m},M.postclip=function(A){return arguments.length?(v=A,p=y=b=F=null,x()):v},M.clipAngle=function(A){return arguments.length?(m=+A?fp(g=A*Y):(g=null,Vo),x()):g*an},M.clipExtent=function(A){return arguments.length?(v=A==null?(p=y=b=F=null,Wr):rs(p=+A[0][0],y=+A[0][1],b=+A[1][0],F=+A[1][1]),x()):p==null?null:[[p,y],[b,F]]},M.scale=function(A){return arguments.length?(e=+A,L()):e},M.translate=function(A){return arguments.length?(r=+A[0],a=+A[1],L()):[r,a]},M.center=function(A){return arguments.length?(i=A[0]%360*Y,s=A[1]%360*Y,L()):[i*an,s*an]},M.rotate=function(A){return arguments.length?(o=A[0]%360*Y,l=A[1]%360*Y,c=A.length>2?A[2]%360*Y:0,L()):[o*an,l*an,c*an]},M.angle=function(A){return arguments.length?(h=A%360*Y,L()):h*an},M.reflectX=function(A){return arguments.length?(u=A?-1:1,L()):u<0},M.reflectY=function(A){return arguments.length?(d=A?-1:1,L()):d<0},M.precision=function(A){return arguments.length?(w=pu(T,_=A*A),x()):wn(_)},M.fitExtent=function(A,S){return as(M,A,S)},M.fitSize=function(A,S){return Xc(M,A,S)},M.fitWidth=function(A,S){return Wc(M,A,S)},M.fitHeight=function(A,S){return Vc(M,A,S)};function L(){var A=gu(e,0,0,u,d,h).apply(null,t(i,s)),S=gu(e,r-A[0],a-A[1],u,d,h);return f=Yc(o,l,c),T=Xo(t,S),N=Xo(f,T),w=pu(T,_),x()}function x(){return E=C=null,M}return function(){return t=n.apply(this,arguments),M.invert=t.invert&&$,L()}}function Zc(n){var t=0,e=Z/3,r=jc(n),a=r(t,e);return a.parallels=function(i){return arguments.length?r(t=i[0]*Y,e=i[1]*Y):[t*an,e*an]},a}function Jb(n){var t=U(n);function e(r,a){return[r*t,O(a)/t]}return e.invert=function(r,a){return[r/t,Hn(a*t)]},e}function Sp(n,t){var e=O(n),r=(e+O(t))/2;if(Q(r)<q)return Jb(n);var a=1+e*(2*r-e),i=wn(a)/r;function s(o,l){var c=wn(a-2*r*O(l))/r;return[c*O(o*=r),i-c*U(o)]}return s.invert=function(o,l){var c=i-l,f=Un(o,Q(c))*tt(c);return c*r<0&&(f-=Z*tt(o)*tt(c)),[f/r,Hn((a-(o*o+c*c)*r*r)/(2*r))]},s}function Ci(){return Zc(Sp).scale(155.424).center([0,33.6442])}function Ap(){return Ci().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function n4(n){var t=n.length;return{point:function(e,r){for(var a=-1;++a<t;)n[a].point(e,r)},sphere:function(){for(var e=-1;++e<t;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<t;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<t;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<t;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<t;)n[e].polygonEnd()}}}function t4(){var n,t,e=Ap(),r,a=Ci().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,s=Ci().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,c={point:function(u,d){l=[u,d]}};function f(u){var d=u[0],g=u[1];return l=null,r.point(d,g),l||(i.point(d,g),l)||(o.point(d,g),l)}f.invert=function(u){var d=e.scale(),g=e.translate(),m=(u[0]-g[0])/d,p=(u[1]-g[1])/d;return(p>=.12&&p<.234&&m>=-.425&&m<-.214?a:p>=.166&&p<.234&&m>=-.214&&m<-.115?s:e).invert(u)},f.stream=function(u){return n&&t===u?n:n=n4([e.stream(t=u),a.stream(u),s.stream(u)])},f.precision=function(u){return arguments.length?(e.precision(u),a.precision(u),s.precision(u),h()):e.precision()},f.scale=function(u){return arguments.length?(e.scale(u),a.scale(u*.35),s.scale(u),f.translate(e.translate())):e.scale()},f.translate=function(u){if(!arguments.length)return e.translate();var d=e.scale(),g=+u[0],m=+u[1];return r=e.translate(u).clipExtent([[g-.455*d,m-.238*d],[g+.455*d,m+.238*d]]).stream(c),i=a.translate([g-.307*d,m+.201*d]).clipExtent([[g-.425*d+q,m+.12*d+q],[g-.214*d-q,m+.234*d-q]]).stream(c),o=s.translate([g-.205*d,m+.212*d]).clipExtent([[g-.214*d+q,m+.166*d+q],[g-.115*d-q,m+.234*d-q]]).stream(c),h()},f.fitExtent=function(u,d){return as(f,u,d)},f.fitSize=function(u,d){return Xc(f,u,d)},f.fitWidth=function(u,d){return Wc(f,u,d)},f.fitHeight=function(u,d){return Vc(f,u,d)};function h(){return n=t=null,f}return f.scale(1070)}function Cp(n){return function(t,e){var r=U(t),a=U(e),i=n(r*a);return i===1/0?[2,0]:[i*a*O(t),i*O(e)]}}function sa(n){return function(t,e){var r=wn(t*t+e*e),a=n(r),i=O(a),s=U(a);return[Un(t*i,r*s),Hn(r&&e*i/r)]}}var Qc=Cp(function(n){return wn(2/(1+n))});Qc.invert=sa(function(n){return 2*Hn(n/2)});function e4(){return bt(Qc).scale(124.75).clipAngle(180-.001)}var Kc=Cp(function(n){return(n=Wd(n))&&n/O(n)});Kc.invert=sa(function(n){return n});function r4(){return bt(Kc).scale(79.4188).clipAngle(180-.001)}function oa(n,t){return[n,si(Hc((pn+t)/2))]}oa.invert=function(n,t){return[n,2*ir(Xd(t))-pn]};function Ep(){return Tp(oa).scale(961/zn)}function Tp(n){var t=bt(n),e=t.center,r=t.scale,a=t.translate,i=t.clipExtent,s=null,o,l,c;t.scale=function(h){return arguments.length?(r(h),f()):r()},t.translate=function(h){return arguments.length?(a(h),f()):a()},t.center=function(h){return arguments.length?(e(h),f()):e()},t.clipExtent=function(h){return arguments.length?(h==null?s=o=l=c=null:(s=+h[0][0],o=+h[0][1],l=+h[1][0],c=+h[1][1]),f()):s==null?null:[[s,o],[l,c]]};function f(){var h=Z*r(),u=t(ap(t.rotate()).invert([0,0]));return i(s==null?[[u[0]-h,u[1]-h],[u[0]+h,u[1]+h]]:n===oa?[[Math.max(u[0]-h,s),o],[Math.min(u[0]+h,l),c]]:[[s,Math.max(u[1]-h,o)],[l,Math.min(u[1]+h,c)]])}return f()}function Aa(n){return Hc((pn+n)/2)}function Np(n,t){var e=U(n),r=n===t?O(n):si(e/U(t))/si(Aa(t)/Aa(n)),a=e*js(Aa(n),r)/r;if(!r)return oa;function i(s,o){a>0?o<-pn+q&&(o=-pn+q):o>pn-q&&(o=pn-q);var l=a/js(Aa(o),r);return[l*O(r*s),a-l*U(r*s)]}return i.invert=function(s,o){var l=a-o,c=tt(r)*wn(s*s+l*l),f=Un(s,Q(l))*tt(l);return l*r<0&&(f-=Z*tt(s)*tt(l)),[f/r,2*ir(js(a/c,1/r))-pn]},i}function a4(){return Zc(Np).scale(109.5).parallels([30,30])}function Zr(n,t){return[n,t]}Zr.invert=Zr;function i4(){return bt(Zr).scale(152.63)}function Lp(n,t){var e=U(n),r=n===t?O(n):(e-U(t))/(t-n),a=e/r+n;if(Q(r)<q)return Zr;function i(s,o){var l=a-o,c=r*s;return[l*O(c),a-l*U(c)]}return i.invert=function(s,o){var l=a-o,c=Un(s,Q(l))*tt(l);return l*r<0&&(c-=Z*tt(s)*tt(l)),[c/r,a-tt(r)*wn(s*s+l*l)]},i}function s4(){return Zc(Lp).scale(131.154).center([0,13.9389])}var Lr=1.340264,Dr=-.081106,$r=893e-6,kr=.003796,Ei=wn(3)/2,o4=12;function Jc(n,t){var e=Hn(Ei*O(t)),r=e*e,a=r*r*r;return[n*U(e)/(Ei*(Lr+3*Dr*r+a*(7*$r+9*kr*r))),e*(Lr+Dr*r+a*($r+kr*r))]}Jc.invert=function(n,t){for(var e=t,r=e*e,a=r*r*r,i=0,s,o,l;i<o4&&(o=e*(Lr+Dr*r+a*($r+kr*r))-t,l=Lr+3*Dr*r+a*(7*$r+9*kr*r),e-=s=o/l,r=e*e,a=r*r*r,!(Q(s)<Xr));++i);return[Ei*n*(Lr+3*Dr*r+a*(7*$r+9*kr*r))/U(e),Hn(O(e)/Ei)]};function c4(){return bt(Jc).scale(177.158)}function nl(n,t){var e=U(t),r=U(n)*e;return[e*O(n)/r,O(t)/r]}nl.invert=sa(ir);function l4(){return bt(nl).scale(144.049).clipAngle(60)}function f4(){var n=1,t=0,e=0,r=1,a=1,i=0,s,o,l=null,c,f,h,u=1,d=1,g=ia({point:function(v,_){var w=F([v,_]);this.stream.point(w[0],w[1])}}),m=Wr,p,y;function b(){return u=n*r,d=n*a,p=y=null,F}function F(v){var _=v[0]*u,w=v[1]*d;if(i){var T=w*s-_*o;_=_*s+w*o,w=T}return[_+t,w+e]}return F.invert=function(v){var _=v[0]-t,w=v[1]-e;if(i){var T=w*s+_*o;_=_*s-w*o,w=T}return[_/u,w/d]},F.stream=function(v){return p&&y===v?p:p=g(m(y=v))},F.postclip=function(v){return arguments.length?(m=v,l=c=f=h=null,b()):m},F.clipExtent=function(v){return arguments.length?(m=v==null?(l=c=f=h=null,Wr):rs(l=+v[0][0],c=+v[0][1],f=+v[1][0],h=+v[1][1]),b()):l==null?null:[[l,c],[f,h]]},F.scale=function(v){return arguments.length?(n=+v,b()):n},F.translate=function(v){return arguments.length?(t=+v[0],e=+v[1],b()):[t,e]},F.angle=function(v){return arguments.length?(i=v%360*Y,o=O(i),s=U(i),b()):i*an},F.reflectX=function(v){return arguments.length?(r=v?-1:1,b()):r<0},F.reflectY=function(v){return arguments.length?(a=v?-1:1,b()):a<0},F.fitExtent=function(v,_){return as(F,v,_)},F.fitSize=function(v,_){return Xc(F,v,_)},F.fitWidth=function(v,_){return Wc(F,v,_)},F.fitHeight=function(v,_){return Vc(F,v,_)},F}function tl(n,t){var e=t*t,r=e*e;return[n*(.8707-.131979*e+r*(-.013791+r*(.003971*e-.001529*r))),t*(1.007226+e*(.015085+r*(-.044475+.028874*e-.005916*r)))]}tl.invert=function(n,t){var e=t,r=25,a;do{var i=e*e,s=i*i;e-=a=(e*(1.007226+i*(.015085+s*(-.044475+.028874*i-.005916*s)))-t)/(1.007226+i*(.015085*3+s*(-.044475*7+.028874*9*i-.005916*11*s)))}while(Q(a)>q&&--r>0);return[n/(.8707+(i=e*e)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),e]};function u4(){return bt(tl).scale(175.295)}function el(n,t){return[U(t)*O(n),O(t)]}el.invert=sa(Hn);function h4(){return bt(el).scale(249.5).clipAngle(90+q)}function rl(n,t){var e=U(t),r=1+U(n)*e;return[e*O(n)/r,O(t)/r]}rl.invert=sa(function(n){return 2*ir(n)});function d4(){return bt(rl).scale(250).clipAngle(142)}function al(n,t){return[si(Hc((pn+t)/2)),-n]}al.invert=function(n,t){return[-t,2*ir(Xd(n))-pn]};function p4(){var n=Tp(al),t=n.center,e=n.rotate;return n.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},n.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function g4(n,t){return n.parent===t.parent?1:2}function y4(n){return n.reduce(m4,0)/n.length}function m4(n,t){return n+t.x}function v4(n){return 1+n.reduce(F4,0)}function F4(n,t){return Math.max(n,t.y)}function b4(n){for(var t;t=n.children;)n=t[0];return n}function _4(n){for(var t;t=n.children;)n=t[t.length-1];return n}function w4(){var n=g4,t=1,e=1,r=!1;function a(i){var s,o=0;i.eachAfter(function(u){var d=u.children;d?(u.x=y4(d),u.y=v4(d)):(u.x=s?o+=n(u,s):0,u.y=0,s=u)});var l=b4(i),c=_4(i),f=l.x-n(l,c)/2,h=c.x+n(c,l)/2;return i.eachAfter(r?function(u){u.x=(u.x-i.x)*t,u.y=(i.y-u.y)*e}:function(u){u.x=(u.x-f)/(h-f)*t,u.y=(1-(i.y?u.y/i.y:1))*e})}return a.separation=function(i){return arguments.length?(n=i,a):n},a.size=function(i){return arguments.length?(r=!1,t=+i[0],e=+i[1],a):r?null:[t,e]},a.nodeSize=function(i){return arguments.length?(r=!0,t=+i[0],e=+i[1],a):r?[t,e]:null},a}function x4(n){var t=0,e=n.children,r=e&&e.length;if(!r)t=1;else for(;--r>=0;)t+=e[r].value;n.value=t}function M4(){return this.eachAfter(x4)}function S4(n,t){let e=-1;for(const r of this)n.call(t,r,++e,this);return this}function A4(n,t){for(var e=this,r=[e],a,i,s=-1;e=r.pop();)if(n.call(t,e,++s,this),a=e.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function C4(n,t){for(var e=this,r=[e],a=[],i,s,o,l=-1;e=r.pop();)if(a.push(e),i=e.children)for(s=0,o=i.length;s<o;++s)r.push(i[s]);for(;e=a.pop();)n.call(t,e,++l,this);return this}function E4(n,t){let e=-1;for(const r of this)if(n.call(t,r,++e,this))return r}function T4(n){return this.eachAfter(function(t){for(var e=+n(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)e+=r[a].value;t.value=e})}function N4(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})}function L4(n){for(var t=this,e=D4(t,n),r=[t];t!==e;)t=t.parent,r.push(t);for(var a=r.length;n!==e;)r.splice(a,0,n),n=n.parent;return r}function D4(n,t){if(n===t)return n;var e=n.ancestors(),r=t.ancestors(),a=null;for(n=e.pop(),t=r.pop();n===t;)a=n,n=e.pop(),t=r.pop();return a}function $4(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t}function k4(){return Array.from(this)}function R4(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n}function P4(){var n=this,t=[];return n.each(function(e){e!==n&&t.push({source:e.parent,target:e})}),t}function*I4(){var n=this,t,e=[n],r,a,i;do for(t=e.reverse(),e=[];n=t.pop();)if(yield n,r=n.children)for(a=0,i=r.length;a<i;++a)e.push(r[a]);while(e.length)}function il(n,t){n instanceof Map?(n=[void 0,n],t===void 0&&(t=z4)):t===void 0&&(t=O4);for(var e=new pe(n),r,a=[e],i,s,o,l;r=a.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,o=l-1;o>=0;--o)a.push(i=s[o]=new pe(s[o])),i.parent=r,i.depth=r.depth+1;return e.eachBefore(Dp)}function B4(){return il(this).eachBefore(U4)}function O4(n){return n.children}function z4(n){return Array.isArray(n)?n[1]:null}function U4(n){n.data.value!==void 0&&(n.value=n.data.value),n.data=n.data.data}function Dp(n){var t=0;do n.height=t;while((n=n.parent)&&n.height<++t)}function pe(n){this.data=n,this.depth=this.height=0,this.parent=null}pe.prototype=il.prototype={constructor:pe,count:M4,each:S4,eachAfter:C4,eachBefore:A4,find:E4,sum:T4,sort:N4,path:L4,ancestors:$4,descendants:k4,leaves:R4,links:P4,copy:B4,[Symbol.iterator]:I4};function qa(n){return n==null?null:$p(n)}function $p(n){if(typeof n!="function")throw new Error;return n}function ne(){return 0}function $e(n){return function(){return n}}const H4=1664525,q4=1013904223,yu=4294967296;function sl(){let n=1;return()=>(n=(H4*n+q4)%yu)/yu}function Y4(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function G4(n,t){let e=n.length,r,a;for(;e;)a=t()*e--|0,r=n[e],n[e]=n[a],n[a]=r;return n}function X4(n){return kp(n,sl())}function kp(n,t){for(var e=0,r=(n=G4(Array.from(n),t)).length,a=[],i,s;e<r;)i=n[e],s&&Rp(s,i)?++e:(s=V4(a=W4(a,i)),e=0);return s}function W4(n,t){var e,r;if(no(t,n))return[t];for(e=0;e<n.length;++e)if(Ca(t,n[e])&&no(Ar(n[e],t),n))return[n[e],t];for(e=0;e<n.length-1;++e)for(r=e+1;r<n.length;++r)if(Ca(Ar(n[e],n[r]),t)&&Ca(Ar(n[e],t),n[r])&&Ca(Ar(n[r],t),n[e])&&no(Pp(n[e],n[r],t),n))return[n[e],n[r],t];throw new Error}function Ca(n,t){var e=n.r-t.r,r=t.x-n.x,a=t.y-n.y;return e<0||e*e<r*r+a*a}function Rp(n,t){var e=n.r-t.r+Math.max(n.r,t.r,1)*1e-9,r=t.x-n.x,a=t.y-n.y;return e>0&&e*e>r*r+a*a}function no(n,t){for(var e=0;e<t.length;++e)if(!Rp(n,t[e]))return!1;return!0}function V4(n){switch(n.length){case 1:return j4(n[0]);case 2:return Ar(n[0],n[1]);case 3:return Pp(n[0],n[1],n[2])}}function j4(n){return{x:n.x,y:n.y,r:n.r}}function Ar(n,t){var e=n.x,r=n.y,a=n.r,i=t.x,s=t.y,o=t.r,l=i-e,c=s-r,f=o-a,h=Math.sqrt(l*l+c*c);return{x:(e+i+l/h*f)/2,y:(r+s+c/h*f)/2,r:(h+a+o)/2}}function Pp(n,t,e){var r=n.x,a=n.y,i=n.r,s=t.x,o=t.y,l=t.r,c=e.x,f=e.y,h=e.r,u=r-s,d=r-c,g=a-o,m=a-f,p=l-i,y=h-i,b=r*r+a*a-i*i,F=b-s*s-o*o+l*l,v=b-c*c-f*f+h*h,_=d*g-u*m,w=(g*v-m*F)/(_*2)-r,T=(m*p-g*y)/_,N=(d*F-u*v)/(_*2)-a,E=(u*y-d*p)/_,C=T*T+E*E-1,M=2*(i+w*T+N*E),$=w*w+N*N-i*i,L=-(Math.abs(C)>1e-6?(M+Math.sqrt(M*M-4*C*$))/(2*C):$/M);return{x:r+w+T*L,y:a+N+E*L,r:L}}function mu(n,t,e){var r=n.x-t.x,a,i,s=n.y-t.y,o,l,c=r*r+s*s;c?(i=t.r+e.r,i*=i,l=n.r+e.r,l*=l,i>l?(a=(c+l-i)/(2*c),o=Math.sqrt(Math.max(0,l/c-a*a)),e.x=n.x-a*r-o*s,e.y=n.y-a*s+o*r):(a=(c+i-l)/(2*c),o=Math.sqrt(Math.max(0,i/c-a*a)),e.x=t.x+a*r-o*s,e.y=t.y+a*s+o*r)):(e.x=t.x+e.r,e.y=t.y)}function vu(n,t){var e=n.r+t.r-1e-6,r=t.x-n.x,a=t.y-n.y;return e>0&&e*e>r*r+a*a}function Fu(n){var t=n._,e=n.next._,r=t.r+e.r,a=(t.x*e.r+e.x*t.r)/r,i=(t.y*e.r+e.y*t.r)/r;return a*a+i*i}function Ea(n){this._=n,this.next=null,this.previous=null}function Ip(n,t){if(!(i=(n=Y4(n)).length))return 0;var e,r,a,i,s,o,l,c,f,h,u;if(e=n[0],e.x=0,e.y=0,!(i>1))return e.r;if(r=n[1],e.x=-r.r,r.x=e.r,r.y=0,!(i>2))return e.r+r.r;mu(r,e,a=n[2]),e=new Ea(e),r=new Ea(r),a=new Ea(a),e.next=a.previous=r,r.next=e.previous=a,a.next=r.previous=e;n:for(l=3;l<i;++l){mu(e._,r._,a=n[l]),a=new Ea(a),c=r.next,f=e.previous,h=r._.r,u=e._.r;do if(h<=u){if(vu(c._,a._)){r=c,e.next=r,r.previous=e,--l;continue n}h+=c._.r,c=c.next}else{if(vu(f._,a._)){e=f,e.next=r,r.previous=e,--l;continue n}u+=f._.r,f=f.previous}while(c!==f.next);for(a.previous=e,a.next=r,e.next=r.previous=r=a,s=Fu(e);(a=a.next)!==r;)(o=Fu(a))<s&&(e=a,s=o);r=e.next}for(e=[r._],a=r;(a=a.next)!==r;)e.push(a._);for(a=kp(e,t),l=0;l<i;++l)e=n[l],e.x-=a.x,e.y-=a.y;return a.r}function Z4(n){return Ip(n,sl()),n}function Q4(n){return Math.sqrt(n.value)}function K4(){var n=null,t=1,e=1,r=ne;function a(i){const s=sl();return i.x=t/2,i.y=e/2,n?i.eachBefore(bu(n)).eachAfter(to(r,.5,s)).eachBefore(_u(1)):i.eachBefore(bu(Q4)).eachAfter(to(ne,1,s)).eachAfter(to(r,i.r/Math.min(t,e),s)).eachBefore(_u(Math.min(t,e)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(n=qa(i),a):n},a.size=function(i){return arguments.length?(t=+i[0],e=+i[1],a):[t,e]},a.padding=function(i){return arguments.length?(r=typeof i=="function"?i:$e(+i),a):r},a}function bu(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function to(n,t,e){return function(r){if(a=r.children){var a,i,s=a.length,o=n(r)*t||0,l;if(o)for(i=0;i<s;++i)a[i].r+=o;if(l=Ip(a,e),o)for(i=0;i<s;++i)a[i].r-=o;r.r=l+o}}}function _u(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function Bp(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function ca(n,t,e,r,a){for(var i=n.children,s,o=-1,l=i.length,c=n.value&&(r-t)/n.value;++o<l;)s=i[o],s.y0=e,s.y1=a,s.x0=t,s.x1=t+=s.value*c}function J4(){var n=1,t=1,e=0,r=!1;function a(s){var o=s.height+1;return s.x0=s.y0=e,s.x1=n,s.y1=t/o,s.eachBefore(i(t,o)),r&&s.eachBefore(Bp),s}function i(s,o){return function(l){l.children&&ca(l,l.x0,s*(l.depth+1)/o,l.x1,s*(l.depth+2)/o);var c=l.x0,f=l.y0,h=l.x1-e,u=l.y1-e;h<c&&(c=h=(c+h)/2),u<f&&(f=u=(f+u)/2),l.x0=c,l.y0=f,l.x1=h,l.y1=u}}return a.round=function(s){return arguments.length?(r=!!s,a):r},a.size=function(s){return arguments.length?(n=+s[0],t=+s[1],a):[n,t]},a.padding=function(s){return arguments.length?(e=+s,a):e},a}var n_={depth:-1},wu={},eo={};function t_(n){return n.id}function e_(n){return n.parentId}function r_(){var n=t_,t=e_,e;function r(a){var i=Array.from(a),s=n,o=t,l,c,f,h,u,d,g,m,p=new Map;if(e!=null){const y=i.map((v,_)=>a_(e(v,_,a))),b=y.map(xu),F=new Set(y).add("");for(const v of b)F.has(v)||(F.add(v),y.push(v),b.push(xu(v)),i.push(eo));s=(v,_)=>y[_],o=(v,_)=>b[_]}for(f=0,l=i.length;f<l;++f)c=i[f],d=i[f]=new pe(c),(g=s(c,f,a))!=null&&(g+="")&&(m=d.id=g,p.set(m,p.has(m)?wu:d)),(g=o(c,f,a))!=null&&(g+="")&&(d.parent=g);for(f=0;f<l;++f)if(d=i[f],g=d.parent){if(u=p.get(g),!u)throw new Error("missing: "+g);if(u===wu)throw new Error("ambiguous: "+g);u.children?u.children.push(d):u.children=[d],d.parent=u}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(e!=null){for(;h.data===eo&&h.children.length===1;)h=h.children[0],--l;for(let y=i.length-1;y>=0&&(d=i[y],d.data===eo);--y)d.data=null}if(h.parent=n_,h.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(Dp),h.parent=null,l>0)throw new Error("cycle");return h}return r.id=function(a){return arguments.length?(n=qa(a),r):n},r.parentId=function(a){return arguments.length?(t=qa(a),r):t},r.path=function(a){return arguments.length?(e=qa(a),r):e},r}function a_(n){n=`${n}`;let t=n.length;return oc(n,t-1)&&!oc(n,t-2)&&(n=n.slice(0,-1)),n[0]==="/"?n:`/${n}`}function xu(n){let t=n.length;if(t<2)return"";for(;--t>1&&!oc(n,t););return n.slice(0,t)}function oc(n,t){if(n[t]==="/"){let e=0;for(;t>0&&n[--t]==="\\";)++e;if(!(e&1))return!0}return!1}function i_(n,t){return n.parent===t.parent?1:2}function ro(n){var t=n.children;return t?t[0]:n.t}function ao(n){var t=n.children;return t?t[t.length-1]:n.t}function s_(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function o_(n){for(var t=0,e=0,r=n.children,a=r.length,i;--a>=0;)i=r[a],i.z+=t,i.m+=t,t+=i.s+(e+=i.c)}function c_(n,t,e){return n.a.parent===t.parent?n.a:e}function Ya(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Ya.prototype=Object.create(pe.prototype);function l_(n){for(var t=new Ya(n,0),e,r=[t],a,i,s,o;e=r.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),s=o-1;s>=0;--s)r.push(a=e.children[s]=new Ya(i[s],s)),a.parent=e;return(t.parent=new Ya(null,0)).children=[t],t}function f_(){var n=i_,t=1,e=1,r=null;function a(c){var f=l_(c);if(f.eachAfter(i),f.parent.m=-f.z,f.eachBefore(s),r)c.eachBefore(l);else{var h=c,u=c,d=c;c.eachBefore(function(b){b.x<h.x&&(h=b),b.x>u.x&&(u=b),b.depth>d.depth&&(d=b)});var g=h===u?1:n(h,u)/2,m=g-h.x,p=t/(u.x+g+m),y=e/(d.depth||1);c.eachBefore(function(b){b.x=(b.x+m)*p,b.y=b.depth*y})}return c}function i(c){var f=c.children,h=c.parent.children,u=c.i?h[c.i-1]:null;if(f){o_(c);var d=(f[0].z+f[f.length-1].z)/2;u?(c.z=u.z+n(c._,u._),c.m=c.z-d):c.z=d}else u&&(c.z=u.z+n(c._,u._));c.parent.A=o(c,u,c.parent.A||h[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function o(c,f,h){if(f){for(var u=c,d=c,g=f,m=u.parent.children[0],p=u.m,y=d.m,b=g.m,F=m.m,v;g=ao(g),u=ro(u),g&&u;)m=ro(m),d=ao(d),d.a=c,v=g.z+b-u.z-p+n(g._,u._),v>0&&(s_(c_(g,c,h),c,v),p+=v,y+=v),b+=g.m,p+=u.m,F+=m.m,y+=d.m;g&&!ao(d)&&(d.t=g,d.m+=b-y),u&&!ro(m)&&(m.t=u,m.m+=p-F,h=c)}return h}function l(c){c.x*=t,c.y=c.depth*e}return a.separation=function(c){return arguments.length?(n=c,a):n},a.size=function(c){return arguments.length?(r=!1,t=+c[0],e=+c[1],a):r?null:[t,e]},a.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],e=+c[1],a):r?[t,e]:null},a}function is(n,t,e,r,a){for(var i=n.children,s,o=-1,l=i.length,c=n.value&&(a-e)/n.value;++o<l;)s=i[o],s.x0=t,s.x1=r,s.y0=e,s.y1=e+=s.value*c}var Op=(1+Math.sqrt(5))/2;function zp(n,t,e,r,a,i){for(var s=[],o=t.children,l,c,f=0,h=0,u=o.length,d,g,m=t.value,p,y,b,F,v,_,w;f<u;){d=a-e,g=i-r;do p=o[h++].value;while(!p&&h<u);for(y=b=p,_=Math.max(g/d,d/g)/(m*n),w=p*p*_,v=Math.max(b/w,w/y);h<u;++h){if(p+=c=o[h].value,c<y&&(y=c),c>b&&(b=c),w=p*p*_,F=Math.max(b/w,w/y),F>v){p-=c;break}v=F}s.push(l={value:p,dice:d<g,children:o.slice(f,h)}),l.dice?ca(l,e,r,a,m?r+=g*p/m:i):is(l,e,r,m?e+=d*p/m:a,i),m-=p,f=h}return s}const Up=function n(t){function e(r,a,i,s,o){zp(t,r,a,i,s,o)}return e.ratio=function(r){return n((r=+r)>1?r:1)},e}(Op);function u_(){var n=Up,t=!1,e=1,r=1,a=[0],i=ne,s=ne,o=ne,l=ne,c=ne;function f(u){return u.x0=u.y0=0,u.x1=e,u.y1=r,u.eachBefore(h),a=[0],t&&u.eachBefore(Bp),u}function h(u){var d=a[u.depth],g=u.x0+d,m=u.y0+d,p=u.x1-d,y=u.y1-d;p<g&&(g=p=(g+p)/2),y<m&&(m=y=(m+y)/2),u.x0=g,u.y0=m,u.x1=p,u.y1=y,u.children&&(d=a[u.depth+1]=i(u)/2,g+=c(u)-d,m+=s(u)-d,p-=o(u)-d,y-=l(u)-d,p<g&&(g=p=(g+p)/2),y<m&&(m=y=(m+y)/2),n(u,g,m,p,y))}return f.round=function(u){return arguments.length?(t=!!u,f):t},f.size=function(u){return arguments.length?(e=+u[0],r=+u[1],f):[e,r]},f.tile=function(u){return arguments.length?(n=$p(u),f):n},f.padding=function(u){return arguments.length?f.paddingInner(u).paddingOuter(u):f.paddingInner()},f.paddingInner=function(u){return arguments.length?(i=typeof u=="function"?u:$e(+u),f):i},f.paddingOuter=function(u){return arguments.length?f.paddingTop(u).paddingRight(u).paddingBottom(u).paddingLeft(u):f.paddingTop()},f.paddingTop=function(u){return arguments.length?(s=typeof u=="function"?u:$e(+u),f):s},f.paddingRight=function(u){return arguments.length?(o=typeof u=="function"?u:$e(+u),f):o},f.paddingBottom=function(u){return arguments.length?(l=typeof u=="function"?u:$e(+u),f):l},f.paddingLeft=function(u){return arguments.length?(c=typeof u=="function"?u:$e(+u),f):c},f}function h_(n,t,e,r,a){var i=n.children,s,o=i.length,l,c=new Array(o+1);for(c[0]=l=s=0;s<o;++s)c[s+1]=l+=i[s].value;f(0,o,n.value,t,e,r,a);function f(h,u,d,g,m,p,y){if(h>=u-1){var b=i[h];b.x0=g,b.y0=m,b.x1=p,b.y1=y;return}for(var F=c[h],v=d/2+F,_=h+1,w=u-1;_<w;){var T=_+w>>>1;c[T]<v?_=T+1:w=T}v-c[_-1]<c[_]-v&&h+1<_&&--_;var N=c[_]-F,E=d-N;if(p-g>y-m){var C=d?(g*E+p*N)/d:p;f(h,_,N,g,m,C,y),f(_,u,E,C,m,p,y)}else{var M=d?(m*E+y*N)/d:y;f(h,_,N,g,m,p,M),f(_,u,E,g,M,p,y)}}}function d_(n,t,e,r,a){(n.depth&1?is:ca)(n,t,e,r,a)}const p_=function n(t){function e(r,a,i,s,o){if((l=r._squarify)&&l.ratio===t)for(var l,c,f,h,u=-1,d,g=l.length,m=r.value;++u<g;){for(c=l[u],f=c.children,h=c.value=0,d=f.length;h<d;++h)c.value+=f[h].value;c.dice?ca(c,a,i,s,m?i+=(o-i)*c.value/m:o):is(c,a,i,m?a+=(s-a)*c.value/m:s,o),m-=c.value}else r._squarify=l=zp(t,r,a,i,s,o),l.ratio=t}return e.ratio=function(r){return n((r=+r)>1?r:1)},e}(Op);function g_(n){for(var t=-1,e=n.length,r,a=n[e-1],i=0;++t<e;)r=a,a=n[t],i+=r[1]*a[0]-r[0]*a[1];return i/2}function y_(n){for(var t=-1,e=n.length,r=0,a=0,i,s=n[e-1],o,l=0;++t<e;)i=s,s=n[t],l+=o=i[0]*s[1]-s[0]*i[1],r+=(i[0]+s[0])*o,a+=(i[1]+s[1])*o;return l*=3,[r/l,a/l]}function m_(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function v_(n,t){return n[0]-t[0]||n[1]-t[1]}function Mu(n){const t=n.length,e=[0,1];let r=2,a;for(a=2;a<t;++a){for(;r>1&&m_(n[e[r-2]],n[e[r-1]],n[a])<=0;)--r;e[r++]=a}return e.slice(0,r)}function F_(n){if((e=n.length)<3)return null;var t,e,r=new Array(e),a=new Array(e);for(t=0;t<e;++t)r[t]=[+n[t][0],+n[t][1],t];for(r.sort(v_),t=0;t<e;++t)a[t]=[r[t][0],-r[t][1]];var i=Mu(r),s=Mu(a),o=s[0]===i[0],l=s[s.length-1]===i[i.length-1],c=[];for(t=i.length-1;t>=0;--t)c.push(n[r[i[t]][2]]);for(t=+o;t<s.length-l;++t)c.push(n[r[s[t]][2]]);return c}function b_(n,t){for(var e=n.length,r=n[e-1],a=t[0],i=t[1],s=r[0],o=r[1],l,c,f=!1,h=0;h<e;++h)r=n[h],l=r[0],c=r[1],c>i!=o>i&&a<(s-l)*(i-c)/(o-c)+l&&(f=!f),s=l,o=c;return f}function __(n){for(var t=-1,e=n.length,r=n[e-1],a,i,s=r[0],o=r[1],l=0;++t<e;)a=s,i=o,r=n[t],s=r[0],o=r[1],a-=s,i-=o,l+=Math.hypot(a,i);return l}const Mn=Math.random,w_=function n(t){function e(r,a){return r=r==null?0:+r,a=a==null?1:+a,arguments.length===1?(a=r,r=0):a-=r,function(){return t()*a+r}}return e.source=n,e}(Mn),x_=function n(t){function e(r,a){return arguments.length<2&&(a=r,r=0),r=Math.floor(r),a=Math.floor(a)-r,function(){return Math.floor(t()*a+r)}}return e.source=n,e}(Mn),ol=function n(t){function e(r,a){var i,s;return r=r==null?0:+r,a=a==null?1:+a,function(){var o;if(i!=null)o=i,i=null;else do i=t()*2-1,o=t()*2-1,s=i*i+o*o;while(!s||s>1);return r+a*o*Math.sqrt(-2*Math.log(s)/s)}}return e.source=n,e}(Mn),M_=function n(t){var e=ol.source(t);function r(){var a=e.apply(this,arguments);return function(){return Math.exp(a())}}return r.source=n,r}(Mn),Hp=function n(t){function e(r){return(r=+r)<=0?()=>0:function(){for(var a=0,i=r;i>1;--i)a+=t();return a+i*t()}}return e.source=n,e}(Mn),S_=function n(t){var e=Hp.source(t);function r(a){if((a=+a)==0)return t;var i=e(a);return function(){return i()/a}}return r.source=n,r}(Mn),A_=function n(t){function e(r){return function(){return-Math.log1p(-t())/r}}return e.source=n,e}(Mn),C_=function n(t){function e(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return e.source=n,e}(Mn),E_=function n(t){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return e.source=n,e}(Mn),qp=function n(t){function e(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return e.source=n,e}(Mn),cl=function n(t){var e=ol.source(t)();function r(a,i){if((a=+a)<0)throw new RangeError("invalid k");if(a===0)return()=>0;if(i=i==null?1:+i,a===1)return()=>-Math.log1p(-t())*i;var s=(a<1?a+1:a)-1/3,o=1/(3*Math.sqrt(s)),l=a<1?()=>Math.pow(t(),1/a):()=>1;return function(){do{do var c=e(),f=1+o*c;while(f<=0);f*=f*f;var h=1-t()}while(h>=1-.0331*c*c*c*c&&Math.log(h)>=.5*c*c+s*(1-f+Math.log(f)));return s*f*l()*i}}return r.source=n,r}(Mn),Yp=function n(t){var e=cl.source(t);function r(a,i){var s=e(a),o=e(i);return function(){var l=s();return l===0?0:l/(l+o())}}return r.source=n,r}(Mn),Gp=function n(t){var e=qp.source(t),r=Yp.source(t);function a(i,s){return i=+i,(s=+s)>=1?()=>i:s<=0?()=>0:function(){for(var o=0,l=i,c=s;l*c>16&&l*(1-c)>16;){var f=Math.floor((l+1)*c),h=r(f,l-f+1)();h<=c?(o+=f,l-=f,c=(c-h)/(1-h)):(l=f-1,c/=h)}for(var u=c<.5,d=u?c:1-c,g=e(d),m=g(),p=0;m<=l;++p)m+=g();return o+(u?p:l-p)}}return a.source=n,a}(Mn),T_=function n(t){function e(r,a,i){var s;return(r=+r)==0?s=o=>-Math.log(o):(r=1/r,s=o=>Math.pow(o,r)),a=a==null?0:+a,i=i==null?1:+i,function(){return a+i*s(-Math.log1p(-t()))}}return e.source=n,e}(Mn),N_=function n(t){function e(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){return r+a*Math.tan(Math.PI*t())}}return e.source=n,e}(Mn),L_=function n(t){function e(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){var i=t();return r+a*Math.log(i/(1-i))}}return e.source=n,e}(Mn),D_=function n(t){var e=cl.source(t),r=Gp.source(t);function a(i){return function(){for(var s=0,o=i;o>16;){var l=Math.floor(.875*o),c=e(l)();if(c>o)return s+r(l-1,o/c)();s+=l,o-=c}for(var f=-Math.log1p(-t()),h=0;f<=o;++h)f-=Math.log1p(-t());return s+h}}return a.source=n,a}(Mn),$_=1664525,k_=1013904223,Su=1/4294967296;function R_(n=Math.random()){let t=(0<=n&&n<1?n/Su:Math.abs(n))|0;return()=>(t=$_*t+k_|0,Su*(t>>>0))}function rt(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function kt(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const cc=Symbol("implicit");function ll(){var n=new Rr,t=[],e=[],r=cc;function a(i){let s=n.get(i);if(s===void 0){if(r!==cc)return r;n.set(i,s=t.push(i)-1)}return e[s%e.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],n=new Rr;for(const s of i)n.has(s)||n.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(e=Array.from(i),a):e.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ll(t,e).unknown(r)},rt.apply(a,arguments),a}function fl(){var n=ll().unknown(void 0),t=n.domain,e=n.range,r=0,a=1,i,s,o=!1,l=0,c=0,f=.5;delete n.unknown;function h(){var u=t().length,d=a<r,g=d?a:r,m=d?r:a;i=(m-g)/Math.max(1,u-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(u-l))*f,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var p=Bt(u).map(function(y){return g+i*y});return e(d?p.reverse():p)}return n.domain=function(u){return arguments.length?(t(u),h()):t()},n.range=function(u){return arguments.length?([r,a]=u,r=+r,a=+a,h()):[r,a]},n.rangeRound=function(u){return[r,a]=u,r=+r,a=+a,o=!0,h()},n.bandwidth=function(){return s},n.step=function(){return i},n.round=function(u){return arguments.length?(o=!!u,h()):o},n.padding=function(u){return arguments.length?(l=Math.min(1,c=+u),h()):l},n.paddingInner=function(u){return arguments.length?(l=Math.min(1,u),h()):l},n.paddingOuter=function(u){return arguments.length?(c=+u,h()):c},n.align=function(u){return arguments.length?(f=Math.max(0,Math.min(1,u)),h()):f},n.copy=function(){return fl(t(),[r,a]).round(o).paddingInner(l).paddingOuter(c).align(f)},rt.apply(h(),arguments)}function Xp(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Xp(t())},n}function P_(){return Xp(fl.apply(null,arguments).paddingInner(1))}function I_(n){return function(){return n}}function Ti(n){return+n}var Au=[0,1];function Bn(n){return n}function lc(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:I_(isNaN(t)?NaN:.5)}function B_(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function O_(n,t,e){var r=n[0],a=n[1],i=t[0],s=t[1];return a<r?(r=lc(a,r),i=e(s,i)):(r=lc(r,a),i=e(i,s)),function(o){return i(r(o))}}function z_(n,t,e){var r=Math.min(n.length,t.length)-1,a=new Array(r),i=new Array(r),s=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=lc(n[s],n[s+1]),i[s]=e(t[s],t[s+1]);return function(o){var l=Ut(n,o,1,r)-1;return i[l](a[l](o))}}function la(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ss(){var n=Au,t=Au,e=Wt,r,a,i,s=Bn,o,l,c;function f(){var u=Math.min(n.length,t.length);return s!==Bn&&(s=B_(n[0],n[u-1])),o=u>2?z_:O_,l=c=null,h}function h(u){return u==null||isNaN(u=+u)?i:(l||(l=o(n.map(r),t,e)))(r(s(u)))}return h.invert=function(u){return s(a((c||(c=o(t,n.map(r),Jn)))(u)))},h.domain=function(u){return arguments.length?(n=Array.from(u,Ti),f()):n.slice()},h.range=function(u){return arguments.length?(t=Array.from(u),f()):t.slice()},h.rangeRound=function(u){return t=Array.from(u),e=Wi,f()},h.clamp=function(u){return arguments.length?(s=u?!0:Bn,f()):s!==Bn},h.interpolate=function(u){return arguments.length?(e=u,f()):e},h.unknown=function(u){return arguments.length?(i=u,h):i},function(u,d){return r=u,a=d,f()}}function ul(){return ss()(Bn,Bn)}function Wp(n,t,e,r){var a=Wa(n,t,e),i;switch(r=Ve(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(i=Yd(a,s))&&(r.precision=i),Uc(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Gd(a,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=qd(a))&&(r.precision=i-(r.type==="%")*2);break}}return es(r)}function Vt(n){var t=n.domain;return n.ticks=function(e){var r=t();return oe(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var a=t();return Wp(a[0],a[a.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),a=0,i=r.length-1,s=r[a],o=r[i],l,c,f=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);f-- >0;){if(c=ce(s,o,e),c===l)return r[a]=s,r[i]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return n},n}function Vp(){var n=ul();return n.copy=function(){return la(n,Vp())},rt.apply(n,arguments),Vt(n)}function jp(n){var t;function e(r){return r==null||isNaN(r=+r)?t:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(n=Array.from(r,Ti),e):n.slice()},e.unknown=function(r){return arguments.length?(t=r,e):t},e.copy=function(){return jp(n).unknown(t)},n=arguments.length?Array.from(n,Ti):[0,1],Vt(e)}function Zp(n,t){n=n.slice();var e=0,r=n.length-1,a=n[e],i=n[r],s;return i<a&&(s=e,e=r,r=s,s=a,a=i,i=s),n[e]=t.floor(a),n[r]=t.ceil(i),n}function Cu(n){return Math.log(n)}function Eu(n){return Math.exp(n)}function U_(n){return-Math.log(-n)}function H_(n){return-Math.exp(-n)}function q_(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Y_(n){return n===10?q_:n===Math.E?Math.exp:t=>Math.pow(n,t)}function G_(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function Tu(n){return(t,e)=>-n(-t,e)}function hl(n){const t=n(Cu,Eu),e=t.domain;let r=10,a,i;function s(){return a=G_(r),i=Y_(r),e()[0]<0?(a=Tu(a),i=Tu(i),n(U_,H_)):n(Cu,Eu),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(e(o),s()):e()},t.ticks=o=>{const l=e();let c=l[0],f=l[l.length-1];const h=f<c;h&&([c,f]=[f,c]);let u=a(c),d=a(f),g,m;const p=o==null?10:+o;let y=[];if(!(r%1)&&d-u<p){if(u=Math.floor(u),d=Math.ceil(d),c>0){for(;u<=d;++u)for(g=1;g<r;++g)if(m=u<0?g/i(-u):g*i(u),!(m<c)){if(m>f)break;y.push(m)}}else for(;u<=d;++u)for(g=r-1;g>=1;--g)if(m=u>0?g/i(-u):g*i(u),!(m<c)){if(m>f)break;y.push(m)}y.length*2<p&&(y=oe(c,f,p))}else y=oe(u,d,Math.min(d-u,p)).map(i);return h?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ve(l)).precision==null&&(l.trim=!0),l=es(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return f=>{let h=f/i(Math.round(a(f)));return h*r<r-.5&&(h*=r),h<=c?l(f):""}},t.nice=()=>e(Zp(e(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function Qp(){const n=hl(ss()).domain([1,10]);return n.copy=()=>la(n,Qp()).base(n.base()),rt.apply(n,arguments),n}function Nu(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function Lu(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function dl(n){var t=1,e=n(Nu(t),Lu(t));return e.constant=function(r){return arguments.length?n(Nu(t=+r),Lu(t)):t},Vt(e)}function Kp(){var n=dl(ss());return n.copy=function(){return la(n,Kp()).constant(n.constant())},rt.apply(n,arguments)}function Du(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function X_(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function W_(n){return n<0?-n*n:n*n}function pl(n){var t=n(Bn,Bn),e=1;function r(){return e===1?n(Bn,Bn):e===.5?n(X_,W_):n(Du(e),Du(1/e))}return t.exponent=function(a){return arguments.length?(e=+a,r()):e},Vt(t)}function gl(){var n=pl(ss());return n.copy=function(){return la(n,gl()).exponent(n.exponent())},rt.apply(n,arguments),n}function V_(){return gl.apply(null,arguments).exponent(.5)}function $u(n){return Math.sign(n)*n*n}function j_(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function Jp(){var n=ul(),t=[0,1],e=!1,r;function a(i){var s=j_(n(i));return isNaN(s)?r:e?Math.round(s):s}return a.invert=function(i){return n.invert($u(i))},a.domain=function(i){return arguments.length?(n.domain(i),a):n.domain()},a.range=function(i){return arguments.length?(n.range((t=Array.from(i,Ti)).map($u)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(e=!!i,a):e},a.clamp=function(i){return arguments.length?(n.clamp(i),a):n.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Jp(n.domain(),t).round(e).clamp(n.clamp()).unknown(r)},rt.apply(a,arguments),Vt(a)}function n0(){var n=[],t=[],e=[],r;function a(){var s=0,o=Math.max(1,t.length);for(e=new Array(o-1);++s<o;)e[s-1]=Ch(n,s/o);return i}function i(s){return s==null||isNaN(s=+s)?r:t[Ut(e,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?e[o-1]:n[0],o<e.length?e[o]:n[n.length-1]]},i.domain=function(s){if(!arguments.length)return n.slice();n=[];for(let o of s)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(fn),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.quantiles=function(){return e.slice()},i.copy=function(){return n0().domain(n).range(t).unknown(r)},rt.apply(i,arguments)}function t0(){var n=0,t=1,e=1,r=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Ut(r,l,0,e)]:i}function o(){var l=-1;for(r=new Array(e);++l<e;)r[l]=((l+1)*t-(l-e)*n)/(e+1);return s}return s.domain=function(l){return arguments.length?([n,t]=l,n=+n,t=+t,o()):[n,t]},s.range=function(l){return arguments.length?(e=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=e?[r[e-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return t0().domain([n,t]).range(a).unknown(i)},rt.apply(Vt(s),arguments)}function e0(){var n=[.5],t=[0,1],e,r=1;function a(i){return i!=null&&i<=i?t[Ut(n,i,0,r)]:e}return a.domain=function(i){return arguments.length?(n=Array.from(i),r=Math.min(n.length,t.length-1),a):n.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(n.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[n[s-1],n[s]]},a.unknown=function(i){return arguments.length?(e=i,a):e},a.copy=function(){return e0().domain(n).range(t).unknown(e)},rt.apply(a,arguments)}const io=new Date,so=new Date;function mn(n,t,e,r){function a(i){return n(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(n(i=new Date(+i)),i),a.ceil=i=>(n(i=new Date(i-1)),t(i,1),n(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),n(i);while(c<i&&i<s);return l},a.filter=i=>mn(s=>{if(s>=s)for(;n(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),e&&(a.count=(i,s)=>(io.setTime(+i),so.setTime(+s),n(io),n(so),Math.floor(e(io,so))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ke=mn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Ke.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?mn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Ke);const ku=Ke.range,Et=1e3,et=Et*60,Tt=et*60,$t=Tt*24,yl=$t*7,Ru=$t*30,oo=$t*365,Nt=mn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Et)},(n,t)=>(t-n)/Et,n=>n.getUTCSeconds()),Pu=Nt.range,os=mn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Et)},(n,t)=>{n.setTime(+n+t*et)},(n,t)=>(t-n)/et,n=>n.getMinutes()),Z_=os.range,cs=mn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*et)},(n,t)=>(t-n)/et,n=>n.getUTCMinutes()),Q_=cs.range,ls=mn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Et-n.getMinutes()*et)},(n,t)=>{n.setTime(+n+t*Tt)},(n,t)=>(t-n)/Tt,n=>n.getHours()),K_=ls.range,fs=mn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Tt)},(n,t)=>(t-n)/Tt,n=>n.getUTCHours()),J_=fs.range,sr=mn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*et)/$t,n=>n.getDate()-1),nw=sr.range,fa=mn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/$t,n=>n.getUTCDate()-1),tw=fa.range,ml=mn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/$t,n=>Math.floor(n/$t)),ew=ml.range;function _e(n){return mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*et)/yl)}const Je=_e(0),Qr=_e(1),r0=_e(2),a0=_e(3),ge=_e(4),i0=_e(5),s0=_e(6),Iu=Je.range,rw=Qr.range,aw=r0.range,iw=a0.range,sw=ge.range,ow=i0.range,cw=s0.range;function we(n){return mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/yl)}const nr=we(0),Kr=we(1),o0=we(2),c0=we(3),ye=we(4),l0=we(5),f0=we(6),Bu=nr.range,lw=Kr.range,fw=o0.range,uw=c0.range,hw=ye.range,dw=l0.range,pw=f0.range,us=mn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth()),gw=us.range,hs=mn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth()),yw=hs.range,mt=mn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());mt.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});const mw=mt.range,vt=mn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());vt.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});const vw=vt.range;function u0(n,t,e,r,a,i){const s=[[Nt,1,Et],[Nt,5,5*Et],[Nt,15,15*Et],[Nt,30,30*Et],[i,1,et],[i,5,5*et],[i,15,15*et],[i,30,30*et],[a,1,Tt],[a,3,3*Tt],[a,6,6*Tt],[a,12,12*Tt],[r,1,$t],[r,2,2*$t],[e,1,yl],[t,1,Ru],[t,3,3*Ru],[n,1,oo]];function o(c,f,h){const u=f<c;u&&([c,f]=[f,c]);const d=h&&typeof h.range=="function"?h:l(c,f,h),g=d?d.range(c,+f+1):[];return u?g.reverse():g}function l(c,f,h){const u=Math.abs(f-c)/h,d=Pi(([,,p])=>p).right(s,u);if(d===s.length)return n.every(Wa(c/oo,f/oo,h));if(d===0)return Ke.every(Math.max(Wa(c,f,h),1));const[g,m]=s[u/s[d-1][2]<s[d][2]/u?d-1:d];return g.every(m)}return[o,l]}const[h0,d0]=u0(vt,hs,nr,ml,fs,cs),[p0,g0]=u0(mt,us,Je,sr,ls,os);function co(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function lo(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function dr(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function y0(n){var t=n.dateTime,e=n.date,r=n.time,a=n.periods,i=n.days,s=n.shortDays,o=n.months,l=n.shortMonths,c=pr(a),f=gr(a),h=pr(i),u=gr(i),d=pr(s),g=gr(s),m=pr(o),p=gr(o),y=pr(l),b=gr(l),F={a:D,A:R,b:k,B:I,c:null,d:Yu,e:Yu,f:Uw,g:Qw,G:Jw,H:Bw,I:Ow,j:zw,L:m0,m:Hw,M:qw,p:z,q:H,Q:Wu,s:Vu,S:Yw,u:Gw,U:Xw,V:Ww,w:Vw,W:jw,x:null,X:null,y:Zw,Y:Kw,Z:n6,"%":Xu},v={a:en,A:J,b:K,B:yn,c:null,d:Gu,e:Gu,f:a6,g:p6,G:y6,H:t6,I:e6,j:r6,L:F0,m:i6,M:s6,p:nn,q:gn,Q:Wu,s:Vu,S:o6,u:c6,U:l6,V:f6,w:u6,W:h6,x:null,X:null,y:d6,Y:g6,Z:m6,"%":Xu},_={a:C,A:M,b:$,B:L,c:x,d:Hu,e:Hu,f:kw,g:Uu,G:zu,H:qu,I:qu,j:Nw,L:$w,m:Tw,M:Lw,p:E,q:Ew,Q:Pw,s:Iw,S:Dw,u:xw,U:Mw,V:Sw,w:ww,W:Aw,x:A,X:S,y:Uu,Y:zu,Z:Cw,"%":Rw};F.x=w(e,F),F.X=w(r,F),F.c=w(t,F),v.x=w(e,v),v.X=w(r,v),v.c=w(t,v);function w(B,X){return function(j){var P=[],un=-1,rn=0,Ln=B.length,Dn,G,hn;for(j instanceof Date||(j=new Date(+j));++un<Ln;)B.charCodeAt(un)===37&&(P.push(B.slice(rn,un)),(G=Ou[Dn=B.charAt(++un)])!=null?Dn=B.charAt(++un):G=Dn==="e"?" ":"0",(hn=X[Dn])&&(Dn=hn(j,G)),P.push(Dn),rn=un+1);return P.push(B.slice(rn,un)),P.join("")}}function T(B,X){return function(j){var P=dr(1900,void 0,1),un=N(P,B,j+="",0),rn,Ln;if(un!=j.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(X&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(rn=lo(dr(P.y,0,1)),Ln=rn.getUTCDay(),rn=Ln>4||Ln===0?Kr.ceil(rn):Kr(rn),rn=fa.offset(rn,(P.V-1)*7),P.y=rn.getUTCFullYear(),P.m=rn.getUTCMonth(),P.d=rn.getUTCDate()+(P.w+6)%7):(rn=co(dr(P.y,0,1)),Ln=rn.getDay(),rn=Ln>4||Ln===0?Qr.ceil(rn):Qr(rn),rn=sr.offset(rn,(P.V-1)*7),P.y=rn.getFullYear(),P.m=rn.getMonth(),P.d=rn.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),Ln="Z"in P?lo(dr(P.y,0,1)).getUTCDay():co(dr(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(Ln+5)%7:P.w+P.U*7-(Ln+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,lo(P)):co(P)}}function N(B,X,j,P){for(var un=0,rn=X.length,Ln=j.length,Dn,G;un<rn;){if(P>=Ln)return-1;if(Dn=X.charCodeAt(un++),Dn===37){if(Dn=X.charAt(un++),G=_[Dn in Ou?X.charAt(un++):Dn],!G||(P=G(B,j,P))<0)return-1}else if(Dn!=j.charCodeAt(P++))return-1}return P}function E(B,X,j){var P=c.exec(X.slice(j));return P?(B.p=f.get(P[0].toLowerCase()),j+P[0].length):-1}function C(B,X,j){var P=d.exec(X.slice(j));return P?(B.w=g.get(P[0].toLowerCase()),j+P[0].length):-1}function M(B,X,j){var P=h.exec(X.slice(j));return P?(B.w=u.get(P[0].toLowerCase()),j+P[0].length):-1}function $(B,X,j){var P=y.exec(X.slice(j));return P?(B.m=b.get(P[0].toLowerCase()),j+P[0].length):-1}function L(B,X,j){var P=m.exec(X.slice(j));return P?(B.m=p.get(P[0].toLowerCase()),j+P[0].length):-1}function x(B,X,j){return N(B,t,X,j)}function A(B,X,j){return N(B,e,X,j)}function S(B,X,j){return N(B,r,X,j)}function D(B){return s[B.getDay()]}function R(B){return i[B.getDay()]}function k(B){return l[B.getMonth()]}function I(B){return o[B.getMonth()]}function z(B){return a[+(B.getHours()>=12)]}function H(B){return 1+~~(B.getMonth()/3)}function en(B){return s[B.getUTCDay()]}function J(B){return i[B.getUTCDay()]}function K(B){return l[B.getUTCMonth()]}function yn(B){return o[B.getUTCMonth()]}function nn(B){return a[+(B.getUTCHours()>=12)]}function gn(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var X=w(B+="",F);return X.toString=function(){return B},X},parse:function(B){var X=T(B+="",!1);return X.toString=function(){return B},X},utcFormat:function(B){var X=w(B+="",v);return X.toString=function(){return B},X},utcParse:function(B){var X=T(B+="",!0);return X.toString=function(){return B},X}}}var Ou={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,Fw=/^%/,bw=/[\\^$*+?|[\]().{}]/g;function tn(n,t,e){var r=n<0?"-":"",a=(r?-n:n)+"",i=a.length;return r+(i<e?new Array(e-i+1).join(t)+a:a)}function _w(n){return n.replace(bw,"\\$&")}function pr(n){return new RegExp("^(?:"+n.map(_w).join("|")+")","i")}function gr(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function ww(n,t,e){var r=xn.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function xw(n,t,e){var r=xn.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function Mw(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function Sw(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function Aw(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function zu(n,t,e){var r=xn.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Uu(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Cw(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ew(n,t,e){var r=xn.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function Tw(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Hu(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function Nw(n,t,e){var r=xn.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function qu(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Lw(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function Dw(n,t,e){var r=xn.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function $w(n,t,e){var r=xn.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function kw(n,t,e){var r=xn.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Rw(n,t,e){var r=Fw.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Pw(n,t,e){var r=xn.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function Iw(n,t,e){var r=xn.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function Yu(n,t){return tn(n.getDate(),t,2)}function Bw(n,t){return tn(n.getHours(),t,2)}function Ow(n,t){return tn(n.getHours()%12||12,t,2)}function zw(n,t){return tn(1+sr.count(mt(n),n),t,3)}function m0(n,t){return tn(n.getMilliseconds(),t,3)}function Uw(n,t){return m0(n,t)+"000"}function Hw(n,t){return tn(n.getMonth()+1,t,2)}function qw(n,t){return tn(n.getMinutes(),t,2)}function Yw(n,t){return tn(n.getSeconds(),t,2)}function Gw(n){var t=n.getDay();return t===0?7:t}function Xw(n,t){return tn(Je.count(mt(n)-1,n),t,2)}function v0(n){var t=n.getDay();return t>=4||t===0?ge(n):ge.ceil(n)}function Ww(n,t){return n=v0(n),tn(ge.count(mt(n),n)+(mt(n).getDay()===4),t,2)}function Vw(n){return n.getDay()}function jw(n,t){return tn(Qr.count(mt(n)-1,n),t,2)}function Zw(n,t){return tn(n.getFullYear()%100,t,2)}function Qw(n,t){return n=v0(n),tn(n.getFullYear()%100,t,2)}function Kw(n,t){return tn(n.getFullYear()%1e4,t,4)}function Jw(n,t){var e=n.getDay();return n=e>=4||e===0?ge(n):ge.ceil(n),tn(n.getFullYear()%1e4,t,4)}function n6(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tn(t/60|0,"0",2)+tn(t%60,"0",2)}function Gu(n,t){return tn(n.getUTCDate(),t,2)}function t6(n,t){return tn(n.getUTCHours(),t,2)}function e6(n,t){return tn(n.getUTCHours()%12||12,t,2)}function r6(n,t){return tn(1+fa.count(vt(n),n),t,3)}function F0(n,t){return tn(n.getUTCMilliseconds(),t,3)}function a6(n,t){return F0(n,t)+"000"}function i6(n,t){return tn(n.getUTCMonth()+1,t,2)}function s6(n,t){return tn(n.getUTCMinutes(),t,2)}function o6(n,t){return tn(n.getUTCSeconds(),t,2)}function c6(n){var t=n.getUTCDay();return t===0?7:t}function l6(n,t){return tn(nr.count(vt(n)-1,n),t,2)}function b0(n){var t=n.getUTCDay();return t>=4||t===0?ye(n):ye.ceil(n)}function f6(n,t){return n=b0(n),tn(ye.count(vt(n),n)+(vt(n).getUTCDay()===4),t,2)}function u6(n){return n.getUTCDay()}function h6(n,t){return tn(Kr.count(vt(n)-1,n),t,2)}function d6(n,t){return tn(n.getUTCFullYear()%100,t,2)}function p6(n,t){return n=b0(n),tn(n.getUTCFullYear()%100,t,2)}function g6(n,t){return tn(n.getUTCFullYear()%1e4,t,4)}function y6(n,t){var e=n.getUTCDay();return n=e>=4||e===0?ye(n):ye.ceil(n),tn(n.getUTCFullYear()%1e4,t,4)}function m6(){return"+0000"}function Xu(){return"%"}function Wu(n){return+n}function Vu(n){return Math.floor(+n/1e3)}var De,vl,_0,ds,Fl;w0({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w0(n){return De=y0(n),vl=De.format,_0=De.parse,ds=De.utcFormat,Fl=De.utcParse,De}var x0="%Y-%m-%dT%H:%M:%S.%LZ";function v6(n){return n.toISOString()}var F6=Date.prototype.toISOString?v6:ds(x0);function b6(n){var t=new Date(n);return isNaN(t)?null:t}var _6=+new Date("2000-01-01T00:00:00.000Z")?b6:Fl(x0);function w6(n){return new Date(n)}function x6(n){return n instanceof Date?+n:+new Date(+n)}function bl(n,t,e,r,a,i,s,o,l,c){var f=ul(),h=f.invert,u=f.domain,d=c(".%L"),g=c(":%S"),m=c("%I:%M"),p=c("%I %p"),y=c("%a %d"),b=c("%b %d"),F=c("%B"),v=c("%Y");function _(w){return(l(w)<w?d:o(w)<w?g:s(w)<w?m:i(w)<w?p:r(w)<w?a(w)<w?y:b:e(w)<w?F:v)(w)}return f.invert=function(w){return new Date(h(w))},f.domain=function(w){return arguments.length?u(Array.from(w,x6)):u().map(w6)},f.ticks=function(w){var T=u();return n(T[0],T[T.length-1],w??10)},f.tickFormat=function(w,T){return T==null?_:c(T)},f.nice=function(w){var T=u();return(!w||typeof w.range!="function")&&(w=t(T[0],T[T.length-1],w??10)),w?u(Zp(T,w)):f},f.copy=function(){return la(f,bl(n,t,e,r,a,i,s,o,l,c))},f}function M6(){return rt.apply(bl(p0,g0,mt,us,Je,sr,ls,os,Nt,vl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S6(){return rt.apply(bl(h0,d0,vt,hs,nr,fa,fs,cs,Nt,ds).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ps(){var n=0,t=1,e,r,a,i,s=Bn,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:s(a===0?.5:(h=(i(h)-e)*a,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([n,t]=h,e=i(n=+n),r=i(t=+t),a=e===r?0:1/(r-e),c):[n,t]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(s=h,c):s};function f(h){return function(u){var d,g;return arguments.length?([d,g]=u,s=h(d,g),c):[s(0),s(1)]}}return c.range=f(Wt),c.rangeRound=f(Wi),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return i=h,e=h(n),r=h(t),a=e===r?0:1/(r-e),c}}function jt(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function M0(){var n=Vt(ps()(Bn));return n.copy=function(){return jt(n,M0())},kt.apply(n,arguments)}function S0(){var n=hl(ps()).domain([1,10]);return n.copy=function(){return jt(n,S0()).base(n.base())},kt.apply(n,arguments)}function A0(){var n=dl(ps());return n.copy=function(){return jt(n,A0()).constant(n.constant())},kt.apply(n,arguments)}function _l(){var n=pl(ps());return n.copy=function(){return jt(n,_l()).exponent(n.exponent())},kt.apply(n,arguments)}function A6(){return _l.apply(null,arguments).exponent(.5)}function C0(){var n=[],t=Bn;function e(r){if(r!=null&&!isNaN(r=+r))return t((Ut(n,r,1)-1)/(n.length-1))}return e.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let a of r)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(fn),e},e.interpolator=function(r){return arguments.length?(t=r,e):t},e.range=function(){return n.map((r,a)=>t(a/(n.length-1)))},e.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Ir(n,i/r))},e.copy=function(){return C0(t).domain(n)},kt.apply(e,arguments)}function gs(){var n=0,t=.5,e=1,r=1,a,i,s,o,l,c=Bn,f,h=!1,u;function d(m){return isNaN(m=+m)?u:(m=.5+((m=+f(m))-i)*(r*m<r*i?o:l),c(h?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([n,t,e]=m,a=f(n=+n),i=f(t=+t),s=f(e=+e),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),r=i<a?-1:1,d):[n,t,e]},d.clamp=function(m){return arguments.length?(h=!!m,d):h},d.interpolator=function(m){return arguments.length?(c=m,d):c};function g(m){return function(p){var y,b,F;return arguments.length?([y,b,F]=p,c=Fd(m,[y,b,F]),d):[c(0),c(.5),c(1)]}}return d.range=g(Wt),d.rangeRound=g(Wi),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return f=m,a=m(n),i=m(t),s=m(e),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),r=i<a?-1:1,d}}function E0(){var n=Vt(gs()(Bn));return n.copy=function(){return jt(n,E0())},kt.apply(n,arguments)}function T0(){var n=hl(gs()).domain([.1,1,10]);return n.copy=function(){return jt(n,T0()).base(n.base())},kt.apply(n,arguments)}function N0(){var n=dl(gs());return n.copy=function(){return jt(n,N0()).constant(n.constant())},kt.apply(n,arguments)}function wl(){var n=pl(gs());return n.copy=function(){return jt(n,wl()).exponent(n.exponent())},kt.apply(n,arguments)}function C6(){return wl.apply(null,arguments).exponent(.5)}function V(n){for(var t=n.length/6|0,e=new Array(t),r=0;r<t;)e[r]="#"+n.slice(r*6,++r*6);return e}const E6=V("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),T6=V("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),N6=V("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),L6=V("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),D6=V("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),$6=V("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),k6=V("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),R6=V("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),P6=V("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),I6=V("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),B6=V("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),sn=n=>sd(n[n.length-1]);var L0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(V);const O6=sn(L0);var D0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(V);const z6=sn(D0);var $0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(V);const U6=sn($0);var k0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(V);const H6=sn(k0);var R0=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(V);const q6=sn(R0);var P0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(V);const Y6=sn(P0);var I0=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(V);const G6=sn(I0);var B0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(V);const X6=sn(B0);var O0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(V);const W6=sn(O0);var z0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(V);const V6=sn(z0);var U0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(V);const j6=sn(U0);var H0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(V);const Z6=sn(H0);var q0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(V);const Q6=sn(q0);var Y0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(V);const K6=sn(Y0);var G0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(V);const J6=sn(G0);var X0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(V);const n7=sn(X0);var W0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(V);const t7=sn(W0);var V0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(V);const e7=sn(V0);var j0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(V);const r7=sn(j0);var Z0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(V);const a7=sn(Z0);var Q0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(V);const i7=sn(Q0);var K0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(V);const s7=sn(K0);var J0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(V);const o7=sn(J0);var n1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(V);const c7=sn(n1);var t1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(V);const l7=sn(t1);var e1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(V);const f7=sn(e1);var r1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(V);const u7=sn(r1);function h7(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}const d7=Vi(ct(300,.5,0),ct(-240,.5,1));var p7=Vi(ct(-100,.75,.35),ct(80,1.5,.8)),g7=Vi(ct(260,.75,.35),ct(80,1.5,.8)),Ta=ct();function y7(n){(n<0||n>1)&&(n-=Math.floor(n));var t=Math.abs(n-.5);return Ta.h=360*n-100,Ta.s=1.5-1.5*t,Ta.l=.8-.9*t,Ta+""}var Na=Ye(),m7=Math.PI/3,v7=Math.PI*2/3;function F7(n){var t;return n=(.5-n)*Math.PI,Na.r=255*(t=Math.sin(n))*t,Na.g=255*(t=Math.sin(n+m7))*t,Na.b=255*(t=Math.sin(n+v7))*t,Na+""}function b7(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function ys(n){var t=n.length;return function(e){return n[Math.max(0,Math.min(t-1,Math.floor(e*t)))]}}const _7=ys(V("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var w7=ys(V("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),x7=ys(V("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),M7=ys(V("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function W(n){return function(){return n}}const ju=Math.abs,En=Math.atan2,St=Math.cos,S7=Math.max,ze=Math.min,Gn=Math.sin,on=Math.sqrt,Tn=1e-12,Yt=Math.PI,Ni=Yt/2,zt=2*Yt;function A7(n){return n>1?0:n<-1?Yt:Math.acos(n)}function Zu(n){return n>=1?Ni:n<=-1?-Ni:Math.asin(n)}function ua(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);t=r}return n},()=>new ea(t)}function C7(n){return n.innerRadius}function E7(n){return n.outerRadius}function T7(n){return n.startAngle}function N7(n){return n.endAngle}function L7(n){return n&&n.padAngle}function D7(n,t,e,r,a,i,s,o){var l=e-n,c=r-t,f=s-a,h=o-i,u=h*l-f*c;if(!(u*u<Tn))return u=(f*(t-i)-h*(n-a))/u,[n+u*l,t+u*c]}function La(n,t,e,r,a,i,s){var o=n-e,l=t-r,c=(s?i:-i)/on(o*o+l*l),f=c*l,h=-c*o,u=n+f,d=t+h,g=e+f,m=r+h,p=(u+g)/2,y=(d+m)/2,b=g-u,F=m-d,v=b*b+F*F,_=a-i,w=u*m-g*d,T=(F<0?-1:1)*on(S7(0,_*_*v-w*w)),N=(w*F-b*T)/v,E=(-w*b-F*T)/v,C=(w*F+b*T)/v,M=(-w*b+F*T)/v,$=N-p,L=E-y,x=C-p,A=M-y;return $*$+L*L>x*x+A*A&&(N=C,E=M),{cx:N,cy:E,x01:-f,y01:-h,x11:N*(a/_-1),y11:E*(a/_-1)}}function $7(){var n=C7,t=E7,e=W(0),r=null,a=T7,i=N7,s=L7,o=null,l=ua(c);function c(){var f,h,u=+n.apply(this,arguments),d=+t.apply(this,arguments),g=a.apply(this,arguments)-Ni,m=i.apply(this,arguments)-Ni,p=ju(m-g),y=m>g;if(o||(o=f=l()),d<u&&(h=d,d=u,u=h),!(d>Tn))o.moveTo(0,0);else if(p>zt-Tn)o.moveTo(d*St(g),d*Gn(g)),o.arc(0,0,d,g,m,!y),u>Tn&&(o.moveTo(u*St(m),u*Gn(m)),o.arc(0,0,u,m,g,y));else{var b=g,F=m,v=g,_=m,w=p,T=p,N=s.apply(this,arguments)/2,E=N>Tn&&(r?+r.apply(this,arguments):on(u*u+d*d)),C=ze(ju(d-u)/2,+e.apply(this,arguments)),M=C,$=C,L,x;if(E>Tn){var A=Zu(E/u*Gn(N)),S=Zu(E/d*Gn(N));(w-=A*2)>Tn?(A*=y?1:-1,v+=A,_-=A):(w=0,v=_=(g+m)/2),(T-=S*2)>Tn?(S*=y?1:-1,b+=S,F-=S):(T=0,b=F=(g+m)/2)}var D=d*St(b),R=d*Gn(b),k=u*St(_),I=u*Gn(_);if(C>Tn){var z=d*St(F),H=d*Gn(F),en=u*St(v),J=u*Gn(v),K;if(p<Yt)if(K=D7(D,R,en,J,z,H,k,I)){var yn=D-K[0],nn=R-K[1],gn=z-K[0],B=H-K[1],X=1/Gn(A7((yn*gn+nn*B)/(on(yn*yn+nn*nn)*on(gn*gn+B*B)))/2),j=on(K[0]*K[0]+K[1]*K[1]);M=ze(C,(u-j)/(X-1)),$=ze(C,(d-j)/(X+1))}else M=$=0}T>Tn?$>Tn?(L=La(en,J,D,R,d,$,y),x=La(z,H,k,I,d,$,y),o.moveTo(L.cx+L.x01,L.cy+L.y01),$<C?o.arc(L.cx,L.cy,$,En(L.y01,L.x01),En(x.y01,x.x01),!y):(o.arc(L.cx,L.cy,$,En(L.y01,L.x01),En(L.y11,L.x11),!y),o.arc(0,0,d,En(L.cy+L.y11,L.cx+L.x11),En(x.cy+x.y11,x.cx+x.x11),!y),o.arc(x.cx,x.cy,$,En(x.y11,x.x11),En(x.y01,x.x01),!y))):(o.moveTo(D,R),o.arc(0,0,d,b,F,!y)):o.moveTo(D,R),!(u>Tn)||!(w>Tn)?o.lineTo(k,I):M>Tn?(L=La(k,I,z,H,u,-M,y),x=La(D,R,en,J,u,-M,y),o.lineTo(L.cx+L.x01,L.cy+L.y01),M<C?o.arc(L.cx,L.cy,M,En(L.y01,L.x01),En(x.y01,x.x01),!y):(o.arc(L.cx,L.cy,M,En(L.y01,L.x01),En(L.y11,L.x11),!y),o.arc(0,0,u,En(L.cy+L.y11,L.cx+L.x11),En(x.cy+x.y11,x.cx+x.x11),y),o.arc(x.cx,x.cy,M,En(x.y11,x.x11),En(x.y01,x.x01),!y))):o.arc(0,0,u,_,v,y)}if(o.closePath(),f)return o=null,f+""||null}return c.centroid=function(){var f=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Yt/2;return[St(h)*f,Gn(h)*f]},c.innerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:W(+f),c):n},c.outerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:W(+f),c):t},c.cornerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:W(+f),c):e},c.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:W(+f),c):r},c.startAngle=function(f){return arguments.length?(a=typeof f=="function"?f:W(+f),c):a},c.endAngle=function(f){return arguments.length?(i=typeof f=="function"?f:W(+f),c):i},c.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:W(+f),c):s},c.context=function(f){return arguments.length?(o=f??null,c):o},c}var k7=Array.prototype.slice;function ms(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function a1(n){this._context=n}a1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function vs(n){return new a1(n)}function xl(n){return n[0]}function Ml(n){return n[1]}function Sl(n,t){var e=W(!0),r=null,a=vs,i=null,s=ua(o);n=typeof n=="function"?n:n===void 0?xl:W(n),t=typeof t=="function"?t:t===void 0?Ml:W(t);function o(l){var c,f=(l=ms(l)).length,h,u=!1,d;for(r==null&&(i=a(d=s())),c=0;c<=f;++c)!(c<f&&e(h=l[c],c,l))===u&&((u=!u)?i.lineStart():i.lineEnd()),u&&i.point(+n(h,c,l),+t(h,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:W(+l),o):n},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:W(+l),o):t},o.defined=function(l){return arguments.length?(e=typeof l=="function"?l:W(!!l),o):e},o.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),o):a},o.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),o):r},o}function i1(n,t,e){var r=null,a=W(!0),i=null,s=vs,o=null,l=ua(c);n=typeof n=="function"?n:n===void 0?xl:W(+n),t=typeof t=="function"?t:W(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?Ml:W(+e);function c(h){var u,d,g,m=(h=ms(h)).length,p,y=!1,b,F=new Array(m),v=new Array(m);for(i==null&&(o=s(b=l())),u=0;u<=m;++u){if(!(u<m&&a(p=h[u],u,h))===y)if(y=!y)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=u-1;g>=d;--g)o.point(F[g],v[g]);o.lineEnd(),o.areaEnd()}y&&(F[u]=+n(p,u,h),v[u]=+t(p,u,h),o.point(r?+r(p,u,h):F[u],e?+e(p,u,h):v[u]))}if(b)return o=null,b+""||null}function f(){return Sl().defined(a).curve(s).context(i)}return c.x=function(h){return arguments.length?(n=typeof h=="function"?h:W(+h),r=null,c):n},c.x0=function(h){return arguments.length?(n=typeof h=="function"?h:W(+h),c):n},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:W(+h),c):r},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:W(+h),e=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:W(+h),c):t},c.y1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:W(+h),c):e},c.lineX0=c.lineY0=function(){return f().x(n).y(t)},c.lineY1=function(){return f().x(n).y(e)},c.lineX1=function(){return f().x(r).y(t)},c.defined=function(h){return arguments.length?(a=typeof h=="function"?h:W(!!h),c):a},c.curve=function(h){return arguments.length?(s=h,i!=null&&(o=s(i)),c):s},c.context=function(h){return arguments.length?(h==null?i=o=null:o=s(i=h),c):i},c}function R7(n,t){return t<n?-1:t>n?1:t>=n?0:NaN}function P7(n){return n}function I7(){var n=P7,t=R7,e=null,r=W(0),a=W(zt),i=W(0);function s(o){var l,c=(o=ms(o)).length,f,h,u=0,d=new Array(c),g=new Array(c),m=+r.apply(this,arguments),p=Math.min(zt,Math.max(-zt,a.apply(this,arguments)-m)),y,b=Math.min(Math.abs(p)/c,i.apply(this,arguments)),F=b*(p<0?-1:1),v;for(l=0;l<c;++l)(v=g[d[l]=l]=+n(o[l],l,o))>0&&(u+=v);for(t!=null?d.sort(function(_,w){return t(g[_],g[w])}):e!=null&&d.sort(function(_,w){return e(o[_],o[w])}),l=0,h=u?(p-c*F)/u:0;l<c;++l,m=y)f=d[l],v=g[f],y=m+(v>0?v*h:0)+F,g[f]={data:o[f],index:l,value:v,startAngle:m,endAngle:y,padAngle:b};return g}return s.value=function(o){return arguments.length?(n=typeof o=="function"?o:W(+o),s):n},s.sortValues=function(o){return arguments.length?(t=o,e=null,s):t},s.sort=function(o){return arguments.length?(e=o,t=null,s):e},s.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:W(+o),s):r},s.endAngle=function(o){return arguments.length?(a=typeof o=="function"?o:W(+o),s):a},s.padAngle=function(o){return arguments.length?(i=typeof o=="function"?o:W(+o),s):i},s}var s1=Al(vs);function o1(n){this._curve=n}o1.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(n,t){this._curve.point(t*Math.sin(n),t*-Math.cos(n))}};function Al(n){function t(e){return new o1(n(e))}return t._curve=n,t}function Cr(n){var t=n.curve;return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n.curve=function(e){return arguments.length?t(Al(e)):t()._curve},n}function Qu(){return Cr(Sl().curve(s1))}function Ku(){var n=i1().curve(s1),t=n.curve,e=n.lineX0,r=n.lineX1,a=n.lineY0,i=n.lineY1;return n.angle=n.x,delete n.x,n.startAngle=n.x0,delete n.x0,n.endAngle=n.x1,delete n.x1,n.radius=n.y,delete n.y,n.innerRadius=n.y0,delete n.y0,n.outerRadius=n.y1,delete n.y1,n.lineStartAngle=function(){return Cr(e())},delete n.lineX0,n.lineEndAngle=function(){return Cr(r())},delete n.lineX1,n.lineInnerRadius=function(){return Cr(a())},delete n.lineY0,n.lineOuterRadius=function(){return Cr(i())},delete n.lineY1,n.curve=function(s){return arguments.length?t(Al(s)):t()._curve},n}function Er(n,t){return[(t=+t)*Math.cos(n-=Math.PI/2),t*Math.sin(n)]}class c1{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}class B7{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,e){if(t=+t,e=+e,this._point===0)this._point=1;else{const r=Er(this._x0,this._y0),a=Er(this._x0,this._y0=(this._y0+e)/2),i=Er(t,this._y0),s=Er(t,e);this._context.moveTo(...r),this._context.bezierCurveTo(...a,...i,...s)}this._x0=t,this._y0=e}}function l1(n){return new c1(n,!0)}function f1(n){return new c1(n,!1)}function O7(n){return new B7(n)}function z7(n){return n.source}function U7(n){return n.target}function Fs(n){let t=z7,e=U7,r=xl,a=Ml,i=null,s=null,o=ua(l);function l(){let c;const f=k7.call(arguments),h=t.apply(this,f),u=e.apply(this,f);if(i==null&&(s=n(c=o())),s.lineStart(),f[0]=h,s.point(+r.apply(this,f),+a.apply(this,f)),f[0]=u,s.point(+r.apply(this,f),+a.apply(this,f)),s.lineEnd(),c)return s=null,c+""||null}return l.source=function(c){return arguments.length?(t=c,l):t},l.target=function(c){return arguments.length?(e=c,l):e},l.x=function(c){return arguments.length?(r=typeof c=="function"?c:W(+c),l):r},l.y=function(c){return arguments.length?(a=typeof c=="function"?c:W(+c),l):a},l.context=function(c){return arguments.length?(c==null?i=s=null:s=n(i=c),l):i},l}function H7(){return Fs(l1)}function q7(){return Fs(f1)}function Y7(){const n=Fs(O7);return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n}const G7=on(3),u1={draw(n,t){const e=on(t+ze(t/28,.75))*.59436,r=e/2,a=r*G7;n.moveTo(0,e),n.lineTo(0,-e),n.moveTo(-a,-r),n.lineTo(a,r),n.moveTo(-a,r),n.lineTo(a,-r)}},bs={draw(n,t){const e=on(t/Yt);n.moveTo(e,0),n.arc(0,0,e,0,zt)}},h1={draw(n,t){const e=on(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},d1=on(1/3),X7=d1*2,p1={draw(n,t){const e=on(t/X7),r=e*d1;n.moveTo(0,-e),n.lineTo(r,0),n.lineTo(0,e),n.lineTo(-r,0),n.closePath()}},g1={draw(n,t){const e=on(t)*.62625;n.moveTo(0,-e),n.lineTo(e,0),n.lineTo(0,e),n.lineTo(-e,0),n.closePath()}},y1={draw(n,t){const e=on(t-ze(t/7,2))*.87559;n.moveTo(-e,0),n.lineTo(e,0),n.moveTo(0,e),n.lineTo(0,-e)}},m1={draw(n,t){const e=on(t),r=-e/2;n.rect(r,r,e,e)}},v1={draw(n,t){const e=on(t)*.4431;n.moveTo(e,e),n.lineTo(e,-e),n.lineTo(-e,-e),n.lineTo(-e,e),n.closePath()}},W7=.8908130915292852,F1=Gn(Yt/10)/Gn(7*Yt/10),V7=Gn(zt/10)*F1,j7=-St(zt/10)*F1,b1={draw(n,t){const e=on(t*W7),r=V7*e,a=j7*e;n.moveTo(0,-e),n.lineTo(r,a);for(let i=1;i<5;++i){const s=zt*i/5,o=St(s),l=Gn(s);n.lineTo(l*e,-o*e),n.lineTo(o*r-l*a,l*r+o*a)}n.closePath()}},fo=on(3),_1={draw(n,t){const e=-on(t/(fo*3));n.moveTo(0,e*2),n.lineTo(-fo*e,-e),n.lineTo(fo*e,-e),n.closePath()}},Z7=on(3),w1={draw(n,t){const e=on(t)*.6824,r=e/2,a=e*Z7/2;n.moveTo(0,-e),n.lineTo(a,r),n.lineTo(-a,r),n.closePath()}},Qn=-.5,Kn=on(3)/2,fc=1/on(12),Q7=(fc/2+1)*3,x1={draw(n,t){const e=on(t/Q7),r=e/2,a=e*fc,i=r,s=e*fc+e,o=-i,l=s;n.moveTo(r,a),n.lineTo(i,s),n.lineTo(o,l),n.lineTo(Qn*r-Kn*a,Kn*r+Qn*a),n.lineTo(Qn*i-Kn*s,Kn*i+Qn*s),n.lineTo(Qn*o-Kn*l,Kn*o+Qn*l),n.lineTo(Qn*r+Kn*a,Qn*a-Kn*r),n.lineTo(Qn*i+Kn*s,Qn*s-Kn*i),n.lineTo(Qn*o+Kn*l,Qn*l-Kn*o),n.closePath()}},uc={draw(n,t){const e=on(t-ze(t/6,1.7))*.6189;n.moveTo(-e,-e),n.lineTo(e,e),n.moveTo(-e,e),n.lineTo(e,-e)}},Ju=[bs,h1,p1,m1,b1,_1,x1],K7=[bs,y1,uc,w1,u1,v1,g1];function J7(n,t){let e=null,r=ua(a);n=typeof n=="function"?n:W(n||bs),t=typeof t=="function"?t:W(t===void 0?64:+t);function a(){let i;if(e||(e=i=r()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),i)return e=null,i+""||null}return a.type=function(i){return arguments.length?(n=typeof i=="function"?i:W(i),a):n},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:W(+i),a):t},a.context=function(i){return arguments.length?(e=i??null,a):e},a}function Gt(){}function Li(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function _s(n){this._context=n}_s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Li(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Li(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function n3(n){return new _s(n)}function M1(n){this._context=n}M1.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:Li(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function t3(n){return new M1(n)}function S1(n){this._context=n}S1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Li(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function e3(n){return new S1(n)}function A1(n,t){this._basis=new _s(n),this._beta=t}A1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,t=this._y,e=n.length-1;if(e>0)for(var r=n[0],a=t[0],i=n[e]-r,s=t[e]-a,o=-1,l;++o<=e;)l=o/e,this._basis.point(this._beta*n[o]+(1-this._beta)*(r+l*i),this._beta*t[o]+(1-this._beta)*(a+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(n,t){this._x.push(+n),this._y.push(+t)}};const r3=function n(t){function e(r){return t===1?new _s(r):new A1(r,t)}return e.beta=function(r){return n(+r)},e}(.85);function Di(n,t,e){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-e),n._x2,n._y2)}function Cl(n,t){this._context=n,this._k=(1-t)/6}Cl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Di(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:Di(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a3=function n(t){function e(r){return new Cl(r,t)}return e.tension=function(r){return n(+r)},e}(0);function El(n,t){this._context=n,this._k=(1-t)/6}El.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:Di(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i3=function n(t){function e(r){return new El(r,t)}return e.tension=function(r){return n(+r)},e}(0);function Tl(n,t){this._context=n,this._k=(1-t)/6}Tl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Di(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s3=function n(t){function e(r){return new Tl(r,t)}return e.tension=function(r){return n(+r)},e}(0);function Nl(n,t,e){var r=n._x1,a=n._y1,i=n._x2,s=n._y2;if(n._l01_a>Tn){var o=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,l=3*n._l01_a*(n._l01_a+n._l12_a);r=(r*o-n._x0*n._l12_2a+n._x2*n._l01_2a)/l,a=(a*o-n._y0*n._l12_2a+n._y2*n._l01_2a)/l}if(n._l23_a>Tn){var c=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,f=3*n._l23_a*(n._l23_a+n._l12_a);i=(i*c+n._x1*n._l23_2a-t*n._l12_2a)/f,s=(s*c+n._y1*n._l23_2a-e*n._l12_2a)/f}n._context.bezierCurveTo(r,a,i,s,n._x2,n._y2)}function C1(n,t){this._context=n,this._alpha=t}C1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Nl(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o3=function n(t){function e(r){return t?new C1(r,t):new Cl(r,0)}return e.alpha=function(r){return n(+r)},e}(.5);function E1(n,t){this._context=n,this._alpha=t}E1.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:Nl(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const c3=function n(t){function e(r){return t?new E1(r,t):new El(r,0)}return e.alpha=function(r){return n(+r)},e}(.5);function T1(n,t){this._context=n,this._alpha=t}T1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var e=this._x2-n,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nl(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const l3=function n(t){function e(r){return t?new T1(r,t):new Tl(r,0)}return e.alpha=function(r){return n(+r)},e}(.5);function N1(n){this._context=n}N1.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function f3(n){return new N1(n)}function nh(n){return n<0?-1:1}function th(n,t,e){var r=n._x1-n._x0,a=t-n._x1,i=(n._y1-n._y0)/(r||a<0&&-0),s=(e-n._y1)/(a||r<0&&-0),o=(i*a+s*r)/(r+a);return(nh(i)+nh(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function eh(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function uo(n,t,e){var r=n._x0,a=n._y0,i=n._x1,s=n._y1,o=(i-r)/3;n._context.bezierCurveTo(r+o,a+o*t,i-o,s-o*e,i,s)}function $i(n){this._context=n}$i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uo(this,this._t0,eh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,uo(this,eh(this,e=th(this,n,t)),e);break;default:uo(this,this._t0,e=th(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function L1(n){this._context=new D1(n)}(L1.prototype=Object.create($i.prototype)).point=function(n,t){$i.prototype.point.call(this,t,n)};function D1(n){this._context=n}D1.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,r,a,i){this._context.bezierCurveTo(t,n,r,e,i,a)}};function u3(n){return new $i(n)}function h3(n){return new L1(n)}function $1(n){this._context=n}$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var r=rh(n),a=rh(t),i=0,s=1;s<e;++i,++s)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],n[s],t[s]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function rh(n){var t,e=n.length-1,r,a=new Array(e),i=new Array(e),s=new Array(e);for(a[0]=0,i[0]=2,s[0]=n[0]+2*n[1],t=1;t<e-1;++t)a[t]=1,i[t]=4,s[t]=4*n[t]+2*n[t+1];for(a[e-1]=2,i[e-1]=7,s[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)r=a[t]/i[t-1],i[t]-=r,s[t]-=r*s[t-1];for(a[e-1]=s[e-1]/i[e-1],t=e-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[e-1]=(n[e]+a[e-1])/2,t=0;t<e-1;++t)i[t]=2*n[t+1]-a[t+1];return[a,i]}function d3(n){return new $1(n)}function ws(n,t){this._context=n,this._t=t}ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function p3(n){return new ws(n,.5)}function g3(n){return new ws(n,0)}function y3(n){return new ws(n,1)}function tr(n,t){if((s=n.length)>1)for(var e=1,r,a,i=n[t[0]],s,o=i.length;e<s;++e)for(a=i,i=n[t[e]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function er(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function m3(n,t){return n[t]}function v3(n){const t=[];return t.key=n,t}function F3(){var n=W([]),t=er,e=tr,r=m3;function a(i){var s=Array.from(n.apply(this,arguments),v3),o,l=s.length,c=-1,f;for(const h of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(h,s[o].key,c,i)]).data=h;for(o=0,f=ms(t(s));o<l;++o)s[f[o]].index=o;return e(s,f),s}return a.keys=function(i){return arguments.length?(n=typeof i=="function"?i:W(Array.from(i)),a):n},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:W(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?er:typeof i=="function"?i:W(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(e=i??tr,a):e},a}function b3(n,t){if((r=n.length)>0){for(var e,r,a=0,i=n[0].length,s;a<i;++a){for(s=e=0;e<r;++e)s+=n[e][a][1]||0;if(s)for(e=0;e<r;++e)n[e][a][1]/=s}tr(n,t)}}function _3(n,t){if((l=n.length)>0)for(var e,r=0,a,i,s,o,l,c=n[t[0]].length;r<c;++r)for(s=o=0,e=0;e<l;++e)(i=(a=n[t[e]][r])[1]-a[0])>0?(a[0]=s,a[1]=s+=i):i<0?(a[1]=o,a[0]=o+=i):(a[0]=0,a[1]=i)}function w3(n,t){if((a=n.length)>0){for(var e=0,r=n[t[0]],a,i=r.length;e<i;++e){for(var s=0,o=0;s<a;++s)o+=n[s][e][1]||0;r[e][1]+=r[e][0]=-o/2}tr(n,t)}}function x3(n,t){if(!(!((s=n.length)>0)||!((i=(a=n[t[0]]).length)>0))){for(var e=0,r=1,a,i,s;r<i;++r){for(var o=0,l=0,c=0;o<s;++o){for(var f=n[t[o]],h=f[r][1]||0,u=f[r-1][1]||0,d=(h-u)/2,g=0;g<o;++g){var m=n[t[g]],p=m[r][1]||0,y=m[r-1][1]||0;d+=p-y}l+=h,c+=d*h}a[r-1][1]+=a[r-1][0]=e,l&&(e-=c/l)}a[r-1][1]+=a[r-1][0]=e,tr(n,t)}}function k1(n){var t=n.map(M3);return er(n).sort(function(e,r){return t[e]-t[r]})}function M3(n){for(var t=-1,e=0,r=n.length,a,i=-1/0;++t<r;)(a=+n[t][1])>i&&(i=a,e=t);return e}function R1(n){var t=n.map(P1);return er(n).sort(function(e,r){return t[e]-t[r]})}function P1(n){for(var t=0,e=-1,r=n.length,a;++e<r;)(a=+n[e][1])&&(t+=a);return t}function S3(n){return R1(n).reverse()}function A3(n){var t=n.length,e,r,a=n.map(P1),i=k1(n),s=0,o=0,l=[],c=[];for(e=0;e<t;++e)r=i[e],s<o?(s+=a[r],l.push(r)):(o+=a[r],c.push(r));return c.reverse().concat(l)}function C3(n){return er(n).reverse()}const Da=n=>()=>n;function E3(n,{sourceEvent:t,target:e,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function dt(n,t,e){this.k=n,this.x=t,this.y=e}dt.prototype={constructor:dt,scale:function(n){return n===1?this:new dt(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new dt(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xs=new dt(1,0,0);I1.prototype=dt.prototype;function I1(n){for(;!n.__zoom;)if(!(n=n.parentNode))return xs;return n.__zoom}function ho(n){n.stopImmediatePropagation()}function yr(n){n.preventDefault(),n.stopImmediatePropagation()}function T3(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function N3(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function ah(){return this.__zoom||xs}function L3(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function D3(){return navigator.maxTouchPoints||"ontouchstart"in this}function $3(n,t,e){var r=n.invertX(t[0][0])-e[0][0],a=n.invertX(t[1][0])-e[1][0],i=n.invertY(t[0][1])-e[0][1],s=n.invertY(t[1][1])-e[1][1];return n.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function k3(){var n=T3,t=N3,e=$3,r=L3,a=D3,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=gd,c=me("start","zoom","end"),f,h,u,d=500,g=150,m=0,p=10;function y(x){x.property("__zoom",ah).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",$).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(x,A,S,D){var R=x.selection?x.selection():x;R.property("__zoom",ah),x!==R?_(x,A,S,D):R.interrupt().each(function(){w(this,arguments).event(D).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},y.scaleBy=function(x,A,S,D){y.scaleTo(x,function(){var R=this.__zoom.k,k=typeof A=="function"?A.apply(this,arguments):A;return R*k},S,D)},y.scaleTo=function(x,A,S,D){y.transform(x,function(){var R=t.apply(this,arguments),k=this.__zoom,I=S==null?v(R):typeof S=="function"?S.apply(this,arguments):S,z=k.invert(I),H=typeof A=="function"?A.apply(this,arguments):A;return e(F(b(k,H),I,z),R,s)},S,D)},y.translateBy=function(x,A,S,D){y.transform(x,function(){return e(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),s)},null,D)},y.translateTo=function(x,A,S,D,R){y.transform(x,function(){var k=t.apply(this,arguments),I=this.__zoom,z=D==null?v(k):typeof D=="function"?D.apply(this,arguments):D;return e(xs.translate(z[0],z[1]).scale(I.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof S=="function"?-S.apply(this,arguments):-S),k,s)},D,R)};function b(x,A){return A=Math.max(i[0],Math.min(i[1],A)),A===x.k?x:new dt(A,x.x,x.y)}function F(x,A,S){var D=A[0]-S[0]*x.k,R=A[1]-S[1]*x.k;return D===x.x&&R===x.y?x:new dt(x.k,D,R)}function v(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function _(x,A,S,D){x.on("start.zoom",function(){w(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(D).end()}).tween("zoom",function(){var R=this,k=arguments,I=w(R,k).event(D),z=t.apply(R,k),H=S==null?v(z):typeof S=="function"?S.apply(R,k):S,en=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),J=R.__zoom,K=typeof A=="function"?A.apply(R,k):A,yn=l(J.invert(H).concat(en/J.k),K.invert(H).concat(en/K.k));return function(nn){if(nn===1)nn=K;else{var gn=yn(nn),B=en/gn[2];nn=new dt(B,H[0]-gn[0]*B,H[1]-gn[1]*B)}I.zoom(null,nn)}})}function w(x,A,S){return!S&&x.__zooming||new T(x,A)}function T(x,A){this.that=x,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,A),this.taps=0}T.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,A){return this.mouse&&x!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var A=Nn(this.that).datum();c.call(x,this.that,new E3(x,{sourceEvent:this.sourceEvent,target:y,type:x,transform:this.that.__zoom,dispatch:c}),A)}};function N(x,...A){if(!n.apply(this,arguments))return;var S=w(this,A).event(x),D=this.__zoom,R=Math.max(i[0],Math.min(i[1],D.k*Math.pow(2,r.apply(this,arguments)))),k=jn(x);if(S.wheel)(S.mouse[0][0]!==k[0]||S.mouse[0][1]!==k[1])&&(S.mouse[1]=D.invert(S.mouse[0]=k)),clearTimeout(S.wheel);else{if(D.k===R)return;S.mouse=[k,D.invert(k)],ie(this),S.start()}yr(x),S.wheel=setTimeout(I,g),S.zoom("mouse",e(F(b(D,R),S.mouse[0],S.mouse[1]),S.extent,s));function I(){S.wheel=null,S.end()}}function E(x,...A){if(u||!n.apply(this,arguments))return;var S=x.currentTarget,D=w(this,A,!0).event(x),R=Nn(x.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",en,!0),k=jn(x,S),I=x.clientX,z=x.clientY;Hi(x.view),ho(x),D.mouse=[k,this.__zoom.invert(k)],ie(this),D.start();function H(J){if(yr(J),!D.moved){var K=J.clientX-I,yn=J.clientY-z;D.moved=K*K+yn*yn>m}D.event(J).zoom("mouse",e(F(D.that.__zoom,D.mouse[0]=jn(J,S),D.mouse[1]),D.extent,s))}function en(J){R.on("mousemove.zoom mouseup.zoom",null),qi(J.view,D.moved),yr(J),D.event(J).end()}}function C(x,...A){if(n.apply(this,arguments)){var S=this.__zoom,D=jn(x.changedTouches?x.changedTouches[0]:x,this),R=S.invert(D),k=S.k*(x.shiftKey?.5:2),I=e(F(b(S,k),D,R),t.apply(this,A),s);yr(x),o>0?Nn(this).transition().duration(o).call(_,I,D,x):Nn(this).call(y.transform,I,D,x)}}function M(x,...A){if(n.apply(this,arguments)){var S=x.touches,D=S.length,R=w(this,A,x.changedTouches.length===D).event(x),k,I,z,H;for(ho(x),I=0;I<D;++I)z=S[I],H=jn(z,this),H=[H,this.__zoom.invert(H),z.identifier],R.touch0?!R.touch1&&R.touch0[2]!==H[2]&&(R.touch1=H,R.taps=0):(R.touch0=H,k=!0,R.taps=1+!!f);f&&(f=clearTimeout(f)),k&&(R.taps<2&&(h=H[0],f=setTimeout(function(){f=null},d)),ie(this),R.start())}}function $(x,...A){if(this.__zooming){var S=w(this,A).event(x),D=x.changedTouches,R=D.length,k,I,z,H;for(yr(x),k=0;k<R;++k)I=D[k],z=jn(I,this),S.touch0&&S.touch0[2]===I.identifier?S.touch0[0]=z:S.touch1&&S.touch1[2]===I.identifier&&(S.touch1[0]=z);if(I=S.that.__zoom,S.touch1){var en=S.touch0[0],J=S.touch0[1],K=S.touch1[0],yn=S.touch1[1],nn=(nn=K[0]-en[0])*nn+(nn=K[1]-en[1])*nn,gn=(gn=yn[0]-J[0])*gn+(gn=yn[1]-J[1])*gn;I=b(I,Math.sqrt(nn/gn)),z=[(en[0]+K[0])/2,(en[1]+K[1])/2],H=[(J[0]+yn[0])/2,(J[1]+yn[1])/2]}else if(S.touch0)z=S.touch0[0],H=S.touch0[1];else return;S.zoom("touch",e(F(I,z,H),S.extent,s))}}function L(x,...A){if(this.__zooming){var S=w(this,A).event(x),D=x.changedTouches,R=D.length,k,I;for(ho(x),u&&clearTimeout(u),u=setTimeout(function(){u=null},d),k=0;k<R;++k)I=D[k],S.touch0&&S.touch0[2]===I.identifier?delete S.touch0:S.touch1&&S.touch1[2]===I.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(I=jn(I,this),Math.hypot(h[0]-I[0],h[1]-I[1])<p)){var z=Nn(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return y.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:Da(+x),y):r},y.filter=function(x){return arguments.length?(n=typeof x=="function"?x:Da(!!x),y):n},y.touchable=function(x){return arguments.length?(a=typeof x=="function"?x:Da(!!x),y):a},y.extent=function(x){return arguments.length?(t=typeof x=="function"?x:Da([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),y):t},y.scaleExtent=function(x){return arguments.length?(i[0]=+x[0],i[1]=+x[1],y):[i[0],i[1]]},y.translateExtent=function(x){return arguments.length?(s[0][0]=+x[0][0],s[1][0]=+x[1][0],s[0][1]=+x[0][1],s[1][1]=+x[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(x){return arguments.length?(e=x,y):e},y.duration=function(x){return arguments.length?(o=+x,y):o},y.interpolate=function(x){return arguments.length?(l=x,y):l},y.on=function(){var x=c.on.apply(c,arguments);return x===c?y:x},y.clickDistance=function(x){return arguments.length?(m=(x=+x)*x,y):Math.sqrt(m)},y.tapDistance=function(x){return arguments.length?(p=+x,y):p},y}const R3=Object.freeze(Object.defineProperty({__proto__:null,Adder:Fn,Delaunay:Bc,FormatSpecifier:ts,InternMap:Rr,InternSet:se,Node:pe,Path:ea,Voronoi:kd,ZoomTransform:dt,active:L8,arc:$7,area:i1,areaRadial:Ku,ascending:fn,autoType:tF,axisBottom:_g,axisLeft:wg,axisRight:bg,axisTop:Fg,bin:Hl,bisect:Ut,bisectCenter:g2,bisectLeft:p2,bisectRight:Ut,bisector:Pi,blob:aF,blur:y2,blur2:hh,blurImage:m2,brush:Y8,brushSelection:U8,brushX:H8,brushY:q8,buffer:sF,chord:X8,chordDirected:V8,chordTranspose:W8,cluster:w4,color:Ht,contourDensity:b9,contours:Ro,count:Ii,create:rm,creator:zi,cross:M2,csv:lF,csvFormat:Y9,csvFormatBody:G9,csvFormatRow:W9,csvFormatRows:X9,csvFormatValue:V9,csvParse:Pd,csvParseRows:q9,cubehelix:ct,cumsum:S2,curveBasis:n3,curveBasisClosed:t3,curveBasisOpen:e3,curveBumpX:l1,curveBumpY:f1,curveBundle:r3,curveCardinal:a3,curveCardinalClosed:i3,curveCardinalOpen:s3,curveCatmullRom:o3,curveCatmullRomClosed:c3,curveCatmullRomOpen:l3,curveLinear:vs,curveLinearClosed:f3,curveMonotoneX:u3,curveMonotoneY:h3,curveNatural:d3,curveStep:p3,curveStepAfter:y3,curveStepBefore:g3,descending:fh,deviation:gh,difference:og,disjoint:cg,dispatch:me,drag:hm,dragDisable:Hi,dragEnable:qi,dsv:cF,dsvFormat:Ki,easeBack:df,easeBackIn:x8,easeBackInOut:df,easeBackOut:M8,easeBounce:Yr,easeBounceIn:_8,easeBounceInOut:w8,easeBounceOut:Yr,easeCircle:hf,easeCircleIn:u8,easeCircleInOut:hf,easeCircleOut:h8,easeCubic:No,easeCubicIn:r8,easeCubicInOut:No,easeCubicOut:a8,easeElastic:pf,easeElasticIn:S8,easeElasticInOut:A8,easeElasticOut:pf,easeExp:uf,easeExpIn:l8,easeExpInOut:uf,easeExpOut:f8,easeLinear:n8,easePoly:lf,easePolyIn:i8,easePolyInOut:lf,easePolyOut:s8,easeQuad:cf,easeQuadIn:t8,easeQuadInOut:cf,easeQuadOut:e8,easeSin:ff,easeSinIn:o8,easeSinInOut:ff,easeSinOut:c8,every:tg,extent:Tr,fcumsum:C2,filter:rg,flatGroup:E2,flatRollup:T2,forceCenter:mF,forceCollide:PF,forceLink:BF,forceManyBody:WF,forceRadial:VF,forceSimulation:XF,forceX:jF,forceY:ZF,get format(){return es},formatDefaultLocale:Hd,formatLocale:Ud,get formatPrefix(){return Uc},formatSpecifier:Ve,fsum:A2,geoAlbers:Ap,geoAlbersUsa:t4,geoArea:sb,geoAzimuthalEqualArea:e4,geoAzimuthalEqualAreaRaw:Qc,geoAzimuthalEquidistant:r4,geoAzimuthalEquidistantRaw:Kc,geoBounds:fb,geoCentroid:yb,geoCircle:mb,geoClipAntimeridian:Vo,geoClipCircle:fp,geoClipExtent:Mb,geoClipRectangle:rs,geoConicConformal:a4,geoConicConformalRaw:Np,geoConicEqualArea:Ci,geoConicEqualAreaRaw:Sp,geoConicEquidistant:s4,geoConicEquidistantRaw:Lp,geoContains:Lb,geoDistance:Fi,geoEqualEarth:c4,geoEqualEarthRaw:Jc,geoEquirectangular:i4,geoEquirectangularRaw:Zr,geoGnomonic:l4,geoGnomonicRaw:nl,geoGraticule:dp,geoGraticule10:Db,geoIdentity:f4,geoInterpolate:$b,geoLength:up,geoMercator:Ep,geoMercatorRaw:oa,geoNaturalEarth1:u4,geoNaturalEarth1Raw:tl,geoOrthographic:h4,geoOrthographicRaw:el,geoPath:Gb,geoProjection:bt,geoProjectionMutator:jc,geoRotation:ap,geoStereographic:d4,geoStereographicRaw:rl,geoStream:it,geoTransform:Xb,geoTransverseMercator:p4,geoTransverseMercatorRaw:al,gray:Mm,greatest:Ah,greatestIndex:j2,group:Fh,groupSort:D2,groups:bh,hcl:ni,hierarchy:il,histogram:Hl,hsl:Qa,html:gF,image:uF,index:N2,indexes:L2,interpolate:Wt,interpolateArray:Nm,interpolateBasis:ed,interpolateBasisClosed:rd,interpolateBlues:s7,interpolateBrBG:O6,interpolateBuGn:V6,interpolateBuPu:j6,interpolateCividis:h7,interpolateCool:g7,interpolateCubehelix:Gm,interpolateCubehelixDefault:d7,interpolateCubehelixLong:Vi,interpolateDate:ld,interpolateDiscrete:$m,interpolateGnBu:Z6,interpolateGreens:o7,interpolateGreys:c7,interpolateHcl:qm,interpolateHclLong:Ym,interpolateHsl:zm,interpolateHslLong:Um,interpolateHue:km,interpolateInferno:x7,interpolateLab:Hm,interpolateMagma:w7,interpolateNumber:Jn,interpolateNumberArray:Cc,interpolateObject:fd,interpolateOrRd:Q6,interpolateOranges:u7,interpolatePRGn:z6,interpolatePiYG:U6,interpolatePlasma:M7,interpolatePuBu:J6,interpolatePuBuGn:K6,interpolatePuOr:H6,interpolatePuRd:n7,interpolatePurples:l7,interpolateRainbow:y7,interpolateRdBu:q6,interpolateRdGy:Y6,interpolateRdPu:t7,interpolateRdYlBu:G6,interpolateRdYlGn:X6,interpolateReds:f7,interpolateRgb:Ur,interpolateRgbBasis:sd,interpolateRgbBasisClosed:Tm,interpolateRound:Wi,interpolateSinebow:F7,interpolateSpectral:W6,interpolateString:Ec,interpolateTransformCss:dd,interpolateTransformSvg:pd,interpolateTurbo:b7,interpolateViridis:_7,interpolateWarm:p7,interpolateYlGn:r7,interpolateYlGnBu:e7,interpolateYlOrBr:a7,interpolateYlOrRd:i7,interpolateZoom:gd,interrupt:ie,intersection:lg,interval:Zm,isoFormat:F6,isoParse:_6,json:dF,lab:Ja,lch:Sm,least:V2,leastIndex:Th,line:Sl,lineRadial:Qu,link:Fs,linkHorizontal:H7,linkRadial:Y7,linkVertical:q7,local:Uh,map:ag,matcher:bc,max:Pr,maxIndex:yc,mean:z2,median:U2,medianIndex:H2,merge:vc,min:Va,minIndex:mc,mode:Y2,namespace:Jr,namespaces:bo,nice:pc,now:ta,pack:K4,packEnclose:X4,packSiblings:Z4,pairs:G2,partition:J4,path:Ic,pathRound:Q8,permute:Sh,pie:I7,piecewise:Fd,pointRadial:Er,pointer:jn,pointers:im,polygonArea:g_,polygonCentroid:y_,polygonContains:b_,polygonHull:F_,polygonLength:__,precisionFixed:qd,precisionPrefix:Yd,precisionRound:Gd,quadtree:ns,quantile:Ir,quantileIndex:Eh,quantileSorted:Ch,quantize:Xm,quickselect:Bi,radialArea:Ku,radialLine:Qu,randomBates:S_,randomBernoulli:E_,randomBeta:Yp,randomBinomial:Gp,randomCauchy:N_,randomExponential:A_,randomGamma:cl,randomGeometric:qp,randomInt:x_,randomIrwinHall:Hp,randomLcg:R_,randomLogNormal:M_,randomLogistic:L_,randomNormal:ol,randomPareto:C_,randomPoisson:D_,randomUniform:w_,randomWeibull:T_,range:Bt,rank:W2,reduce:ig,reverse:sg,rgb:Ye,ribbon:i9,ribbonArrow:s9,rollup:wh,rollups:xh,scaleBand:fl,scaleDiverging:E0,scaleDivergingLog:T0,scaleDivergingPow:wl,scaleDivergingSqrt:C6,scaleDivergingSymlog:N0,scaleIdentity:jp,scaleImplicit:cc,scaleLinear:Vp,scaleLog:Qp,scaleOrdinal:ll,scalePoint:P_,scalePow:gl,scaleQuantile:n0,scaleQuantize:t0,scaleRadial:Jp,scaleSequential:M0,scaleSequentialLog:S0,scaleSequentialPow:_l,scaleSequentialQuantile:C0,scaleSequentialSqrt:A6,scaleSequentialSymlog:A0,scaleSqrt:V_,scaleSymlog:Kp,scaleThreshold:e0,scaleTime:M6,scaleUtc:S6,scan:Z2,schemeAccent:T6,schemeBlues:K0,schemeBrBG:L0,schemeBuGn:z0,schemeBuPu:U0,schemeCategory10:E6,schemeDark2:N6,schemeGnBu:H0,schemeGreens:J0,schemeGreys:n1,schemeObservable10:L6,schemeOrRd:q0,schemeOranges:r1,schemePRGn:D0,schemePaired:D6,schemePastel1:$6,schemePastel2:k6,schemePiYG:$0,schemePuBu:G0,schemePuBuGn:Y0,schemePuOr:k0,schemePuRd:X0,schemePurples:t1,schemeRdBu:R0,schemeRdGy:P0,schemeRdPu:W0,schemeRdYlBu:I0,schemeRdYlGn:B0,schemeReds:e1,schemeSet1:R6,schemeSet2:P6,schemeSet3:I6,schemeSpectral:O0,schemeTableau10:B6,schemeYlGn:j0,schemeYlGnBu:V0,schemeYlOrBr:Z0,schemeYlOrRd:Q0,select:Nn,selectAll:sm,selection:ve,selector:Ui,selectorAll:Fc,shuffle:Q2,shuffler:Nh,some:eg,sort:mo,stack:F3,stackOffsetDiverging:_3,stackOffsetExpand:b3,stackOffsetNone:tr,stackOffsetSilhouette:w3,stackOffsetWiggle:x3,stackOrderAppearance:k1,stackOrderAscending:R1,stackOrderDescending:S3,stackOrderInsideOut:A3,stackOrderNone:er,stackOrderReverse:C3,stratify:r_,style:le,subset:ug,sum:K2,superset:Dh,svg:yF,symbol:J7,symbolAsterisk:u1,symbolCircle:bs,symbolCross:h1,symbolDiamond:p1,symbolDiamond2:g1,symbolPlus:y1,symbolSquare:m1,symbolSquare2:v1,symbolStar:b1,symbolTimes:uc,symbolTriangle:_1,symbolTriangle2:w1,symbolWye:x1,symbolX:uc,symbols:Ju,symbolsFill:Ju,symbolsStroke:K7,text:Ji,thresholdFreedmanDiaconis:B2,thresholdScott:O2,thresholdSturges:gc,tickFormat:Wp,tickIncrement:ce,tickStep:Wa,ticks:oe,timeDay:sr,timeDays:nw,get timeFormat(){return vl},timeFormatDefaultLocale:w0,timeFormatLocale:y0,timeFriday:i0,timeFridays:ow,timeHour:ls,timeHours:K_,timeInterval:mn,timeMillisecond:Ke,timeMilliseconds:ku,timeMinute:os,timeMinutes:Z_,timeMonday:Qr,timeMondays:rw,timeMonth:us,timeMonths:gw,get timeParse(){return _0},timeSaturday:s0,timeSaturdays:cw,timeSecond:Nt,timeSeconds:Pu,timeSunday:Je,timeSundays:Iu,timeThursday:ge,timeThursdays:sw,timeTickInterval:g0,timeTicks:p0,timeTuesday:r0,timeTuesdays:aw,timeWednesday:a0,timeWednesdays:iw,timeWeek:Je,timeWeeks:Iu,timeYear:mt,timeYears:mw,timeout:Ao,timer:Zi,timerFlush:wd,transition:Ad,transpose:Lh,tree:f_,treemap:u_,treemapBinary:h_,treemapDice:ca,treemapResquarify:p_,treemapSlice:is,treemapSliceDice:d_,treemapSquarify:Up,tsv:fF,tsvFormat:Z9,tsvFormatBody:Q9,tsvFormatRow:J9,tsvFormatRows:K9,tsvFormatValue:nF,tsvParse:Id,tsvParseRows:j9,union:hg,unixDay:ml,unixDays:ew,utcDay:fa,utcDays:tw,get utcFormat(){return ds},utcFriday:l0,utcFridays:dw,utcHour:fs,utcHours:J_,utcMillisecond:Ke,utcMilliseconds:ku,utcMinute:cs,utcMinutes:Q_,utcMonday:Kr,utcMondays:lw,utcMonth:hs,utcMonths:yw,get utcParse(){return Fl},utcSaturday:f0,utcSaturdays:pw,utcSecond:Nt,utcSeconds:Pu,utcSunday:nr,utcSundays:Bu,utcThursday:ye,utcThursdays:hw,utcTickInterval:d0,utcTicks:h0,utcTuesday:o0,utcTuesdays:fw,utcWednesday:c0,utcWednesdays:uw,utcWeek:nr,utcWeeks:Bu,utcYear:vt,utcYears:vw,variance:ph,window:_c,xml:pF,zip:ng,zoom:k3,zoomIdentity:xs,zoomTransform:I1},Symbol.toStringTag,{value:"Module"})),P3={__name:"threejs-3d-map.html",setup(n,{expose:t}){t();const e=Il(),r=async()=>{const i=new Pl;i.dom.style.position="absolute",i.dom.style.top=0,i.dom.style.left=0,e.value.appendChild(i.dom);const s=new q1,o=new Y1(90,2,.1,1e3);o.position.set(0,0,100),s.add(o);const l=new kl,c=new ih(16777215,.5);s.add(c);const f=new G1(16777215,.5);s.add(f);const h=new X1;h.shadowMap.enabled=!0,h.shadowMap.type=W1,h.shadowMap.type=V1,h.setSize(e.value.offsetWidth,e.value.offsetWidth/2),window.addEventListener("resize",()=>{h.setSize(e.value.offsetWidth,e.value.offsetWidth/2),h.setPixelRatio(window.devicePixelRatio)}),e.value.appendChild(h.domElement);const u=h.domElement,d=new Rl(o,h.domElement);d.enableDamping=!0;const g=new e2;function m(E){d.update(),i.update(),g.getDelta(),requestAnimationFrame(m),h.render(s,o)}m();const p=Ep().center([116,39]).translate([0,0,0]);new j1().load("./assets/geojson/china.json",E=>{const C=JSON.parse(E);b(C)});function b(E){E.features.forEach(M=>{const $=new kl;$.properties=M.properties.name;const L=M.geometry.coordinates,x="#99ff99";M.geometry.type==="MultiPolygon"&&L.forEach(A=>{A.forEach(S=>{const D=v(S,x,p),R=F(S,x,p);D.properties=M.properties.name,$.add(R),$.add(D)})}),M.geometry.type==="Polygon"&&L.forEach(A=>{const S=v(A,x,p),D=F(A,x,p);S.properties=M.properties.name,$.add(D),$.add(S)}),l.add($)}),s.add(l)}function F(E,C,M){const $=new sh,L=new Array;E.forEach(S=>{const[D,R]=M(S);L.push(new Wn(D,-R,9))}),$.setFromPoints(L);const x=new Z1(Math.random()*.5+.5,Math.random()*.5+.5,Math.random()*.5+.5),A=new oh({color:x});return new Q1($,A)}function v(E,C,M){const $=new K1;E.forEach((S,D)=>{const[R,k]=M(S);D===0&&$.moveTo(R,-k),$.lineTo(R,-k)});const L=new J1($,{depth:5,bevelEnabled:!0}),x=(.5+Math.random()*.5)*16777215,A=new ch({color:x,transparent:!0,opacity:.5});return new lh(L,A)}window.addEventListener("click",w);let _=null;function w(E){let C=T(E);const M=new n2;M.setFromCamera(C,o);const $=M.intersectObjects([l],!0);$.length>0?(_&&_.object.properties!==$[0].object.properties&&(_.object.material.color.set("#99ff99"),_=null),$[0].object.properties&&$[0].object.material.color.set("red"),_=$[0]):_&&_.object.properties&&(_.object.material.color.set("yellow"),_=null)}function T(E){let C={x:0,y:0};const M=N(E);return C.x=M.x/u.width*2-1,C.y=M.y/u.height*-2+1,C}function N(E){const C=u.getBoundingClientRect();return{x:(E.clientX-C.left)*u.width/C.width,y:(E.clientY-C.top)*u.height/C.height}}};Bl(()=>{r()});const a={mapRef:e,initMap:r,ref:Il,onMounted:Bl,get THREE(){return t2},get CSM(){return f2},get CSMHelper(){return u2},get GLTFLoader(){return r2},get OrbitControls(){return Rl},get Stats(){return Pl},get d3(){return R3}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},I3={ref:"mapRef",class:"ref-container"};function B3(n,t,e,r,a,i){return c2(),i2("div",null,[t[0]||(t[0]=s2(`<div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="background-color:#282A36;color:#F8F8F2;" data-v-2e9c4fcc><pre class="shiki dracula vp-code" data-v-2e9c4fcc><code data-v-2e9c4fcc><span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> loader </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>FileLoader</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>();</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>loader.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>load</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(</span><span style="color:#E9F284;" data-v-2e9c4fcc>&quot;</span><span style="color:#F1FA8C;" data-v-2e9c4fcc>/geojson/china.json</span><span style="color:#E9F284;" data-v-2e9c4fcc>&quot;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>,(</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>data</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=&gt;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> jsData </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#BD93F9;" data-v-2e9c4fcc> JSON</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>parse</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(data)</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#50FA7B;" data-v-2e9c4fcc>    operationData</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(jsData)</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>})</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>function</span><span style="color:#50FA7B;" data-v-2e9c4fcc> operationData</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>jsondata</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>  // 全国信息</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> features </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> jsondata.features;</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  features.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>forEach</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>((</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>feature</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=&gt;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>    // 单个省份 对象</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> province </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>Object3D</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>();</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>    // 地址</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    province.properties </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> feature.properties.name;</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> coordinates </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> feature.geometry.coordinates;</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> color </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#E9F284;" data-v-2e9c4fcc> &quot;</span><span style="color:#F1FA8C;" data-v-2e9c4fcc>#99ff99</span><span style="color:#E9F284;" data-v-2e9c4fcc>&quot;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>;</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    if</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> (feature.geometry.type </span><span style="color:#FF79C6;" data-v-2e9c4fcc>===</span><span style="color:#E9F284;" data-v-2e9c4fcc> &quot;</span><span style="color:#F1FA8C;" data-v-2e9c4fcc>MultiPolygon</span><span style="color:#E9F284;" data-v-2e9c4fcc>&quot;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>      // 多个，多边形</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>      coordinates.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>forEach</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>((</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>coordinate</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=&gt;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>        // console.log(coordinate);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>        // coordinate 多边形数据</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>        coordinate.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>forEach</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>((</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>rows</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=&gt;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>          const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> mesh </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#50FA7B;" data-v-2e9c4fcc> drawExtrudeMesh</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(rows, color, projection1);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>          const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> line </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#50FA7B;" data-v-2e9c4fcc> lineDraw</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(rows, color, projection1);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>          // 唯一标识</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>          mesh.properties </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> feature.properties.name;</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>          province.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>add</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(line);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>          province.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>add</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(mesh);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>        });</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>      });</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    }</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    if</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> (feature.geometry.type </span><span style="color:#FF79C6;" data-v-2e9c4fcc>===</span><span style="color:#E9F284;" data-v-2e9c4fcc> &quot;</span><span style="color:#F1FA8C;" data-v-2e9c4fcc>Polygon</span><span style="color:#E9F284;" data-v-2e9c4fcc>&quot;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>      // 多边形</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>      coordinates.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>forEach</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>((</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>coordinate</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=&gt;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>        const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> mesh </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#50FA7B;" data-v-2e9c4fcc> drawExtrudeMesh</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(coordinate, color, projection1);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>        const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> line </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#50FA7B;" data-v-2e9c4fcc> lineDraw</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(coordinate, color, projection1);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>        // 唯一标识</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>        mesh.properties </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> feature.properties.name;</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>        province.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>add</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(line);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>        province.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>add</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(mesh);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>      });</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    }</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    map.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>add</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(province);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  });</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  scene.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>add</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(map);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>}</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>function</span><span style="color:#50FA7B;" data-v-2e9c4fcc> lineDraw</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>polygon</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>, </span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>color</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>, </span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>projection</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> lineGeometry </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>BufferGeometry</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>();</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> pointsArray </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#50FA7B;" data-v-2e9c4fcc> Array</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>();</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  polygon.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>forEach</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>((</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>row</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=&gt;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> [x, y] </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#50FA7B;" data-v-2e9c4fcc> projection</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(row);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>    // 创建三维点</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    pointsArray.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>push</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc>new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>Vector3</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(x, </span><span style="color:#FF79C6;" data-v-2e9c4fcc>-</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>y, </span><span style="color:#BD93F9;" data-v-2e9c4fcc>9</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>));</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  });</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>  // 放入多个点</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  lineGeometry.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>setFromPoints</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(pointsArray);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>  // 生成随机颜色</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> lineColor </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>Color</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    Math.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>random</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>() </span><span style="color:#FF79C6;" data-v-2e9c4fcc>*</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0.5</span><span style="color:#FF79C6;" data-v-2e9c4fcc> +</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0.5</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>,</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    Math.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>random</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>() </span><span style="color:#FF79C6;" data-v-2e9c4fcc>*</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0.5</span><span style="color:#FF79C6;" data-v-2e9c4fcc> +</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0.5</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>,</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    Math.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>random</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>() </span><span style="color:#FF79C6;" data-v-2e9c4fcc>*</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0.5</span><span style="color:#FF79C6;" data-v-2e9c4fcc> +</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0.5</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  );</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> lineMaterial </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>LineBasicMaterial</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>({</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    color</span><span style="color:#FF79C6;" data-v-2e9c4fcc>:</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> lineColor,</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  });</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  return</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>Line</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(lineGeometry, lineMaterial);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>}</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>// 根据经纬度坐标生成物体</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>function</span><span style="color:#50FA7B;" data-v-2e9c4fcc> drawExtrudeMesh</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>polygon</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>, </span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>color</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>, </span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>projection</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> shape </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>Shape</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>();</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>  // console.log(polygon, projection);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  polygon.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>forEach</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>((</span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>row</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>, </span><span style="color:#FFB86C;font-style:italic;" data-v-2e9c4fcc>i</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=&gt;</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> [x, y] </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#50FA7B;" data-v-2e9c4fcc> projection</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(row);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>    // console.log(row, [x, y]);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>    if</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> (i </span><span style="color:#FF79C6;" data-v-2e9c4fcc>===</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>      // 创建起点,使用moveTo方法</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>      // 因为计算出来的y是反过来，所以要进行颠倒</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>      shape.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>moveTo</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(x, </span><span style="color:#FF79C6;" data-v-2e9c4fcc>-</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>y);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    }</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    shape.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>lineTo</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(x, </span><span style="color:#FF79C6;" data-v-2e9c4fcc>-</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>y);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  });</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>  // 拉伸</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> geometry </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>ExtrudeGeometry</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(shape, {</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    depth</span><span style="color:#FF79C6;" data-v-2e9c4fcc>:</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 5</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>,</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    bevelEnabled</span><span style="color:#FF79C6;" data-v-2e9c4fcc>:</span><span style="color:#BD93F9;" data-v-2e9c4fcc> true</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>,</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  });</span></span>
<span class="line" data-v-2e9c4fcc></span>
<span class="line" data-v-2e9c4fcc><span style="color:#6272A4;" data-v-2e9c4fcc>  // 随机颜色</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> randomColor </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> (</span><span style="color:#BD93F9;" data-v-2e9c4fcc>0.5</span><span style="color:#FF79C6;" data-v-2e9c4fcc> +</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> Math.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>random</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>() </span><span style="color:#FF79C6;" data-v-2e9c4fcc>*</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0.5</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>) </span><span style="color:#FF79C6;" data-v-2e9c4fcc>*</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0xffffff</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>;</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  const</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> material </span><span style="color:#FF79C6;" data-v-2e9c4fcc>=</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>MeshBasicMaterial</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>({</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    color</span><span style="color:#FF79C6;" data-v-2e9c4fcc>:</span><span style="color:#F8F8F2;" data-v-2e9c4fcc> randomColor,</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    transparent</span><span style="color:#FF79C6;" data-v-2e9c4fcc>:</span><span style="color:#BD93F9;" data-v-2e9c4fcc> true</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>,</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>    opacity</span><span style="color:#FF79C6;" data-v-2e9c4fcc>:</span><span style="color:#BD93F9;" data-v-2e9c4fcc> 0.5</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>,</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>  });</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#FF79C6;" data-v-2e9c4fcc>  return</span><span style="color:#FF79C6;font-weight:bold;" data-v-2e9c4fcc> new</span><span style="color:#BD93F9;" data-v-2e9c4fcc> THREE</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>.</span><span style="color:#50FA7B;" data-v-2e9c4fcc>Mesh</span><span style="color:#F8F8F2;" data-v-2e9c4fcc>(geometry, material);</span></span>
<span class="line" data-v-2e9c4fcc><span style="color:#F8F8F2;" data-v-2e9c4fcc>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;" data-v-2e9c4fcc><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div><div class="line-number" data-v-2e9c4fcc></div></div></div>`,1)),o2("div",I3,null,512)])}const G3=a2(P3,[["render",B3],["__scopeId","data-v-2e9c4fcc"],["__file","threejs-3d-map.html.vue"]]),X3=JSON.parse('{"path":"/threejs/threejs-3d-map.html","title":"ThreeJS中的GeoJSON地图","lang":"en-US","frontmatter":{"title":"ThreeJS中的GeoJSON地图","category":["ThreeJS"],"date":"2022-04-02T00:00:00.000Z","head":[["meta",{"property":"og:url","content":"https://luxiag.github.io/luxiag/blog/threejs/threejs-3d-map.html"}],["meta",{"property":"og:title","content":"ThreeJS中的GeoJSON地图"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-11-10T14:15:12.000Z"}],["meta",{"property":"article:published_time","content":"2022-04-02T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-10T14:15:12.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ThreeJS中的GeoJSON地图\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-04-02T00:00:00.000Z\\",\\"dateModified\\":\\"2024-11-10T14:15:12.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"luxiag\\",\\"url\\":\\"https://luxiag.github.io/luxiag\\"}]}"]]},"headers":[],"git":{"createdTime":1682236028000,"updatedTime":1731248112000,"contributors":[{"name":"luxiag","email":"luxiag@qq.com","commits":5},{"name":"卢祥","email":"example@qq.com","commits":3}]},"readingTime":{"minutes":3.71,"words":1114},"filePathRelative":"threejs/threejs-3d-map.md","localizedDate":"April 2, 2022","excerpt":"<div class=\\"language-js line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"js\\" data-title=\\"js\\" style=\\"background-color:#282A36;color:#F8F8F2\\"><pre class=\\"shiki dracula vp-code\\"><code><span class=\\"line\\"><span style=\\"color:#FF79C6\\">const</span><span style=\\"color:#F8F8F2\\"> loader </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">FileLoader</span><span style=\\"color:#F8F8F2\\">();</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">loader.</span><span style=\\"color:#50FA7B\\">load</span><span style=\\"color:#F8F8F2\\">(</span><span style=\\"color:#E9F284\\">\\"</span><span style=\\"color:#F1FA8C\\">/geojson/china.json</span><span style=\\"color:#E9F284\\">\\"</span><span style=\\"color:#F8F8F2\\">,(</span><span style=\\"color:#FFB86C;font-style:italic\\">data</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#FF79C6\\">=&gt;</span><span style=\\"color:#F8F8F2\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    const</span><span style=\\"color:#F8F8F2\\"> jsData </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#BD93F9\\"> JSON</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">parse</span><span style=\\"color:#F8F8F2\\">(data)</span></span>\\n<span class=\\"line\\"><span style=\\"color:#50FA7B\\">    operationData</span><span style=\\"color:#F8F8F2\\">(jsData)</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">})</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">function</span><span style=\\"color:#50FA7B\\"> operationData</span><span style=\\"color:#F8F8F2\\">(</span><span style=\\"color:#FFB86C;font-style:italic\\">jsondata</span><span style=\\"color:#F8F8F2\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">  // 全国信息</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> features </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#F8F8F2\\"> jsondata.features;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  features.</span><span style=\\"color:#50FA7B\\">forEach</span><span style=\\"color:#F8F8F2\\">((</span><span style=\\"color:#FFB86C;font-style:italic\\">feature</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#FF79C6\\">=&gt;</span><span style=\\"color:#F8F8F2\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">    // 单个省份 对象</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    const</span><span style=\\"color:#F8F8F2\\"> province </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">Object3D</span><span style=\\"color:#F8F8F2\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">    // 地址</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    province.properties </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#F8F8F2\\"> feature.properties.name;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    const</span><span style=\\"color:#F8F8F2\\"> coordinates </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#F8F8F2\\"> feature.geometry.coordinates;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    const</span><span style=\\"color:#F8F8F2\\"> color </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#E9F284\\"> \\"</span><span style=\\"color:#F1FA8C\\">#99ff99</span><span style=\\"color:#E9F284\\">\\"</span><span style=\\"color:#F8F8F2\\">;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    if</span><span style=\\"color:#F8F8F2\\"> (feature.geometry.type </span><span style=\\"color:#FF79C6\\">===</span><span style=\\"color:#E9F284\\"> \\"</span><span style=\\"color:#F1FA8C\\">MultiPolygon</span><span style=\\"color:#E9F284\\">\\"</span><span style=\\"color:#F8F8F2\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">      // 多个，多边形</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">      coordinates.</span><span style=\\"color:#50FA7B\\">forEach</span><span style=\\"color:#F8F8F2\\">((</span><span style=\\"color:#FFB86C;font-style:italic\\">coordinate</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#FF79C6\\">=&gt;</span><span style=\\"color:#F8F8F2\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">        // console.log(coordinate);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">        // coordinate 多边形数据</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">        coordinate.</span><span style=\\"color:#50FA7B\\">forEach</span><span style=\\"color:#F8F8F2\\">((</span><span style=\\"color:#FFB86C;font-style:italic\\">rows</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#FF79C6\\">=&gt;</span><span style=\\"color:#F8F8F2\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">          const</span><span style=\\"color:#F8F8F2\\"> mesh </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#50FA7B\\"> drawExtrudeMesh</span><span style=\\"color:#F8F8F2\\">(rows, color, projection1);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">          const</span><span style=\\"color:#F8F8F2\\"> line </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#50FA7B\\"> lineDraw</span><span style=\\"color:#F8F8F2\\">(rows, color, projection1);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">          // 唯一标识</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">          mesh.properties </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#F8F8F2\\"> feature.properties.name;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">          province.</span><span style=\\"color:#50FA7B\\">add</span><span style=\\"color:#F8F8F2\\">(line);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">          province.</span><span style=\\"color:#50FA7B\\">add</span><span style=\\"color:#F8F8F2\\">(mesh);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">        });</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">      });</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    }</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    if</span><span style=\\"color:#F8F8F2\\"> (feature.geometry.type </span><span style=\\"color:#FF79C6\\">===</span><span style=\\"color:#E9F284\\"> \\"</span><span style=\\"color:#F1FA8C\\">Polygon</span><span style=\\"color:#E9F284\\">\\"</span><span style=\\"color:#F8F8F2\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">      // 多边形</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">      coordinates.</span><span style=\\"color:#50FA7B\\">forEach</span><span style=\\"color:#F8F8F2\\">((</span><span style=\\"color:#FFB86C;font-style:italic\\">coordinate</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#FF79C6\\">=&gt;</span><span style=\\"color:#F8F8F2\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">        const</span><span style=\\"color:#F8F8F2\\"> mesh </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#50FA7B\\"> drawExtrudeMesh</span><span style=\\"color:#F8F8F2\\">(coordinate, color, projection1);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">        const</span><span style=\\"color:#F8F8F2\\"> line </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#50FA7B\\"> lineDraw</span><span style=\\"color:#F8F8F2\\">(coordinate, color, projection1);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">        // 唯一标识</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">        mesh.properties </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#F8F8F2\\"> feature.properties.name;</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">        province.</span><span style=\\"color:#50FA7B\\">add</span><span style=\\"color:#F8F8F2\\">(line);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">        province.</span><span style=\\"color:#50FA7B\\">add</span><span style=\\"color:#F8F8F2\\">(mesh);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">      });</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    map.</span><span style=\\"color:#50FA7B\\">add</span><span style=\\"color:#F8F8F2\\">(province);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  });</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  scene.</span><span style=\\"color:#50FA7B\\">add</span><span style=\\"color:#F8F8F2\\">(map);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">function</span><span style=\\"color:#50FA7B\\"> lineDraw</span><span style=\\"color:#F8F8F2\\">(</span><span style=\\"color:#FFB86C;font-style:italic\\">polygon</span><span style=\\"color:#F8F8F2\\">, </span><span style=\\"color:#FFB86C;font-style:italic\\">color</span><span style=\\"color:#F8F8F2\\">, </span><span style=\\"color:#FFB86C;font-style:italic\\">projection</span><span style=\\"color:#F8F8F2\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> lineGeometry </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">BufferGeometry</span><span style=\\"color:#F8F8F2\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> pointsArray </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#50FA7B\\"> Array</span><span style=\\"color:#F8F8F2\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  polygon.</span><span style=\\"color:#50FA7B\\">forEach</span><span style=\\"color:#F8F8F2\\">((</span><span style=\\"color:#FFB86C;font-style:italic\\">row</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#FF79C6\\">=&gt;</span><span style=\\"color:#F8F8F2\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    const</span><span style=\\"color:#F8F8F2\\"> [x, y] </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#50FA7B\\"> projection</span><span style=\\"color:#F8F8F2\\">(row);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">    // 创建三维点</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    pointsArray.</span><span style=\\"color:#50FA7B\\">push</span><span style=\\"color:#F8F8F2\\">(</span><span style=\\"color:#FF79C6;font-weight:bold\\">new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">Vector3</span><span style=\\"color:#F8F8F2\\">(x, </span><span style=\\"color:#FF79C6\\">-</span><span style=\\"color:#F8F8F2\\">y, </span><span style=\\"color:#BD93F9\\">9</span><span style=\\"color:#F8F8F2\\">));</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  });</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">  // 放入多个点</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  lineGeometry.</span><span style=\\"color:#50FA7B\\">setFromPoints</span><span style=\\"color:#F8F8F2\\">(pointsArray);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">  // 生成随机颜色</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> lineColor </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">Color</span><span style=\\"color:#F8F8F2\\">(</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    Math.</span><span style=\\"color:#50FA7B\\">random</span><span style=\\"color:#F8F8F2\\">() </span><span style=\\"color:#FF79C6\\">*</span><span style=\\"color:#BD93F9\\"> 0.5</span><span style=\\"color:#FF79C6\\"> +</span><span style=\\"color:#BD93F9\\"> 0.5</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    Math.</span><span style=\\"color:#50FA7B\\">random</span><span style=\\"color:#F8F8F2\\">() </span><span style=\\"color:#FF79C6\\">*</span><span style=\\"color:#BD93F9\\"> 0.5</span><span style=\\"color:#FF79C6\\"> +</span><span style=\\"color:#BD93F9\\"> 0.5</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    Math.</span><span style=\\"color:#50FA7B\\">random</span><span style=\\"color:#F8F8F2\\">() </span><span style=\\"color:#FF79C6\\">*</span><span style=\\"color:#BD93F9\\"> 0.5</span><span style=\\"color:#FF79C6\\"> +</span><span style=\\"color:#BD93F9\\"> 0.5</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  );</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> lineMaterial </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">LineBasicMaterial</span><span style=\\"color:#F8F8F2\\">({</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    color</span><span style=\\"color:#FF79C6\\">:</span><span style=\\"color:#F8F8F2\\"> lineColor,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  });</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  return</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">Line</span><span style=\\"color:#F8F8F2\\">(lineGeometry, lineMaterial);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">// 根据经纬度坐标生成物体</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">function</span><span style=\\"color:#50FA7B\\"> drawExtrudeMesh</span><span style=\\"color:#F8F8F2\\">(</span><span style=\\"color:#FFB86C;font-style:italic\\">polygon</span><span style=\\"color:#F8F8F2\\">, </span><span style=\\"color:#FFB86C;font-style:italic\\">color</span><span style=\\"color:#F8F8F2\\">, </span><span style=\\"color:#FFB86C;font-style:italic\\">projection</span><span style=\\"color:#F8F8F2\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> shape </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">Shape</span><span style=\\"color:#F8F8F2\\">();</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">  // console.log(polygon, projection);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  polygon.</span><span style=\\"color:#50FA7B\\">forEach</span><span style=\\"color:#F8F8F2\\">((</span><span style=\\"color:#FFB86C;font-style:italic\\">row</span><span style=\\"color:#F8F8F2\\">, </span><span style=\\"color:#FFB86C;font-style:italic\\">i</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#FF79C6\\">=&gt;</span><span style=\\"color:#F8F8F2\\"> {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    const</span><span style=\\"color:#F8F8F2\\"> [x, y] </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#50FA7B\\"> projection</span><span style=\\"color:#F8F8F2\\">(row);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">    // console.log(row, [x, y]);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">    if</span><span style=\\"color:#F8F8F2\\"> (i </span><span style=\\"color:#FF79C6\\">===</span><span style=\\"color:#BD93F9\\"> 0</span><span style=\\"color:#F8F8F2\\">) {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">      // 创建起点,使用moveTo方法</span></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">      // 因为计算出来的y是反过来，所以要进行颠倒</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">      shape.</span><span style=\\"color:#50FA7B\\">moveTo</span><span style=\\"color:#F8F8F2\\">(x, </span><span style=\\"color:#FF79C6\\">-</span><span style=\\"color:#F8F8F2\\">y);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    }</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    shape.</span><span style=\\"color:#50FA7B\\">lineTo</span><span style=\\"color:#F8F8F2\\">(x, </span><span style=\\"color:#FF79C6\\">-</span><span style=\\"color:#F8F8F2\\">y);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  });</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">  // 拉伸</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> geometry </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">ExtrudeGeometry</span><span style=\\"color:#F8F8F2\\">(shape, {</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    depth</span><span style=\\"color:#FF79C6\\">:</span><span style=\\"color:#BD93F9\\"> 5</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    bevelEnabled</span><span style=\\"color:#FF79C6\\">:</span><span style=\\"color:#BD93F9\\"> true</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  });</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#6272A4\\">  // 随机颜色</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> randomColor </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#F8F8F2\\"> (</span><span style=\\"color:#BD93F9\\">0.5</span><span style=\\"color:#FF79C6\\"> +</span><span style=\\"color:#F8F8F2\\"> Math.</span><span style=\\"color:#50FA7B\\">random</span><span style=\\"color:#F8F8F2\\">() </span><span style=\\"color:#FF79C6\\">*</span><span style=\\"color:#BD93F9\\"> 0.5</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#FF79C6\\">*</span><span style=\\"color:#BD93F9\\"> 0xffffff</span><span style=\\"color:#F8F8F2\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  const</span><span style=\\"color:#F8F8F2\\"> material </span><span style=\\"color:#FF79C6\\">=</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">MeshBasicMaterial</span><span style=\\"color:#F8F8F2\\">({</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    color</span><span style=\\"color:#FF79C6\\">:</span><span style=\\"color:#F8F8F2\\"> randomColor,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    transparent</span><span style=\\"color:#FF79C6\\">:</span><span style=\\"color:#BD93F9\\"> true</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    opacity</span><span style=\\"color:#FF79C6\\">:</span><span style=\\"color:#BD93F9\\"> 0.5</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">  });</span></span>\\n<span class=\\"line\\"><span style=\\"color:#FF79C6\\">  return</span><span style=\\"color:#FF79C6;font-weight:bold\\"> new</span><span style=\\"color:#BD93F9\\"> THREE</span><span style=\\"color:#F8F8F2\\">.</span><span style=\\"color:#50FA7B\\">Mesh</span><span style=\\"color:#F8F8F2\\">(geometry, material);</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">}</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{G3 as comp,X3 as data};
